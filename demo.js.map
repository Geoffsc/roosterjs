{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///external \"roosterjs\"","webpack:///external \"React\"","webpack:///external \"FluentUIReact\"","webpack:///./node_modules/css-loader/dist/runtime/api.js","webpack:///./node_modules/@microsoft/loader-load-themed-styles/node_modules/@microsoft/load-themed-styles/lib/index.js","webpack:///./demo/scripts/controls/sidePane/editorOptions/codes/CodeElement.ts","webpack:///./demo/scripts/controls/MainPaneBase.tsx","webpack:///external \"ReactDOM\"","webpack:///./demo/scripts/utils/trustedHTMLHandler.ts","webpack:///./demo/scripts/controls/sidePane/SidePanePluginImpl.tsx","webpack:///./demo/scripts/controls/BuildInPluginState.ts","webpack:///./demo/scripts/controls/sidePane/editorOptions/OptionsPane.scss?0256","webpack:///./packages-ui/roosterjs-react/lib/common/index.ts","webpack:///./packages-ui/roosterjs-react/lib/common/utils/getLocalizedString.ts","webpack:///./node_modules/color/index.js","webpack:///./node_modules/color-name/index.js","webpack:///./node_modules/color-convert/conversions.js","webpack:///./demo/scripts/controls/sidePane/editorOptions/getDefaultContentEditFeatureSettings.ts","webpack:///./demo/scripts/controls/sidePane/editorOptions/codes/EditorCode.ts","webpack:///./demo/scripts/controls/sidePane/editorOptions/codes/DarkModeCode.ts","webpack:///./demo/scripts/controls/sidePane/editorOptions/codes/DefaultFormatCode.ts","webpack:///./demo/scripts/controls/sidePane/editorOptions/codes/ExperimentalFeaturesCode.ts","webpack:///./demo/scripts/controls/sidePane/editorOptions/codes/PluginsCode.ts","webpack:///./packages-ui/roosterjs-react/lib/rooster/type/UpdateMode.ts","webpack:///./packages-ui/roosterjs-react/lib/ribbon/type/KnownRibbonButton.ts","webpack:///./packages-ui/roosterjs-react/lib/ribbon/component/buttons/colorPicker.tsx","webpack:///./packages-ui/roosterjs-react/lib/pasteOptions/utils/buttons.ts","webpack:///./demo/scripts/index.ts","webpack:///./demo/scripts/controls/MainPane.tsx","webpack:///./demo/scripts/controls/sidePane/apiPlayground/ApiPlaygroundPlugin.ts","webpack:///./demo/scripts/controls/sidePane/apiPlayground/ApiPlaygroundPane.tsx","webpack:///./demo/scripts/controls/sidePane/apiPlayground/apiEntries.ts","webpack:///./demo/scripts/controls/sidePane/apiPlayground/blockElements/BlockElementsPane.tsx","webpack:///./demo/scripts/controls/sidePane/apiPlayground/blockElements/BlockElementsPane.scss?4dfd","webpack:///./demo/scripts/controls/sidePane/apiPlayground/blockElements/BlockElementsPane.scss","webpack:///(webpack)/buildin/global.js","webpack:///./demo/scripts/controls/sidePane/apiPlayground/darkColor/GetDarkColorPane.tsx","webpack:///./demo/scripts/controls/sidePane/apiPlayground/darkColor/GetDarkColorPane.scss?7670","webpack:///./demo/scripts/controls/sidePane/apiPlayground/darkColor/GetDarkColorPane.scss","webpack:///./demo/scripts/controls/sidePane/apiPlayground/region/GetSelectedRegionsPane.tsx","webpack:///./demo/scripts/controls/sidePane/apiPlayground/region/GetSelectedRegionsPane.scss?59e5","webpack:///./demo/scripts/controls/sidePane/apiPlayground/region/GetSelectedRegionsPane.scss","webpack:///./demo/scripts/controls/sidePane/apiPlayground/insertContent/InsertContentPane.tsx","webpack:///./demo/scripts/controls/sidePane/apiPlayground/insertContent/InsertContentPane.scss?b07e","webpack:///./demo/scripts/controls/sidePane/apiPlayground/insertContent/InsertContentPane.scss","webpack:///./demo/scripts/controls/sidePane/apiPlayground/insertEntity/InsertEntityPane.tsx","webpack:///./node_modules/dompurify/dist/purify.js","webpack:///./demo/scripts/controls/sidePane/apiPlayground/insertEntity/InsertEntityPane.scss?0f9b","webpack:///./demo/scripts/controls/sidePane/apiPlayground/insertEntity/InsertEntityPane.scss","webpack:///./demo/scripts/controls/sidePane/apiPlayground/matchLink/MatchLinkPane.tsx","webpack:///./demo/scripts/controls/sidePane/apiPlayground/sanitizer/SanitizerPane.tsx","webpack:///./demo/scripts/controls/sidePane/apiPlayground/sanitizer/SanitizerPane.scss?aa23","webpack:///./demo/scripts/controls/sidePane/apiPlayground/sanitizer/SanitizerPane.scss","webpack:///./demo/scripts/controls/sidePane/apiPlayground/vlist/VListPane.tsx","webpack:///./demo/scripts/controls/sidePane/apiPlayground/vtable/VTablePane.tsx","webpack:///./node_modules/color-string/index.js","webpack:///./node_modules/simple-swizzle/index.js","webpack:///./node_modules/is-arrayish/index.js","webpack:///./node_modules/color-convert/index.js","webpack:///./node_modules/color-convert/route.js","webpack:///./demo/scripts/controls/colorPicker/ColorPicker.tsx","webpack:///./demo/scripts/controls/colorPicker/ColorPicker.scss?ff0a","webpack:///./demo/scripts/controls/colorPicker/ColorPicker.scss","webpack:///./demo/scripts/controls/sidePane/apiPlayground/vtable/VTablePane.scss?096f","webpack:///./demo/scripts/controls/sidePane/apiPlayground/vtable/VTablePane.scss","webpack:///./demo/scripts/controls/sidePane/apiPlayground/ApiPlaygroundPane.scss?bc97","webpack:///./demo/scripts/controls/sidePane/apiPlayground/ApiPlaygroundPane.scss","webpack:///./demo/scripts/controls/sidePane/editorOptions/EditorOptionsPlugin.ts","webpack:///./demo/scripts/controls/sidePane/editorOptions/OptionsPane.tsx","webpack:///./demo/scripts/controls/sidePane/editorOptions/Code.tsx","webpack:///./demo/scripts/controls/sidePane/editorOptions/codes/ButtonsCode.ts","webpack:///./demo/scripts/controls/sidePane/editorOptions/codes/ContentEditCode.ts","webpack:///./demo/scripts/controls/sidePane/editorOptions/codes/ContentEditFeaturesCode.ts","webpack:///./demo/scripts/controls/sidePane/editorOptions/codes/HyperLinkCode.ts","webpack:///./demo/scripts/controls/sidePane/editorOptions/codes/PickerPluginCode.ts","webpack:///./demo/scripts/controls/sidePane/editorOptions/codes/TableCellSelectionCode.ts","webpack:///./demo/scripts/controls/sidePane/editorOptions/codes/WatermarkCode.ts","webpack:///./demo/scripts/controls/sidePane/editorOptions/codes/SimplePluginCode.ts","webpack:///./demo/scripts/controls/sidePane/editorOptions/ContentEditFeatures.tsx","webpack:///./demo/scripts/controls/sidePane/editorOptions/OptionsPane.scss","webpack:///./demo/scripts/controls/sidePane/editorOptions/DefaultFormat.tsx","webpack:///./demo/scripts/controls/sidePane/editorOptions/ExperimentalFeatures.tsx","webpack:///./demo/scripts/controls/sidePane/editorOptions/Plugins.tsx","webpack:///./demo/scripts/controls/sidePane/editorOptions/codes/ReactEditorCode.ts","webpack:///./demo/scripts/controls/sidePane/editorOptions/codes/RibbonButtonCode.ts","webpack:///./demo/scripts/controls/sidePane/editorOptions/codes/RibbonCode.ts","webpack:///./demo/scripts/controls/sidePane/eventViewer/EventViewPlugin.ts","webpack:///./demo/scripts/controls/sidePane/eventViewer/EventViewPane.tsx","webpack:///./demo/scripts/controls/sidePane/eventViewer/EventViewPane.scss?833e","webpack:///./demo/scripts/controls/sidePane/eventViewer/EventViewPane.scss","webpack:///./demo/scripts/controls/sidePane/formatState/FormatStatePlugin.ts","webpack:///./demo/scripts/controls/sidePane/formatState/FormatStatePane.tsx","webpack:///./demo/scripts/controls/sidePane/formatState/FormatStatePane.scss?b011","webpack:///./demo/scripts/controls/sidePane/formatState/FormatStatePane.scss","webpack:///./demo/scripts/controls/getToggleablePlugins.ts","webpack:///./demo/scripts/controls/contextMenu/ImageEditPlugin.ts","webpack:///./demo/scripts/controls/contextMenu/ResetListPlugin.ts","webpack:///./demo/scripts/controls/samplepicker/SampleColorPickerPluginDataProvider.tsx","webpack:///./demo/scripts/controls/samplepicker/SampleColorPicker.tsx","webpack:///./demo/scripts/controls/samplepicker/SampleColorPicker.scss?e1e3","webpack:///./demo/scripts/controls/samplepicker/SampleColorPicker.scss","webpack:///./demo/scripts/controls/contextMenu/ContextMenuProvider.tsx","webpack:///./demo/scripts/controls/contextMenu/ContextMenuProvider.scss?472b","webpack:///./demo/scripts/controls/contextMenu/ContextMenuProvider.scss","webpack:///./demo/scripts/controls/sidePane/SidePane.tsx","webpack:///./demo/scripts/controls/sidePane/SidePane.scss?498b","webpack:///./demo/scripts/controls/sidePane/SidePane.scss","webpack:///./demo/scripts/controls/sidePane/snapshot/SnapshotPlugin.tsx","webpack:///./demo/scripts/controls/sidePane/snapshot/SnapshotPane.tsx","webpack:///./demo/scripts/controls/sidePane/snapshot/SnapshotPane.scss?bae5","webpack:///./demo/scripts/controls/sidePane/snapshot/SnapshotPane.scss","webpack:///./demo/scripts/controls/sidePane/snapshot/UndoSnapshots.ts","webpack:///./demo/scripts/controls/titleBar/TitleBar.tsx","webpack:///./demo/scripts/controls/titleBar/TitleBar.scss?5f71","webpack:///./demo/scripts/controls/titleBar/TitleBar.scss","webpack:///./demo/scripts/controls/titleBar/iconmonstr-github-1.svg","webpack:///./demo/scripts/controls/ribbonButtons/darkMode.ts","webpack:///./demo/scripts/controls/ribbonButtons/export.ts","webpack:///./demo/scripts/controls/ribbonButtons/popout.ts","webpack:///./demo/scripts/utils/cssMonitor.ts","webpack:///./demo/scripts/controls/ribbonButtons/tableEditOperations.ts","webpack:///./demo/scripts/controls/ribbonButtons/zoom.ts","webpack:///./packages-ui/roosterjs-react/lib/index.ts","webpack:///./packages-ui/roosterjs-react/lib/common/utils/createUIUtilities.tsx","webpack:///./packages-ui/roosterjs-react/lib/rooster/index.ts","webpack:///./packages-ui/roosterjs-react/lib/rooster/component/Rooster.tsx","webpack:///./packages-ui/roosterjs-react/lib/rooster/plugin/createUpdateContentPlugin.ts","webpack:///./packages-ui/roosterjs-react/lib/ribbon/index.ts","webpack:///./packages-ui/roosterjs-react/lib/ribbon/component/Ribbon.tsx","webpack:///./packages-ui/roosterjs-react/lib/ribbon/component/buttons/moreCommands.ts","webpack:///./packages-ui/roosterjs-react/lib/ribbon/component/getButtons.ts","webpack:///./packages-ui/roosterjs-react/lib/ribbon/component/buttons/alignCenter.ts","webpack:///./packages-ui/roosterjs-react/lib/ribbon/component/buttons/alignLeft.ts","webpack:///./packages-ui/roosterjs-react/lib/ribbon/component/buttons/alignRight.ts","webpack:///./packages-ui/roosterjs-react/lib/ribbon/component/buttons/backgroundColor.ts","webpack:///./packages-ui/roosterjs-react/lib/ribbon/component/buttons/bold.ts","webpack:///./packages-ui/roosterjs-react/lib/ribbon/component/buttons/bulletedList.ts","webpack:///./packages-ui/roosterjs-react/lib/ribbon/component/buttons/clearFormat.ts","webpack:///./packages-ui/roosterjs-react/lib/ribbon/component/buttons/code.ts","webpack:///./packages-ui/roosterjs-react/lib/ribbon/component/buttons/decreaseFontSize.ts","webpack:///./packages-ui/roosterjs-react/lib/ribbon/component/buttons/decreaseIndent.ts","webpack:///./packages-ui/roosterjs-react/lib/ribbon/component/buttons/font.ts","webpack:///./packages-ui/roosterjs-react/lib/ribbon/component/buttons/fontSize.ts","webpack:///./packages-ui/roosterjs-react/lib/ribbon/component/buttons/header.ts","webpack:///./packages-ui/roosterjs-react/lib/ribbon/component/buttons/increaseFontSize.ts","webpack:///./packages-ui/roosterjs-react/lib/ribbon/component/buttons/increaseIndent.ts","webpack:///./packages-ui/roosterjs-react/lib/ribbon/component/buttons/insertImage.ts","webpack:///./packages-ui/roosterjs-react/lib/ribbon/component/buttons/insertLink.tsx","webpack:///./packages-ui/roosterjs-react/lib/ribbon/component/buttons/insertTable.tsx","webpack:///./packages-ui/roosterjs-react/lib/ribbon/component/buttons/italic.ts","webpack:///./packages-ui/roosterjs-react/lib/ribbon/component/buttons/ltr.ts","webpack:///./packages-ui/roosterjs-react/lib/ribbon/component/buttons/numberedList.ts","webpack:///./packages-ui/roosterjs-react/lib/ribbon/component/buttons/quote.ts","webpack:///./packages-ui/roosterjs-react/lib/ribbon/component/buttons/redo.ts","webpack:///./packages-ui/roosterjs-react/lib/ribbon/component/buttons/removeLink.ts","webpack:///./packages-ui/roosterjs-react/lib/ribbon/component/buttons/rtl.ts","webpack:///./packages-ui/roosterjs-react/lib/ribbon/component/buttons/strikethrough.ts","webpack:///./packages-ui/roosterjs-react/lib/ribbon/component/buttons/subscript.ts","webpack:///./packages-ui/roosterjs-react/lib/ribbon/component/buttons/superscript.ts","webpack:///./packages-ui/roosterjs-react/lib/ribbon/component/buttons/textColor.ts","webpack:///./packages-ui/roosterjs-react/lib/ribbon/component/buttons/underline.ts","webpack:///./packages-ui/roosterjs-react/lib/ribbon/component/buttons/undo.ts","webpack:///./packages-ui/roosterjs-react/lib/ribbon/plugin/createRibbonPlugin.ts","webpack:///./packages-ui/roosterjs-react/lib/pasteOptions/index.ts","webpack:///./packages-ui/roosterjs-react/lib/pasteOptions/plugin/createPasteOptionPlugin.ts","webpack:///./packages-ui/roosterjs-react/lib/pasteOptions/component/showPasteOptionPane.tsx","webpack:///./demo/scripts/controls/ribbonButtons/tableAlignmentOperations.ts","webpack:///./demo/scripts/controls/MainPane.scss?4cfb","webpack:///./demo/scripts/controls/MainPane.scss"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","roosterjs","React","FluentUIReact","useSourceMap","list","toString","this","map","item","content","cssMapping","btoa","sourceMapping","sourceMap","base64","unescape","encodeURIComponent","JSON","stringify","data","concat","sourceURLs","sources","source","sourceRoot","join","cssWithMappingToString","mediaQuery","dedupe","alreadyImportedModules","length","id","_i","push","__assign","assign","arguments","apply","_root","window","global","_styleNonce","CSPSettings","nonce","_themeState","state","__themeState__","theme","undefined","lastStyleElement","registeredStyles","runState","perf","count","duration","flushTimer","buffer","registeredThemableStyles","initializeThemeState","_themeTokenRegex","now","performance","Date","measure","func","start","end","flush","styleArrays","slice","mergedStyleArray","applyThemableStyles","stylesArray","styleRecord","loadStyles","resolveThemableArray","styleString","styleArray","document","head","getElementsByTagName","styleElement","createElement","_a","themable","setAttribute","appendChild","createTextNode","ev","createEvent","initEvent","args","newStyle","dispatchEvent","record","themableStyle","registerStyles","clearStyles","option","clearStylesInternal","records","forEach","parentElement","removeChild","splitStyleArray","currentValue","themeSlot","themedValue","defaultValue","console","DEBUG","warn","rawString","splitStyles","styles","result","pos","tokenMatch","exec","matchIndex","index","substring","lastIndex","loadAsync","styleParts","Array","isArray","setTimeout","configureLoadStyles","loadStylesFn","configureRunMode","loadTheme","themableStyles","reloadStyles","detokenize","encode","src","replace","indent","split","line","props","MainPaneBase","instance","getInstance","Component","ReactDOM","html","DOMPurify","sanitize","ADD_TAGS","ADD_ATTR","WHOLE_DOCUMENT","RETURN_TRUSTED_TYPE","componentCtor","pluginName","title","component","createRef","getName","initialize","editor","dispose","getTitle","renderSidePane","updateHash","getComponentProps","ref","setHashPath","path","current","getComponent","callback","UrlPlaceholder","loader","locals","default","strings","defaultString","str","colorString","convert","_slice","skippedModels","hashedModelKeys","keys","model","labels","sort","limiters","Color","obj","Error","channels","color","valpha","newArr","zeroArray","splice","indexOf","alpha","hashedKeys","limit","Math","max","min","freeze","getset","channel","modifier","val","maxfn","v","assertArray","arr","string","toJSON","places","self","to","rgb","round","percentString","percent","array","unitArray","unitObject","g","b","num","Number","toFixed","roundTo","roundToPlace","red","green","blue","hue","saturationl","lightness","saturationv","chroma","gray","white","wblack","cyan","magenta","yellow","black","x","y","z","a","keyword","hex","rgbNumber","luminosity","lum","chan","pow","contrast","color2","lum1","lum2","level","contrastRatio","isDark","isLight","negate","lighten","ratio","hsl","darken","saturate","desaturate","whiten","hwb","blacken","grayscale","fade","opaquer","rotate","degrees","mix","mixinColor","weight","color1","w","w1","w2","newAlpha","raw","cssKeywords","reverseKeywords","hsv","cmyk","xyz","lab","lch","ansi16","ansi256","hcg","apple","h","delta","rdif","gdif","bdif","diff","diffc","k","reversed","currentClosestKeyword","currentClosestDistance","Infinity","distance","t1","t2","t3","smin","lmin","hi","floor","f","q","sl","vmin","wh","bl","y2","x2","z2","atan2","PI","sqrt","hr","cos","sin","ansi","mult","rem","toUpperCase","match","char","integer","parseInt","mg","pure","allFeatures","getAllFeatures","reduce","settings","defaultDisabled","plugins","defaultFormat","buttons","showRibbon","supportDarkMode","experimentalFeatures","darkMode","getCode","expermientalFeatures","code","darkModeSupported","bold","italic","underline","fontFamily","fontSize","textColor","backgroundColor","lines","filter","additionalPlugins","pluginList","contentEdit","contentEditFeatures","hyperlink","linkTitle","paste","PasteCode","watermark","watermarkText","imageEdit","ImageEditCode","cutPasteListChain","CutPasteListChainCode","tableResize","TableResizeCode","pickerPlugin","customReplace","CustomReplaceCode","tableCellSelection","plugin","UpdateMode","KnownRibbonButtonKey","BackgroundColorDropDownItems","backgroundColorCyan","backgroundColorGreen","backgroundColorYellow","backgroundColorOrange","backgroundColorRed","backgroundColorMagenta","backgroundColorLightCyan","backgroundColorLightGreen","backgroundColorLightYellow","backgroundColorLightOrange","backgroundColorLightRed","backgroundColorLightMagenta","backgroundColorWhite","backgroundColorLightGray","backgroundColorGray","backgroundColorDarkGray","backgroundColorDarkerGray","backgroundColorBlack","classNames","mergeStyleSets","colorPickerContainer","width","padding","overflow","colorMenuItem","display","height","minWidth","background","border","colorSquare","margin","borderStyle","borderWidth","borderColor","colorSquareBorder","colorSquareBorderWhite","TextColors","textColorLightBlue","lightModeColor","darkModeColor","textColorLightGreen","textColorLightYellow","textColorLightOrange","textColorLightRed","textColorLightPurple","textColorBlue","textColorGreen","textColorYellow","textColorOrange","textColorRed","textColorPurple","textColorDarkBlue","textColorDarkGreen","textColorDarkYellow","textColorDarkOrange","textColorDarkRed","textColorDarkPurple","textColorDarkerBlue","textColorDarkerGreen","textColorDarkerYellow","textColorDarkerOrange","textColorDarkerRed","textColorDarkerPurple","textColorWhite","textColorLightGray","textColorGray","textColorDarkGray","textColorDarkerGray","textColorBlack","BackgroundColors","AllColors","getColorPickerDropDown","items","itemClassName","allowLivePreview","itemRender","onClick","buttonColor","e","text","className","style","commandBarSubMenuProperties","Buttons","pasteOptionPasteAsIs","unlocalizedText","shortcut","icon","pasteOptionPasteText","pasteOptionMergeFormat","ButtonKeys","mount","getElementById","LightTheme","palette","themePrimary","themeLighterAlt","themeLighter","themeLight","themeTertiary","themeSecondary","themeDarkAlt","themeDark","themeDarker","neutralLighterAlt","neutralLighter","neutralLight","neutralQuaternaryAlt","neutralQuaternary","neutralTertiaryAlt","neutralTertiary","neutralSecondary","neutralPrimaryAlt","neutralPrimary","neutralDark","DarkTheme","themeMatch","matchMedia","toggleablePlugins","sidePane","onThemeChange","setState","isDarkMode","matches","onMouseDown","addEventListener","onMouseMove","onMouseUp","body","userSelect","mouseX","pageX","changeWidth","removeEventListener","onShowSidePane","showSidePane","resetEditor","onHideSidePane","location","hash","onUpdate","formatStatePlugin","editorOptionPlugin","eventViewPlugin","apiPlaygroundPlugin","snapshotPlugin","ribbonPlugin","createRibbonPlugin","pasteOptionPlugin","createPasteOptionPlugin","updateContentPlugin","createUpdateContentPlugin","OnDispose","mainWindowButtons","getButtons","AllButtonKeys","zoom","exportContent","popout","tableEdit","tableAlign","popoutWindowButtons","popoutWindow","initState","getBuildInPluginState","scale","editorCreator","isRtl","MainPane","render","ThemeProvider","applyTo","mainPane","noGrow","renderRibbon","renderPopout","renderMainPane","resetEditorPlugin","pluginState","forceUpdate","updateFormatState","setIsRibbonShown","isShown","setIsDarkModeSupported","isSupported","isDarkModeSupported","win","open","write","trustedHTMLHandler","unregisterWindowForCss","registerWindowForCss","popoutRoot","setScale","toggleDarkMode","setPageDirection","dir","componentDidMount","componentWillUnmount","isPopout","Ribbon","createPortal","WindowProvider","renderEditor","resizer","renderSidePaneButton","fullWidth","getSidePanePlugins","sidePaneFullWidth","allPlugins","getPlugins","editorStyles","transform","transformOrigin","editorContainer","Rooster","inDarkMode","getDarkColor","undoMetadataSnapshotService","getSnapshotService","zoomScale","initialContent","arrayPush","div","options","Editor","parent","base","getEditor","onPluginEvent","select","pane","onChange","componentClass","header","paneName","apiEntries","empty","block","sanitizer","matchlink","insertContent","region","entity","vlist","vtable","more","checkGetBlocks","update","runAsync","onGetBlocks","traverser","getBodyTraverser","currentBlockElement","blocks","getNextBlockElement","setBlocks","onMouseOver","getStartNode","getEndNode","type","htmlFor","isNodeBlockElement","renderBlock","onDoubleClick","collapse","eventType","checked","collapseToSingleElement","triggerContentChangedEvent","isNodeBlock","fontStyle","textContent","createRange","getTextContent","isBlockElement","___CSS_LOADER_API_IMPORT___","Function","lightColor","onInputChange","darkColor","lightBackground","darkBackground","getSelectedRegions","regions","clearAll","Region","selectRegion","useCallback","getSelectedBlockElementsInRegion","range","focus","NodeName","node","rootNode","nodeBefore","nodeAfter","mouseOver","safeInstanceOf","hover","mouseOut","trim","onMouseOut","regionNode","getTagOfNode","nodeValue","substr","position","updateCursor","replaceSelection","insertOnNewLine","addUndoSnapshot","setPosition","colSpan","buttonRow","entityType","hydratedHtml","styleInline","styleBlock","isReadonly","insertEntity","innerHTML","dataset","isBlock","onGetEntities","selector","getEntitySelector","allEntities","queryElements","getEntityFromElement","entities","textarea","EntityButton","wrapper","shadowRoot","setPrototypeOf","isFrozen","getPrototypeOf","getOwnPropertyDescriptor","seal","_ref","Reflect","construct","fun","thisValue","Func","arr2","from","_toConsumableArray","arrayForEach","unapply","arrayPop","pop","stringToLowerCase","String","toLowerCase","stringMatch","stringReplace","stringIndexOf","stringTrim","regExpTest","RegExp","test","typeErrorCreate","TypeError","_len2","_key2","thisArg","_len","_key","addToSet","set","element","lcElement","clone","newObject","lookupGetter","prop","desc","svg","svgFilters","svgDisallowed","mathMl","mathMlDisallowed","html$1","svg$1","mathMl$1","xml","MUSTACHE_EXPR","ERB_EXPR","DATA_ATTR","ARIA_ATTR","IS_ALLOWED_URI","IS_SCRIPT_OR_DATA","ATTR_WHITESPACE","_typeof","iterator","constructor","_toConsumableArray$1","getGlobal","_createTrustedTypesPolicy","trustedTypes","createPolicy","suffix","currentScript","hasAttribute","getAttribute","policyName","createHTML","html$$1","_","createDOMPurify","root","version","removed","nodeType","originalDocument","DocumentFragment","HTMLTemplateElement","Node","Element","NodeFilter","_window$NamedNodeMap","NamedNodeMap","MozNamedAttrMap","Text","Comment","DOMParser","ElementPrototype","cloneNode","getNextSibling","getChildNodes","getParentNode","template","ownerDocument","trustedTypesPolicy","emptyHTML","_document","implementation","createNodeIterator","createDocumentFragment","importNode","documentMode","hooks","createHTMLDocument","MUSTACHE_EXPR$$1","ERB_EXPR$$1","DATA_ATTR$$1","ARIA_ATTR$$1","IS_SCRIPT_OR_DATA$$1","ATTR_WHITESPACE$$1","IS_ALLOWED_URI$$1","ALLOWED_TAGS","DEFAULT_ALLOWED_TAGS","ALLOWED_ATTR","DEFAULT_ALLOWED_ATTR","FORBID_TAGS","FORBID_ATTR","ALLOW_ARIA_ATTR","ALLOW_DATA_ATTR","ALLOW_UNKNOWN_PROTOCOLS","SAFE_FOR_TEMPLATES","SET_CONFIG","FORCE_BODY","RETURN_DOM","RETURN_DOM_FRAGMENT","RETURN_DOM_IMPORT","SANITIZE_DOM","KEEP_CONTENT","IN_PLACE","USE_PROFILES","FORBID_CONTENTS","DATA_URI_TAGS","DEFAULT_DATA_URI_TAGS","URI_SAFE_ATTRIBUTES","DEFAULT_URI_SAFE_ATTRIBUTES","MATHML_NAMESPACE","SVG_NAMESPACE","HTML_NAMESPACE","NAMESPACE","IS_EMPTY_INPUT","CONFIG","formElement","_parseConfig","cfg","ADD_URI_SAFE_ATTR","ADD_DATA_URI_TAGS","ALLOWED_URI_REGEXP","table","tbody","MATHML_TEXT_INTEGRATION_POINTS","HTML_INTEGRATION_POINTS","ALL_SVG_TAGS","ALL_MATHML_TAGS","_checkValidNamespace","tagName","namespaceURI","parentTagName","Boolean","commonSvgAndHTMLElements","_forceRemove","parentNode","outerHTML","remove","_removeAttribute","attribute","getAttributeNode","removeAttribute","_initDocument","dirty","doc","leadingWhitespace","dirtyPayload","parseFromString","documentElement","createDocument","insertBefore","childNodes","_createIterator","SHOW_ELEMENT","SHOW_COMMENT","SHOW_TEXT","_isClobbered","elm","nodeName","attributes","_isNode","_executeHook","entryPoint","currentNode","hook","_sanitizeElements","allowedTags","firstElementChild","_isValidAttribute","lcTag","lcName","_sanitizeAttributes","attr","hookEvent","attrName","attrValue","keepAttr","allowedAttributes","_attr","forceKeepAttr","setAttributeNS","_sanitizeShadowDOM","fragment","shadowNode","shadowIterator","nextNode","importedNode","oldNode","returnNode","toStaticHTML","firstChild","nodeIterator","serializedHTML","setConfig","clearConfig","isValidAttribute","tag","addHook","hookFunction","removeHook","removeHooks","removeAllHooks","factory","url","onMatchLink","matchLink","linkData","scheme","originalUrl","normalizedUrl","HtmlSanitizer","inline","getDOMDocument","convertGlobalCssToInlineCss","button","parser","ListTypeToString","VListItemPane","getListType","getNode","onOrdered","changeListType","onUnrdered","onIndent","onOutdent","outdent","marginLeft","getLevel","cursor","createVList","getElementAtCursor","createVListFromRegion","onWriteback","writeBack","PREDEFINED_STYLES","DEFAULT","createTableFormat","DEFAULT_WITH_BACKGROUND_COLOR","GRID_WITHOUT_BORDER","LIST","BANDED_ROWS_FIRST_COLUMN_NO_BORDER","EXTERNAL","NO_HEADER_VERTICAL","ESPECIAL_TYPE_1","ESPECIAL_TYPE_2","ESPECIAL_TYPE_3","CLEAR","PREDEFINED_STYLES_KEYS","TABLE_COLORS","TableCell","cell","isCurrent","td","onClickCell","spanAbove","spanLeft","bgColor","topBorderColor","bottomBorderColor","verticalBorderColor","createVTable","VTable","onCustomizeFormat","format","applyFormat","onWriteBack","getCurrentTd","currentTd","cells","row","rowIndex","cellIndex","renderEditTableButton","renderSetHeaderRowButton","renderSetFirstColumnButton","renderSetBandedColumnButton","renderSetBandedRowButton","renderFormatTableButton","CustomizeFormatRow","inputRef","operation","editTable","formatTable","formatInfo","keepCellShade","hasHeaderRow","hasFirstColumn","hasBandedColumns","hasBandedRows","topBorder","bottomBorder","verticalBorder","bandedRows","bandedColumns","headerRow","firstColumn","borderFormat","bgColorEven","bgColorOdd","headerRowColor","tableBorderFormat","useState","isColorPickerShowing","setIsColorPickerShowing","onShowColorPicker","setColor","label","initColor","onSelect","colorNames","swizzle","reverseNames","cs","clamp","hexDouble","hexAlpha","i2","parseFloat","isNaN","rgba","hsla","hwba","isArrayish","results","len","arg","wrap","fn","conversions","route","fromModel","routes","toModel","wrappedFn","conversion","wrapRounded","wrapRaw","deriveBFS","graph","models","buildGraph","queue","adjacents","adjacent","unshift","link","wrapConversion","cur","startDrag","rect","getBoundingClientRect","onMouseChange","left","top","pageY","stopPropagation","preventDefault","hueBar","useRef","picker","setHue","saturation","setSaturation","setValue","getComputedStyle","onMouseDownHueBar","onMouseDownPicker","onChangeHue","newHue","which","onChangeColor","newSaturation","newValue","useEffect","container","tabIndex","onKeyDown","layer1","layer2","currentColor","newColor","initialState","resetList","contextMenu","autoFormat","forcePreserveRatio","getState","exportForm","exportData","rtl","resetState","onExportRooster","json","getHtml","js","js_pre_processor","submit","onExportRoosterReact","css","onToggleRibbon","onToggleDarkMode","onToggleDirection","method","action","target","codeMap","buttonB","buttonI","buttonU","buttonBullet","buttonNumbering","buttonUndo","buttonRedo","buttonDark","features","defaultValues","getLinkCallback","right","SimplePluginCode","EditFeatureDescriptionMap","autoBullet","indentWhenTab","outdentWhenShiftTab","outdentWhenBackspaceOnEmptyFirstLine","outdentWhenEnterOnEmptyLine","mergeInNewLineWhenBackspaceOnFirstChar","maintainListChain","unquoteWhenBackspaceOnEmptyFirstLine","unquoteWhenEnterOnEmptyLine","tabInTable","upDownInTable","insertLineBeforeStructuredNodeFeature","autoLink","unlinkWhenBackspaceAfterLink","defaultShortcut","noCycleCursorMove","clickOnEntity","escapeFromEntity","enterBeforeReadonlyEntity","backspaceAfterEntity","deleteBeforeEntity","markdownBold","markdownItalic","markdownStrikethru","markdownInlineCode","maintainListChainWhenDelete","indentTableOnTab","indentWhenTabText","outdentWhenTabText","autoHyphen","onContentEditClick","checkbox","renderContentEditItem","moreOptions","checkboxColumn","onFormatClick","onSelectChanged","renderFormatItem","renderSelectItem","Arial","Calibri","Tahoma","defaultFormatLabel","FeatureNames","renderFeature","onPluginClick","renderPluginItem","renderInputBox","renderCheckBox","placeholder","onBlur","ribbonButton","ribbon","componentCode","ButtonVarName","getButtonVarName","buttonsVarName","addEvent","EventTypeMap","EntityOperationMap","events","displayCount","clear","currentIndex","renderImage","img","imageFile","readFile","dataUrl","onDisplayCountChanged","displayedEvents","reverse","event","time","getHours","getMinutes","getSeconds","getMilliseconds","eventContent","renderEvent","sanitizingOption","clipboardData","shift","rawEvent","types","renderPasteContent","rawHtml","image","linkPreview","customValues","contentType","formatState","isCut","newSrc","oldZoomScale","newZoomScale","renderer","pasteContent","stringArray","child","nextSibling","getFormatState","setFormatState","getFocusedPosition","getPositionRect","inIME","isInIME","fontName","renderSpan","isBold","isItalic","isUnderline","isStrikeThrough","isSubscript","isSuperscript","isBullet","isNumbering","isBlockQuote","canUnlink","canAddImageAltText","headerLevel","inactive","canUndo","canRedo","Browser","isChrome","isEdge","isFirefox","isIE11OrGreater","isIE","isIEOrEdge","isSafari","isWebKit","isMac","isWin","navigator","userAgent","appVersion","PluginCreators","ContentEdit","HyperLink","Paste","Watermark","preserveRatio","CutPasteListChain","TableCellSelection","TableResize","PickerPlugin","elementIdPrefix","changeSource","triggerCharacter","isHorizontal","CustomReplace","ContextMenu","CONTEXT_MENU_DATA_PROVIDER","AutoFormat","allowCrop","isFeatureEnabled","getContextMenuItems","isContentEditable","setEditingImage","canRegenerateImage","resizeByPercentage","minHeight","resetImage","ImageEdit","setOrderedListNumbering","prompt","pickerColors","htmlColor","names","componentState","queryString","selectedIndex","colors","cursorX","cursorY","insertColor","span","getDocument","innerText","insertNodeCallback","onInitalize","setIsSuggestingCallback","updateToQuery","mountPoint","onDispose","onIsSuggestingChanged","isSuggesting","updateRender","unmountComponentAtNode","lowerCaseQuery","currentSelectedColor","some","colorName","newIndexOfCurrentSelectedColor","bottom","queryStringUpdated","selectOption","shiftHighlight","isIncrement","onRemove","nodeRemoved","isBackwards","samplePickerContainer","samplePickerColorSwatch","selected","PureComponent","onDismiss","menu","menuItem","dismiss","currentPane","updateStateFromHash","hashes","activePane","inactivePane","bodyContainer","widthDelta","clientWidth","refCallback","updateSnapshots","onTakeSnapshot","newSnapshot","snapshotService","startHijackUndoSnapshot","snapshot","editorInstance","stopHijackUndoSnapshot","onMove","step","move","onRestoreSnapshot","setContent","snapshotToString","getSnapshots","getCurrentIndex","getAutoCompleteIndex","SnapshotPlugin","snapshots","createSnapshots","takeSnapshot","setSnapshot","renderItem","autoCompleteIndex","autoComplete","snapshotStr","snapshotPane","snapshotList","metadata","spellCheck","isUndoSnapshotServiceV2","hijackUndoSnapshotCallback","canMove","canMoveCurrentSnapshot","moveCurrentSnapshot","addSnapshot","isAutoCompleteSnapshot","addSnapshotV2","clearRedo","clearProceedingSnapshotsV2","canUndoAutoComplete","github","titleBar","titleText","roosterJsVer","links","href","externalLink","alt","iconName","isChecked","setDarkModeState","flipWhenRtl","defaultView","getContent","isCssMonitorStarted","activeWindows","Stylesheet","onInsertRule","cssText","rules","sheet","cssRules","j","tableEditOperations","insertAbove","insertBelow","insertLeft","insertRight","merge","deleteTable","deleteRow","deleteColumn","mergeAbove","mergeBelow","mergeLeft","mergeRight","dropDownMenu","isDisabled","isInTable","editTableOperation","DropDownItems","DropDownValues","getSelectedItemKey","setZoomScale","renderComponent","isRightToLeft","getComputedStyles","defaultEditorCreator","editorDiv","useTheme","focusOnInit","createUIUtilities","setUIUtilities","isReactEditorPlugin","divProps","getNativeProps","divProperties","updateMode","OnBlur","disposer","addDomEventHandler","OnInitialize","OnContentChangedEvent","OnUserInput","Force","UpdateContentPluginImpl","ribbonClassName","mergeStyles","rtlIcon","onButtonClick","onHover","startLivePreview","stopLivePreview","flipIcon","defaultRender","commandBarItems","useMemo","selectedItem","iconProps","onRenderIcon","iconOnly","ariaLabel","canCheck","disabled","commandBarProperties","subMenuProps","shouldFocusOnMount","focusZoneProps","direction","FocusZoneDirection","bidirectional","onItemClick","onRenderContextualMenuItem","defaultRenderer","onRender","registerFormatChangedCallback","moreCommandsBtn","moreCommands","CommandBar","overflowButtonProps","KnownRibbonButtons","Bold","Italic","Underline","Font","font","FontSize","IncreaseFontSize","increaseFontSize","DecreaseFontSize","decreaseFontSize","TextColor","BackgroundColor","BulletedList","bulletedList","NumberedList","numberedList","DecreaseIndent","decreaseIndent","IncreaseIndent","increaseIndent","Quote","quote","AlignLeft","alignLeft","AlignCenter","alignCenter","AlignRight","alignRight","InsertLink","insertLink","RemoveLink","removeLink","InsertTable","insertTable","InsertImage","insertImage","Superscript","superscript","Subscript","subscript","Strikethrough","strikethrough","Header","Code","Ltr","ltr","Rtl","Undo","undo","Redo","redo","ClearFormat","clearFormat","keyOrButtons","keyOrButton","setAlignment","setBackgroundColor","toggleBold","toggleBullet","toggleCodeBlock","changeFontSize","setIndentation","FontNames","family","localizedName","LowerCaseFontMap","FirstFontRegex","firstName","setFontName","FONT_SIZES","size","setFontSize","headers","header1","header2","header3","header4","header5","header6","headerDivider","noHeader","toggleHeader","FileInput","accept","fileInput","files","click","uiUtilities","existingLink","displayText","getSelectionRange","InsertLinkDialog","initUrl","initDisplayText","linkInput","borderRadius","setUrl","setDisplayText","isChanged","setIsChanged","urlInput","displayTextInput","dialogContentProps","DialogType","normal","onOk","createLink","onCancel","onDisplayTextChanged","onUrlChanged","onKeyPress","Dialog","hidden","role","autoFocus","DialogFooter","PrimaryButton","DefaultButton","tableButton","hovered","tablePane","tablePaneInner","lineHeight","InsertTablePane","col","setCol","setRow","updateSize","onMouseEnter","onClickButton","createKey","ariaLabels","formatText","isSelected","FocusZone","defaultActiveElement","onActiveElementChanged","parseKey","insertTablePane","toggleItalic","setDirection","toggleNumbering","toggleBlockQuote","toggleStrikethrough","toggleSubscript","toggleSuperscript","setTextColor","toggleUnderline","delayUpdateTime","timer","updateFormat","delayUpdate","onFormatChanged","stopShadowEdit","isInShadowEdit","getSelectionRangeEx","areAllCollapsed","startShadowEdit","clearTimeout","RibbonPluginImpl","pasteOptionRef","onDismissed","onPaste","setSelectedKey","showPasteOptionPane","handlePasteOptionPaneEvent","selectedKey","getSelectedKey","keyboardEvent","ctrlKey","fromCharCode","cancelEvent","buttonCount","focusedPosition","PasteOptionPlugin","getPasteOptionClassNames","memoizeFunction","pastePane","paddingLeft","optionPane","textAlign","buttonsContainer","justifyContent","flex","PasteOptionButton","buttonName","IconButton","getLocalizedString","PasteOptionComponent","forwardRef","useImperativeHandle","buttonPane","evt","FocusEvent","relatedTarget","contains","onClickShowSubMenu","Callout","gapSpace","isBeakVisible","directionalHint","DirectionalHint","bottomRightEdge","bottomLeftEdge","directionalHintForRTL","preventDismissOnScroll","Icon","onGetRef","tableAlignmentOperations","alignTop","alignMiddle","alignBottom"],"mappings":"aACE,IAAIA,EAAmB,GAGvB,SAASC,EAAoBC,GAG5B,GAAGF,EAAiBE,GACnB,OAAOF,EAAiBE,GAAUC,QAGnC,IAAIC,EAASJ,EAAiBE,GAAY,CACzCG,EAAGH,EACHI,GAAG,EACHH,QAAS,IAUV,OANAI,EAAQL,GAAUM,KAAKJ,EAAOD,QAASC,EAAQA,EAAOD,QAASF,GAG/DG,EAAOE,GAAI,EAGJF,EAAOD,QAKfF,EAAoBQ,EAAIF,EAGxBN,EAAoBS,EAAIV,EAGxBC,EAAoBU,EAAI,SAASR,EAASS,EAAMC,GAC3CZ,EAAoBa,EAAEX,EAASS,IAClCG,OAAOC,eAAeb,EAASS,EAAM,CAAEK,YAAY,EAAMC,IAAKL,KAKhEZ,EAAoBkB,EAAI,SAAShB,GACX,oBAAXiB,QAA0BA,OAAOC,aAC1CN,OAAOC,eAAeb,EAASiB,OAAOC,YAAa,CAAEC,MAAO,WAE7DP,OAAOC,eAAeb,EAAS,aAAc,CAAEmB,OAAO,KAQvDrB,EAAoBsB,EAAI,SAASD,EAAOE,GAEvC,GADU,EAAPA,IAAUF,EAAQrB,EAAoBqB,IAC/B,EAAPE,EAAU,OAAOF,EACpB,GAAW,EAAPE,GAA8B,iBAAVF,GAAsBA,GAASA,EAAMG,WAAY,OAAOH,EAChF,IAAII,EAAKX,OAAOY,OAAO,MAGvB,GAFA1B,EAAoBkB,EAAEO,GACtBX,OAAOC,eAAeU,EAAI,UAAW,CAAET,YAAY,EAAMK,MAAOA,IACtD,EAAPE,GAA4B,iBAATF,EAAmB,IAAI,IAAIM,KAAON,EAAOrB,EAAoBU,EAAEe,EAAIE,EAAK,SAASA,GAAO,OAAON,EAAMM,IAAQC,KAAK,KAAMD,IAC9I,OAAOF,GAIRzB,EAAoB6B,EAAI,SAAS1B,GAChC,IAAIS,EAAST,GAAUA,EAAOqB,WAC7B,WAAwB,OAAOrB,EAAgB,SAC/C,WAA8B,OAAOA,GAEtC,OADAH,EAAoBU,EAAEE,EAAQ,IAAKA,GAC5BA,GAIRZ,EAAoBa,EAAI,SAASiB,EAAQC,GAAY,OAAOjB,OAAOkB,UAAUC,eAAe1B,KAAKuB,EAAQC,IAGzG/B,EAAoBkC,EAAI,GAIjBlC,EAAoBA,EAAoBmC,EAAI,I,gBClFrDhC,EAAOD,QAAUkC,W,cCAjBjC,EAAOD,QAAUmC,O,cCAjBlC,EAAOD,QAAUoC,e,6BCQjBnC,EAAOD,QAAU,SAAUqC,GACzB,IAAIC,EAAO,GAuDX,OArDAA,EAAKC,SAAW,WACd,OAAOC,KAAKC,KAAI,SAAUC,GACxB,IAAIC,EAsDV,SAAgCD,EAAML,GACpC,IAAIM,EAAUD,EAAK,IAAM,GAErBE,EAAaF,EAAK,GAEtB,IAAKE,EACH,OAAOD,EAGT,GAAIN,GAAgC,mBAATQ,KAAqB,CAC9C,IAAIC,GAWWC,EAXeH,EAa5BI,EAASH,KAAKI,SAASC,mBAAmBC,KAAKC,UAAUL,MACzDM,EAAO,+DAA+DC,OAAON,GAC1E,OAAOM,OAAOD,EAAM,QAdrBE,EAAaX,EAAWY,QAAQf,KAAI,SAAUgB,GAChD,MAAO,iBAAiBH,OAAOV,EAAWc,YAAc,IAAIJ,OAAOG,EAAQ,UAE7E,MAAO,CAACd,GAASW,OAAOC,GAAYD,OAAO,CAACR,IAAgBa,KAAK,MAOrE,IAAmBZ,EAEbC,EACAK,EAPJ,MAAO,CAACV,GAASgB,KAAK,MAvEJC,CAAuBlB,EAAML,GAE3C,OAAIK,EAAK,GACA,UAAUY,OAAOZ,EAAK,GAAI,MAAMY,OAAOX,EAAS,KAGlDA,KACNgB,KAAK,KAKVrB,EAAKpC,EAAI,SAAUE,EAASyD,EAAYC,GACf,iBAAZ1D,IAETA,EAAU,CAAC,CAAC,KAAMA,EAAS,MAG7B,IAAI2D,EAAyB,GAE7B,GAAID,EACF,IAAK,IAAI5D,EAAI,EAAGA,EAAIsC,KAAKwB,OAAQ9D,IAAK,CAEpC,IAAI+D,EAAKzB,KAAKtC,GAAG,GAEP,MAAN+D,IACFF,EAAuBE,IAAM,GAKnC,IAAK,IAAIC,EAAK,EAAGA,EAAK9D,EAAQ4D,OAAQE,IAAM,CAC1C,IAAIxB,EAAO,GAAGY,OAAOlD,EAAQ8D,IAEzBJ,GAAUC,EAAuBrB,EAAK,MAKtCmB,IACGnB,EAAK,GAGRA,EAAK,GAAK,GAAGY,OAAOO,EAAY,SAASP,OAAOZ,EAAK,IAFrDA,EAAK,GAAKmB,GAMdvB,EAAK6B,KAAKzB,MAIPJ,I,8BChET,YAKA,IAAI8B,EAAY5B,MAAQA,KAAK4B,UAAa,WAStC,OARAA,EAAWxD,OAAOyD,QAAU,SAASjD,GACjC,IAAK,IAAIa,EAAG/B,EAAI,EAAGyB,EAAI2C,UAAUN,OAAQ9D,EAAIyB,EAAGzB,IAE5C,IAAK,IAAI8B,KADTC,EAAIqC,UAAUpE,GACOU,OAAOkB,UAAUC,eAAe1B,KAAK4B,EAAGD,KACzDZ,EAAEY,GAAKC,EAAED,IAEjB,OAAOZ,IAEKmD,MAAM/B,KAAM8B,YAEhC1D,OAAOC,eAAeb,EAAS,aAAc,CAAEmB,OAAO,IAGtD,IAAIqD,EAA2B,oBAAXC,OAA0BC,EAASD,OAEnDE,EAAcH,GAASA,EAAMI,aAAeJ,EAAMI,YAAYC,MAC9DC,EAeJ,WACI,IAAIC,EAAQP,EAAMQ,gBAAkB,CAChCC,WAAOC,EACPC,sBAAkBD,EAClBE,iBAAkB,IAEjBL,EAAMM,WACPN,EAAQX,EAAS,GAAI,EAAS,CAAEkB,KAAM,CAC9BC,MAAO,EACPC,SAAU,GACXH,SAAU,CACTI,WAAY,EACZpE,KAAM,EACNqE,OAAQ,OAGfX,EAAMY,2BACPZ,EAAQX,EAAS,GAAI,EAAS,CAAEuB,yBAA0B,MAG9D,OADAnB,EAAMQ,eAAiBD,EAChBA,EAnCOa,GAIdC,EAAmB,iHACnBC,EAAM,WAAc,MAA+B,oBAAhBC,aAAiCA,YAAYD,IAAOC,YAAYD,MAAQE,KAAKF,OACpH,SAASG,EAAQC,GACb,IAAIC,EAAQL,IACZI,IACA,IAAIE,EAAMN,IACVhB,EAAYQ,KAAKE,UAAYY,EAAMD,EAsEvC,SAASE,IACLJ,GAAQ,WACJ,IAAIK,EAAcxB,EAAYO,SAASK,OAAOa,QAC9CzB,EAAYO,SAASK,OAAS,GAC9B,IAAIc,EAAmB,GAAGlD,OAAOiB,MAAM,GAAI+B,GACvCE,EAAiBxC,OAAS,GAC1ByC,EAAoBD,MAoBhC,SAASC,EAAoBC,EAAaC,GAClC7B,EAAY8B,WACZ9B,EAAY8B,WAAWC,EAAqBH,GAAaI,YAAaJ,GA2I9E,SAAwBK,GACpB,GAAwB,oBAAbC,SACP,OAEJ,IAAIC,EAAOD,SAASE,qBAAqB,QAAQ,GAC7CC,EAAeH,SAASI,cAAc,SACtCC,EAAKR,EAAqBE,GAAaD,EAAcO,EAAGP,YAAaQ,EAAWD,EAAGC,SACvFH,EAAaI,aAAa,0BAA2B,QACjD5C,GACAwC,EAAaI,aAAa,QAAS5C,GAEvCwC,EAAaK,YAAYR,SAASS,eAAeX,IACjDhC,EAAYQ,KAAKC,QACjB0B,EAAKO,YAAYL,GACjB,IAAIO,EAAKV,SAASW,YAAY,cAC9BD,EAAGE,UAAU,eAAe,GAAwB,GACpDF,EAAGG,KAAO,CACNC,SAAUX,GAEdH,SAASe,cAAcL,GACvB,IAAIM,EAAS,CACTb,aAAcA,EACdc,cAAelB,GAEfO,EACAxC,EAAYa,yBAAyBxB,KAAK6D,GAG1ClD,EAAYM,iBAAiBjB,KAAK6D,GApKlCE,CAAexB,GAmBvB,SAASyB,EAAYC,QACF,IAAXA,IAAqBA,EAAS,GACnB,IAAXA,GAAqC,IAAXA,IAC1BC,EAAoBvD,EAAYM,kBAChCN,EAAYM,iBAAmB,IAEpB,IAAXgD,GAAqC,IAAXA,IAC1BC,EAAoBvD,EAAYa,0BAChCb,EAAYa,yBAA2B,IAI/C,SAAS0C,EAAoBC,GACzBA,EAAQC,SAAQ,SAAU5B,GACtB,IAAIQ,EAAeR,GAAeA,EAAYQ,aAC1CA,GAAgBA,EAAaqB,eAC7BrB,EAAaqB,cAAcC,YAAYtB,MAmCnD,SAASN,EAAqB6B,GAC1B,IAAIzD,EAAQH,EAAYG,MACpBqC,GAAW,EAsBf,MAAO,CACHR,aApBiB4B,GAAmB,IAAIjG,KAAI,SAAUkG,GACtD,IAAIC,EAAYD,EAAa1D,MAC7B,GAAI2D,EAAW,CACXtB,GAAW,EAEX,IAAIuB,EAAc5D,EAAQA,EAAM2D,QAAa1D,EACzC4D,EAAeH,EAAaG,cAAgB,UAMhD,OAHI7D,IAAU4D,GAAeE,WAAaH,KAAa3D,IAA2B,oBAAV+D,OAAyBA,OAC7FD,QAAQE,KAAK,mCAAsCL,EAAY,uBAA2BE,EAAe,MAEtGD,GAAeC,EAItB,OAAOH,EAAaO,aAIGvF,KAAK,IAChC2D,SAAUA,GAOlB,SAAS6B,EAAYC,GACjB,IAAIC,EAAS,GACb,GAAID,EAAQ,CAGR,IAFA,IAAIE,EAAM,EACNC,OAAa,EACTA,EAAa1D,EAAiB2D,KAAKJ,IAAU,CACjD,IAAIK,EAAaF,EAAWG,MACxBD,EAAaH,GACbD,EAAOlF,KAAK,CACR+E,UAAWE,EAAOO,UAAUL,EAAKG,KAGzCJ,EAAOlF,KAAK,CACRc,MAAOsE,EAAW,GAClBT,aAAcS,EAAW,KAG7BD,EAAMzD,EAAiB+D,UAG3BP,EAAOlF,KAAK,CACR+E,UAAWE,EAAOO,UAAUL,KAGpC,OAAOD,EAnLXrJ,EAAQ4G,WAhBR,SAAoBwC,EAAQS,QACN,IAAdA,IAAwBA,GAAY,GACxC5D,GAAQ,WACJ,IAAI6D,EAAaC,MAAMC,QAAQZ,GAAUA,EAASD,EAAYC,GAC1D/B,EAAKvC,EAAYO,SAAUhE,EAAOgG,EAAGhG,KAAMqE,EAAS2B,EAAG3B,OAAQD,EAAa4B,EAAG5B,WAC/EoE,GAAsB,IAATxI,GACbqE,EAAOvB,KAAK2F,GACPrE,IACDX,EAAYO,SAASI,WA4C1BwE,YAAW,WACdnF,EAAYO,SAASI,WAAa,EAClCY,MACD,KA3CKI,EAAoBqD,OAahC9J,EAAQkK,oBAHR,SAA6BC,GACzBrF,EAAY8B,WAAauD,GAU7BnK,EAAQoK,iBAHR,SAA0B/I,GACtByD,EAAYO,SAAShE,KAAOA,GAgBhCrB,EAAQqG,MAAQA,EAkChBrG,EAAQqK,UALR,SAAmBpF,GACfH,EAAYG,MAAQA,EAiCxB,WACI,GAAIH,EAAYG,MAAO,CAEnB,IADA,IAAIqF,EAAiB,GACZpG,EAAK,EAAGmD,EAAKvC,EAAYa,yBAA0BzB,EAAKmD,EAAGrD,OAAQE,IAAM,CAC9E,IAAIyC,EAAcU,EAAGnD,GACrBoG,EAAenG,KAAKwC,EAAYsB,eAEhCqC,EAAetG,OAAS,IACxBmE,EAAY,GACZ1B,EAAoB,GAAGnD,OAAOiB,MAAM,GAAI+F,MAxChDC,IAmBJvK,EAAQmI,YAAcA,EAmCtBnI,EAAQwK,WANR,SAAoBpB,GAIhB,OAHIA,IACAA,EAASvC,EAAqBsC,EAAYC,IAAStC,aAEhDsC,GAkEXpJ,EAAQmJ,YAAcA,I,gGCtQtB,+BAaA,OAVc,YAAAsB,OAAV,SAAiBC,GACb,OAAOA,EAAIC,QAAQ,MAAO,QAAQA,QAAQ,KAAM,QAG1C,YAAAC,OAAV,SAAiBF,GACb,OAAOA,EACFG,MAAM,MACNpI,KAAI,SAAAqI,GAAQ,MAAS,IAARA,EAAa,GAAK,OAASA,EAAO,QAC/CnH,KAAK,KAElB,EAbA,G,yjBCAA,IAgBA,cAOI,WAAYoH,GAAZ,MACI,YAAMA,IAAM,K,OAEZC,EAAaC,SAAW,E,EAoBhC,OA9BmD,OAGxC,EAAAC,YAAP,WACI,OAAO1I,KAAKyI,UA0BpB,EA9BA,CAhBA,KAgByDE,W,2BChBzDlL,EAAOD,QAAUoL,U,0GCAjB,YAEA,8BAAmCC,GAO/B,OANeC,EAAUC,SAASF,EAAM,CACpCG,SAAU,CAAC,OAAQ,OAAQ,YAC3BC,SAAU,CAAC,OAAQ,WACnBC,gBAAgB,EAChBC,qBAAqB,M,sTCP7B,WASA,aAOI,WACqBC,EACAC,EACAC,GAFA,KAAAF,gBACA,KAAAC,aACA,KAAAC,QALb,KAAAC,UAAY5J,EAAM6J,YA8C9B,OAtCI,YAAAC,QAAA,WACI,OAAOzJ,KAAKqJ,YAGhB,YAAAK,WAAA,SAAWC,GACP3J,KAAK2J,OAASA,GAGlB,YAAAC,QAAA,WACI5J,KAAK2J,OAAS,MAGlB,YAAAE,SAAA,WACI,OAAO7J,KAAKsJ,OAGhB,YAAAQ,eAAA,SAAeC,GACX,OAAOpK,EAAMiF,cAAiB5E,KAAKoJ,cAAe,EAAF,KACzCpJ,KAAKgK,kBAAkB,CACtBD,WAAU,KACZ,CACFE,IAAKjK,KAAKuJ,cAIlB,YAAAW,YAAA,SAAYC,GACJnK,KAAKuJ,UAAUa,SAAWpK,KAAKuJ,UAAUa,QAAQF,aACjDlK,KAAKuJ,UAAUa,QAAQF,YAAYC,IAMjC,YAAAE,aAAV,SAAuBC,GACftK,KAAKuJ,UAAUa,SACfE,EAAStK,KAAKuJ,UAAUa,UAGpC,EAnDA,G,mHCFa,EAAAG,eAAiB,S,gBCP9B,IAAIpK,EAAU,EAAQ,IAClBqK,EAAS,EAAQ,GAEC,iBAAZrK,IAAsBA,EAAU,CAAC,CAAC1C,EAAOC,EAAIyC,KAGvD,IAAK,IAAIzC,EAAI,EAAGA,EAAIyC,EAAQqB,OAAQ9D,IAAK8M,EAAOpG,WAAWjE,EAAQzC,GAAG,IAAI,GAEvEyC,EAAQsK,SAAQhN,EAAOD,QAAU2C,EAAQsK,S,8HCD5C,aAAS,mFAAAC,WACT,YAAS,oFAAAA,Y,8ECCT,mBACIC,EACA1L,EACA2L,GAEA,IAAMC,EAAMF,aAAO,EAAPA,EAAU1L,GAEtB,MAAkB,mBAAP4L,EACAA,IACc,iBAAPA,EACPA,EAEAD,I,6BCnBf,IAAIE,EAAc,EAAQ,IACtBC,EAAU,EAAQ,IAElBC,EAAS,GAAGjH,MAEZkH,EAAgB,CAEnB,UAGA,OAGA,OAGGC,EAAkB,GACtB9M,OAAO+M,KAAKJ,GAAShF,SAAQ,SAAUqF,GACtCF,EAAgBF,EAAOnN,KAAKkN,EAAQK,GAAOC,QAAQC,OAAOnK,KAAK,KAAOiK,KAGvE,IAAIG,EAAW,GAEf,SAASC,EAAMC,EAAKL,GACnB,KAAMpL,gBAAgBwL,GACrB,OAAO,IAAIA,EAAMC,EAAKL,GAOvB,GAJIA,GAASA,KAASH,IACrBG,EAAQ,MAGLA,KAAWA,KAASL,GACvB,MAAM,IAAIW,MAAM,kBAAoBN,GAGrC,IAAI1N,EACAiO,EAEJ,GAAW,MAAPF,EACHzL,KAAKoL,MAAQ,MACbpL,KAAK4L,MAAQ,CAAC,EAAG,EAAG,GACpB5L,KAAK6L,OAAS,OACR,GAAIJ,aAAeD,EACzBxL,KAAKoL,MAAQK,EAAIL,MACjBpL,KAAK4L,MAAQH,EAAIG,MAAM7H,QACvB/D,KAAK6L,OAASJ,EAAII,YACZ,GAAmB,iBAARJ,EAAkB,CACnC,IAAI5E,EAASiE,EAAYvM,IAAIkN,GAC7B,GAAe,OAAX5E,EACH,MAAM,IAAI6E,MAAM,sCAAwCD,GAGzDzL,KAAKoL,MAAQvE,EAAOuE,MACpBO,EAAWZ,EAAQ/K,KAAKoL,OAAOO,SAC/B3L,KAAK4L,MAAQ/E,EAAOlI,MAAMoF,MAAM,EAAG4H,GACnC3L,KAAK6L,OAA2C,iBAA3BhF,EAAOlI,MAAMgN,GAAyB9E,EAAOlI,MAAMgN,GAAY,OAC9E,GAAIF,EAAIjK,OAAQ,CACtBxB,KAAKoL,MAAQA,GAAS,MACtBO,EAAWZ,EAAQ/K,KAAKoL,OAAOO,SAC/B,IAAIG,EAASd,EAAOnN,KAAK4N,EAAK,EAAGE,GACjC3L,KAAK4L,MAAQG,EAAUD,EAAQH,GAC/B3L,KAAK6L,OAAkC,iBAAlBJ,EAAIE,GAAyBF,EAAIE,GAAY,OAC5D,GAAmB,iBAARF,EAEjBA,GAAO,SACPzL,KAAKoL,MAAQ,MACbpL,KAAK4L,MAAQ,CACXH,GAAO,GAAM,IACbA,GAAO,EAAK,IACP,IAANA,GAEDzL,KAAK6L,OAAS,MACR,CACN7L,KAAK6L,OAAS,EAEd,IAAIV,EAAO/M,OAAO+M,KAAKM,GACnB,UAAWA,IACdN,EAAKa,OAAOb,EAAKc,QAAQ,SAAU,GACnCjM,KAAK6L,OAA8B,iBAAdJ,EAAIS,MAAqBT,EAAIS,MAAQ,GAG3D,IAAIC,EAAahB,EAAKG,OAAOnK,KAAK,IAClC,KAAMgL,KAAcjB,GACnB,MAAM,IAAIQ,MAAM,sCAAwC/K,KAAKC,UAAU6K,IAGxEzL,KAAKoL,MAAQF,EAAgBiB,GAE7B,IAAId,EAASN,EAAQ/K,KAAKoL,OAAOC,OAC7BO,EAAQ,GACZ,IAAKlO,EAAI,EAAGA,EAAI2N,EAAO7J,OAAQ9D,IAC9BkO,EAAMjK,KAAK8J,EAAIJ,EAAO3N,KAGvBsC,KAAK4L,MAAQG,EAAUH,GAIxB,GAAIL,EAASvL,KAAKoL,OAEjB,IADAO,EAAWZ,EAAQ/K,KAAKoL,OAAOO,SAC1BjO,EAAI,EAAGA,EAAIiO,EAAUjO,IAAK,CAC9B,IAAI0O,EAAQb,EAASvL,KAAKoL,OAAO1N,GAC7B0O,IACHpM,KAAK4L,MAAMlO,GAAK0O,EAAMpM,KAAK4L,MAAMlO,KAKpCsC,KAAK6L,OAASQ,KAAKC,IAAI,EAAGD,KAAKE,IAAI,EAAGvM,KAAK6L,SAEvCzN,OAAOoO,QACVpO,OAAOoO,OAAOxM,MA4ThB,SAASyM,EAAOrB,EAAOsB,EAASC,GAS/B,OARAvB,EAAQ7D,MAAMC,QAAQ4D,GAASA,EAAQ,CAACA,IAElCrF,SAAQ,SAAUjI,IACtByN,EAASzN,KAAOyN,EAASzN,GAAK,KAAK4O,GAAWC,KAGhDvB,EAAQA,EAAM,GAEP,SAAUwB,GAChB,IAAI/F,EAEJ,OAAI/E,UAAUN,QACTmL,IACHC,EAAMD,EAASC,KAGhB/F,EAAS7G,KAAKoL,MACPQ,MAAMc,GAAWE,EACjB/F,IAGRA,EAAS7G,KAAKoL,KAASQ,MAAMc,GACzBC,IACH9F,EAAS8F,EAAS9F,IAGZA,IAIT,SAASgG,EAAMP,GACd,OAAO,SAAUQ,GAChB,OAAOT,KAAKC,IAAI,EAAGD,KAAKE,IAAID,EAAKQ,KAInC,SAASC,EAAYH,GACpB,OAAOrF,MAAMC,QAAQoF,GAAOA,EAAM,CAACA,GAGpC,SAASb,EAAUiB,EAAKxL,GACvB,IAAK,IAAI9D,EAAI,EAAGA,EAAI8D,EAAQ9D,IACL,iBAAXsP,EAAItP,KACdsP,EAAItP,GAAK,GAIX,OAAOsP,EAxWRxB,EAAMlM,UAAY,CACjBS,SAAU,WACT,OAAOC,KAAKiN,UAGbC,OAAQ,WACP,OAAOlN,KAAKA,KAAKoL,UAGlB6B,OAAQ,SAAUE,GACjB,IAAIC,EAAOpN,KAAKoL,SAASN,EAAYuC,GAAKrN,KAAOA,KAAKsN,MAElDjI,EAAuB,KAD3B+H,EAAOA,EAAKG,MAAwB,iBAAXJ,EAAsBA,EAAS,IACxCtB,OAAeuB,EAAKxB,MAAQwB,EAAKxB,MAAM9K,OAAOd,KAAK6L,QACnE,OAAOf,EAAYuC,GAAGD,EAAKhC,OAAO/F,IAGnCmI,cAAe,SAAUL,GACxB,IAAIC,EAAOpN,KAAKsN,MAAMC,MAAwB,iBAAXJ,EAAsBA,EAAS,GAC9D9H,EAAuB,IAAhB+H,EAAKvB,OAAeuB,EAAKxB,MAAQwB,EAAKxB,MAAM9K,OAAOd,KAAK6L,QACnE,OAAOf,EAAYuC,GAAGC,IAAIG,QAAQpI,IAGnCqI,MAAO,WACN,OAAuB,IAAhB1N,KAAK6L,OAAe7L,KAAK4L,MAAM7H,QAAU/D,KAAK4L,MAAM9K,OAAOd,KAAK6L,SAGxEzM,OAAQ,WAKP,IAJA,IAAIyH,EAAS,GACT8E,EAAWZ,EAAQ/K,KAAKoL,OAAOO,SAC/BN,EAASN,EAAQ/K,KAAKoL,OAAOC,OAExB3N,EAAI,EAAGA,EAAIiO,EAAUjO,IAC7BmJ,EAAOwE,EAAO3N,IAAMsC,KAAK4L,MAAMlO,GAOhC,OAJoB,IAAhBsC,KAAK6L,SACRhF,EAAOqF,MAAQlM,KAAK6L,QAGdhF,GAGR8G,UAAW,WACV,IAAIL,EAAMtN,KAAKsN,MAAM1B,MASrB,OARA0B,EAAI,IAAM,IACVA,EAAI,IAAM,IACVA,EAAI,IAAM,IAEU,IAAhBtN,KAAK6L,QACRyB,EAAI3L,KAAK3B,KAAK6L,QAGRyB,GAGRM,WAAY,WACX,IAAIN,EAAMtN,KAAKsN,MAAMlO,SASrB,OARAkO,EAAI9O,GAAK,IACT8O,EAAIO,GAAK,IACTP,EAAIQ,GAAK,IAEW,IAAhB9N,KAAK6L,SACRyB,EAAIpB,MAAQlM,KAAK6L,QAGXyB,GAGRC,MAAO,SAAUJ,GAEhB,OADAA,EAASd,KAAKC,IAAIa,GAAU,EAAG,GACxB,IAAI3B,EAAMxL,KAAK4L,MAAM3L,IA4O9B,SAAsBkN,GACrB,OAAO,SAAUY,GAChB,OANF,SAAiBA,EAAKZ,GACrB,OAAOa,OAAOD,EAAIE,QAAQd,IAKlBe,CAAQH,EAAKZ,IA9OYgB,CAAahB,IAASrM,OAAOd,KAAK6L,QAAS7L,KAAKoL,QAGjFc,MAAO,SAAUU,GAChB,OAAI9K,UAAUN,OACN,IAAIgK,EAAMxL,KAAK4L,MAAM9K,OAAOuL,KAAKC,IAAI,EAAGD,KAAKE,IAAI,EAAGK,KAAQ5M,KAAKoL,OAGlEpL,KAAK6L,QAIbuC,IAAK3B,EAAO,MAAO,EAAGI,EAAM,MAC5BwB,MAAO5B,EAAO,MAAO,EAAGI,EAAM,MAC9ByB,KAAM7B,EAAO,MAAO,EAAGI,EAAM,MAE7B0B,IAAK9B,EAAO,CAAC,MAAO,MAAO,MAAO,MAAO,OAAQ,GAAG,SAAUG,GAAO,OAASA,EAAM,IAAO,KAAO,OAElG4B,YAAa/B,EAAO,MAAO,EAAGI,EAAM,MACpC4B,UAAWhC,EAAO,MAAO,EAAGI,EAAM,MAElC6B,YAAajC,EAAO,MAAO,EAAGI,EAAM,MACpClO,MAAO8N,EAAO,MAAO,EAAGI,EAAM,MAE9B8B,OAAQlC,EAAO,MAAO,EAAGI,EAAM,MAC/B+B,KAAMnC,EAAO,MAAO,EAAGI,EAAM,MAE7BgC,MAAOpC,EAAO,MAAO,EAAGI,EAAM,MAC9BiC,OAAQrC,EAAO,MAAO,EAAGI,EAAM,MAE/BkC,KAAMtC,EAAO,OAAQ,EAAGI,EAAM,MAC9BmC,QAASvC,EAAO,OAAQ,EAAGI,EAAM,MACjCoC,OAAQxC,EAAO,OAAQ,EAAGI,EAAM,MAChCqC,MAAOzC,EAAO,OAAQ,EAAGI,EAAM,MAE/BsC,EAAG1C,EAAO,MAAO,EAAGI,EAAM,MAC1BuC,EAAG3C,EAAO,MAAO,EAAGI,EAAM,MAC1BwC,EAAG5C,EAAO,MAAO,EAAGI,EAAM,MAE1BlP,EAAG8O,EAAO,MAAO,EAAGI,EAAM,MAC1ByC,EAAG7C,EAAO,MAAO,GACjBqB,EAAGrB,EAAO,MAAO,GAEjB8C,QAAS,SAAU3C,GAClB,OAAI9K,UAAUN,OACN,IAAIgK,EAAMoB,GAGX7B,EAAQ/K,KAAKoL,OAAOmE,QAAQvP,KAAK4L,QAGzC4D,IAAK,SAAU5C,GACd,OAAI9K,UAAUN,OACN,IAAIgK,EAAMoB,GAGX9B,EAAYuC,GAAGmC,IAAIxP,KAAKsN,MAAMC,QAAQ3B,QAG9C6D,UAAW,WACV,IAAInC,EAAMtN,KAAKsN,MAAM1B,MACrB,OAAkB,IAAT0B,EAAI,KAAc,IAAiB,IAATA,EAAI,KAAc,EAAe,IAATA,EAAI,IAGhEoC,WAAY,WAKX,IAHA,IAAIpC,EAAMtN,KAAKsN,MAAM1B,MAEjB+D,EAAM,GACDjS,EAAI,EAAGA,EAAI4P,EAAI9L,OAAQ9D,IAAK,CACpC,IAAIkS,EAAOtC,EAAI5P,GAAK,IACpBiS,EAAIjS,GAAMkS,GAAQ,OAAWA,EAAO,MAAQvD,KAAKwD,KAAMD,EAAO,MAAS,MAAQ,KAGhF,MAAO,MAASD,EAAI,GAAK,MAASA,EAAI,GAAK,MAASA,EAAI,IAGzDG,SAAU,SAAUC,GAEnB,IAAIC,EAAOhQ,KAAK0P,aACZO,EAAOF,EAAOL,aAElB,OAAIM,EAAOC,GACFD,EAAO,MAASC,EAAO,MAGxBA,EAAO,MAASD,EAAO,MAGhCE,MAAO,SAAUH,GAChB,IAAII,EAAgBnQ,KAAK8P,SAASC,GAClC,OAAII,GAAiB,IACb,MAGAA,GAAiB,IAAO,KAAO,IAGxCC,OAAQ,WAEP,IAAI9C,EAAMtN,KAAKsN,MAAM1B,MAErB,OADoB,IAAT0B,EAAI,GAAoB,IAATA,EAAI,GAAoB,IAATA,EAAI,IAAY,IAC5C,KAGd+C,QAAS,WACR,OAAQrQ,KAAKoQ,UAGdE,OAAQ,WAEP,IADA,IAAIhD,EAAMtN,KAAKsN,MACN5P,EAAI,EAAGA,EAAI,EAAGA,IACtB4P,EAAI1B,MAAMlO,GAAK,IAAM4P,EAAI1B,MAAMlO,GAEhC,OAAO4P,GAGRiD,QAAS,SAAUC,GAClB,IAAIC,EAAMzQ,KAAKyQ,MAEf,OADAA,EAAI7E,MAAM,IAAM6E,EAAI7E,MAAM,GAAK4E,EACxBC,GAGRC,OAAQ,SAAUF,GACjB,IAAIC,EAAMzQ,KAAKyQ,MAEf,OADAA,EAAI7E,MAAM,IAAM6E,EAAI7E,MAAM,GAAK4E,EACxBC,GAGRE,SAAU,SAAUH,GACnB,IAAIC,EAAMzQ,KAAKyQ,MAEf,OADAA,EAAI7E,MAAM,IAAM6E,EAAI7E,MAAM,GAAK4E,EACxBC,GAGRG,WAAY,SAAUJ,GACrB,IAAIC,EAAMzQ,KAAKyQ,MAEf,OADAA,EAAI7E,MAAM,IAAM6E,EAAI7E,MAAM,GAAK4E,EACxBC,GAGRI,OAAQ,SAAUL,GACjB,IAAIM,EAAM9Q,KAAK8Q,MAEf,OADAA,EAAIlF,MAAM,IAAMkF,EAAIlF,MAAM,GAAK4E,EACxBM,GAGRC,QAAS,SAAUP,GAClB,IAAIM,EAAM9Q,KAAK8Q,MAEf,OADAA,EAAIlF,MAAM,IAAMkF,EAAIlF,MAAM,GAAK4E,EACxBM,GAGRE,UAAW,WAEV,IAAI1D,EAAMtN,KAAKsN,MAAM1B,MACjBgB,EAAe,GAATU,EAAI,GAAoB,IAATA,EAAI,GAAqB,IAATA,EAAI,GAC7C,OAAO9B,EAAM8B,IAAIV,EAAKA,EAAKA,IAG5BqE,KAAM,SAAUT,GACf,OAAOxQ,KAAKkM,MAAMlM,KAAK6L,OAAU7L,KAAK6L,OAAS2E,IAGhDU,QAAS,SAAUV,GAClB,OAAOxQ,KAAKkM,MAAMlM,KAAK6L,OAAU7L,KAAK6L,OAAS2E,IAGhDW,OAAQ,SAAUC,GACjB,IAAIX,EAAMzQ,KAAKyQ,MACXlC,EAAMkC,EAAI7E,MAAM,GAIpB,OAFA2C,GADAA,GAAOA,EAAM6C,GAAW,KACZ,EAAI,IAAM7C,EAAMA,EAC5BkC,EAAI7E,MAAM,GAAK2C,EACRkC,GAGRY,IAAK,SAAUC,EAAYC,GAG1B,IAAKD,IAAeA,EAAWhE,IAC9B,MAAM,IAAI5B,MAAM,gFAAkF4F,GAEnG,IAAIE,EAASF,EAAWhE,MACpByC,EAAS/P,KAAKsN,MACd9N,OAAekD,IAAX6O,EAAuB,GAAMA,EAEjCE,EAAI,EAAIjS,EAAI,EACZ8P,EAAIkC,EAAOtF,QAAU6D,EAAO7D,QAE5BwF,IAAQD,EAAInC,IAAO,EAAKmC,GAAKA,EAAInC,IAAM,EAAImC,EAAInC,IAAM,GAAK,EAC1DqC,EAAK,EAAID,EAEb,OAAOlG,EAAM8B,IACXoE,EAAKF,EAAOpD,MAAQuD,EAAK5B,EAAO3B,MAChCsD,EAAKF,EAAOnD,QAAUsD,EAAK5B,EAAO1B,QAClCqD,EAAKF,EAAOlD,OAASqD,EAAK5B,EAAOzB,OACjCkD,EAAOtF,QAAU1M,EAAIuQ,EAAO7D,SAAW,EAAI1M,MAK/CpB,OAAO+M,KAAKJ,GAAShF,SAAQ,SAAUqF,GACtC,IAAsC,IAAlCH,EAAcgB,QAAQb,GAA1B,CAIA,IAAIO,EAAWZ,EAAQK,GAAOO,SAG9BH,EAAMlM,UAAU8L,GAAS,WACxB,GAAIpL,KAAKoL,QAAUA,EAClB,OAAO,IAAII,EAAMxL,MAGlB,GAAI8B,UAAUN,OACb,OAAO,IAAIgK,EAAM1J,UAAWsJ,GAG7B,IAAIwG,EAA0C,iBAAxB9P,UAAU6J,GAAyBA,EAAW3L,KAAK6L,OACzE,OAAO,IAAIL,EAAMuB,EAAYhC,EAAQ/K,KAAKoL,OAAOA,GAAOyG,IAAI7R,KAAK4L,QAAQ9K,OAAO8Q,GAAWxG,IAI5FI,EAAMJ,GAAS,SAAUQ,GAIxB,MAHqB,iBAAVA,IACVA,EAAQG,EAAUf,EAAOnN,KAAKiE,WAAY6J,IAEpC,IAAIH,EAAMI,EAAOR,QAiE1B3N,EAAOD,QAAUgO,G,6BC/djB/N,EAAOD,QAAU,CAChB,UAAa,CAAC,IAAK,IAAK,KACxB,aAAgB,CAAC,IAAK,IAAK,KAC3B,KAAQ,CAAC,EAAG,IAAK,KACjB,WAAc,CAAC,IAAK,IAAK,KACzB,MAAS,CAAC,IAAK,IAAK,KACpB,MAAS,CAAC,IAAK,IAAK,KACpB,OAAU,CAAC,IAAK,IAAK,KACrB,MAAS,CAAC,EAAG,EAAG,GAChB,eAAkB,CAAC,IAAK,IAAK,KAC7B,KAAQ,CAAC,EAAG,EAAG,KACf,WAAc,CAAC,IAAK,GAAI,KACxB,MAAS,CAAC,IAAK,GAAI,IACnB,UAAa,CAAC,IAAK,IAAK,KACxB,UAAa,CAAC,GAAI,IAAK,KACvB,WAAc,CAAC,IAAK,IAAK,GACzB,UAAa,CAAC,IAAK,IAAK,IACxB,MAAS,CAAC,IAAK,IAAK,IACpB,eAAkB,CAAC,IAAK,IAAK,KAC7B,SAAY,CAAC,IAAK,IAAK,KACvB,QAAW,CAAC,IAAK,GAAI,IACrB,KAAQ,CAAC,EAAG,IAAK,KACjB,SAAY,CAAC,EAAG,EAAG,KACnB,SAAY,CAAC,EAAG,IAAK,KACrB,cAAiB,CAAC,IAAK,IAAK,IAC5B,SAAY,CAAC,IAAK,IAAK,KACvB,UAAa,CAAC,EAAG,IAAK,GACtB,SAAY,CAAC,IAAK,IAAK,KACvB,UAAa,CAAC,IAAK,IAAK,KACxB,YAAe,CAAC,IAAK,EAAG,KACxB,eAAkB,CAAC,GAAI,IAAK,IAC5B,WAAc,CAAC,IAAK,IAAK,GACzB,WAAc,CAAC,IAAK,GAAI,KACxB,QAAW,CAAC,IAAK,EAAG,GACpB,WAAc,CAAC,IAAK,IAAK,KACzB,aAAgB,CAAC,IAAK,IAAK,KAC3B,cAAiB,CAAC,GAAI,GAAI,KAC1B,cAAiB,CAAC,GAAI,GAAI,IAC1B,cAAiB,CAAC,GAAI,GAAI,IAC1B,cAAiB,CAAC,EAAG,IAAK,KAC1B,WAAc,CAAC,IAAK,EAAG,KACvB,SAAY,CAAC,IAAK,GAAI,KACtB,YAAe,CAAC,EAAG,IAAK,KACxB,QAAW,CAAC,IAAK,IAAK,KACtB,QAAW,CAAC,IAAK,IAAK,KACtB,WAAc,CAAC,GAAI,IAAK,KACxB,UAAa,CAAC,IAAK,GAAI,IACvB,YAAe,CAAC,IAAK,IAAK,KAC1B,YAAe,CAAC,GAAI,IAAK,IACzB,QAAW,CAAC,IAAK,EAAG,KACpB,UAAa,CAAC,IAAK,IAAK,KACxB,WAAc,CAAC,IAAK,IAAK,KACzB,KAAQ,CAAC,IAAK,IAAK,GACnB,UAAa,CAAC,IAAK,IAAK,IACxB,KAAQ,CAAC,IAAK,IAAK,KACnB,MAAS,CAAC,EAAG,IAAK,GAClB,YAAe,CAAC,IAAK,IAAK,IAC1B,KAAQ,CAAC,IAAK,IAAK,KACnB,SAAY,CAAC,IAAK,IAAK,KACvB,QAAW,CAAC,IAAK,IAAK,KACtB,UAAa,CAAC,IAAK,GAAI,IACvB,OAAU,CAAC,GAAI,EAAG,KAClB,MAAS,CAAC,IAAK,IAAK,KACpB,MAAS,CAAC,IAAK,IAAK,KACpB,SAAY,CAAC,IAAK,IAAK,KACvB,cAAiB,CAAC,IAAK,IAAK,KAC5B,UAAa,CAAC,IAAK,IAAK,GACxB,aAAgB,CAAC,IAAK,IAAK,KAC3B,UAAa,CAAC,IAAK,IAAK,KACxB,WAAc,CAAC,IAAK,IAAK,KACzB,UAAa,CAAC,IAAK,IAAK,KACxB,qBAAwB,CAAC,IAAK,IAAK,KACnC,UAAa,CAAC,IAAK,IAAK,KACxB,WAAc,CAAC,IAAK,IAAK,KACzB,UAAa,CAAC,IAAK,IAAK,KACxB,UAAa,CAAC,IAAK,IAAK,KACxB,YAAe,CAAC,IAAK,IAAK,KAC1B,cAAiB,CAAC,GAAI,IAAK,KAC3B,aAAgB,CAAC,IAAK,IAAK,KAC3B,eAAkB,CAAC,IAAK,IAAK,KAC7B,eAAkB,CAAC,IAAK,IAAK,KAC7B,eAAkB,CAAC,IAAK,IAAK,KAC7B,YAAe,CAAC,IAAK,IAAK,KAC1B,KAAQ,CAAC,EAAG,IAAK,GACjB,UAAa,CAAC,GAAI,IAAK,IACvB,MAAS,CAAC,IAAK,IAAK,KACpB,QAAW,CAAC,IAAK,EAAG,KACpB,OAAU,CAAC,IAAK,EAAG,GACnB,iBAAoB,CAAC,IAAK,IAAK,KAC/B,WAAc,CAAC,EAAG,EAAG,KACrB,aAAgB,CAAC,IAAK,GAAI,KAC1B,aAAgB,CAAC,IAAK,IAAK,KAC3B,eAAkB,CAAC,GAAI,IAAK,KAC5B,gBAAmB,CAAC,IAAK,IAAK,KAC9B,kBAAqB,CAAC,EAAG,IAAK,KAC9B,gBAAmB,CAAC,GAAI,IAAK,KAC7B,gBAAmB,CAAC,IAAK,GAAI,KAC7B,aAAgB,CAAC,GAAI,GAAI,KACzB,UAAa,CAAC,IAAK,IAAK,KACxB,UAAa,CAAC,IAAK,IAAK,KACxB,SAAY,CAAC,IAAK,IAAK,KACvB,YAAe,CAAC,IAAK,IAAK,KAC1B,KAAQ,CAAC,EAAG,EAAG,KACf,QAAW,CAAC,IAAK,IAAK,KACtB,MAAS,CAAC,IAAK,IAAK,GACpB,UAAa,CAAC,IAAK,IAAK,IACxB,OAAU,CAAC,IAAK,IAAK,GACrB,UAAa,CAAC,IAAK,GAAI,GACvB,OAAU,CAAC,IAAK,IAAK,KACrB,cAAiB,CAAC,IAAK,IAAK,KAC5B,UAAa,CAAC,IAAK,IAAK,KACxB,cAAiB,CAAC,IAAK,IAAK,KAC5B,cAAiB,CAAC,IAAK,IAAK,KAC5B,WAAc,CAAC,IAAK,IAAK,KACzB,UAAa,CAAC,IAAK,IAAK,KACxB,KAAQ,CAAC,IAAK,IAAK,IACnB,KAAQ,CAAC,IAAK,IAAK,KACnB,KAAQ,CAAC,IAAK,IAAK,KACnB,WAAc,CAAC,IAAK,IAAK,KACzB,OAAU,CAAC,IAAK,EAAG,KACnB,cAAiB,CAAC,IAAK,GAAI,KAC3B,IAAO,CAAC,IAAK,EAAG,GAChB,UAAa,CAAC,IAAK,IAAK,KACxB,UAAa,CAAC,GAAI,IAAK,KACvB,YAAe,CAAC,IAAK,GAAI,IACzB,OAAU,CAAC,IAAK,IAAK,KACrB,WAAc,CAAC,IAAK,IAAK,IACzB,SAAY,CAAC,GAAI,IAAK,IACtB,SAAY,CAAC,IAAK,IAAK,KACvB,OAAU,CAAC,IAAK,GAAI,IACpB,OAAU,CAAC,IAAK,IAAK,KACrB,QAAW,CAAC,IAAK,IAAK,KACtB,UAAa,CAAC,IAAK,GAAI,KACvB,UAAa,CAAC,IAAK,IAAK,KACxB,UAAa,CAAC,IAAK,IAAK,KACxB,KAAQ,CAAC,IAAK,IAAK,KACnB,YAAe,CAAC,EAAG,IAAK,KACxB,UAAa,CAAC,GAAI,IAAK,KACvB,IAAO,CAAC,IAAK,IAAK,KAClB,KAAQ,CAAC,EAAG,IAAK,KACjB,QAAW,CAAC,IAAK,IAAK,KACtB,OAAU,CAAC,IAAK,GAAI,IACpB,UAAa,CAAC,GAAI,IAAK,KACvB,OAAU,CAAC,IAAK,IAAK,KACrB,MAAS,CAAC,IAAK,IAAK,KACpB,MAAS,CAAC,IAAK,IAAK,KACpB,WAAc,CAAC,IAAK,IAAK,KACzB,OAAU,CAAC,IAAK,IAAK,GACrB,YAAe,CAAC,IAAK,IAAK,M,gBCrJ3B,IAAIsU,EAAc,EAAQ,IAMtBC,EAAkB,GACtB,IAAK,IAAI9S,KAAO6S,EACXA,EAAYvS,eAAeN,KAC9B8S,EAAgBD,EAAY7S,IAAQA,GAItC,IAAI8L,EAAUtN,EAAOD,QAAU,CAC9B8P,IAAK,CAAC3B,SAAU,EAAGN,OAAQ,OAC3BoF,IAAK,CAAC9E,SAAU,EAAGN,OAAQ,OAC3B2G,IAAK,CAACrG,SAAU,EAAGN,OAAQ,OAC3ByF,IAAK,CAACnF,SAAU,EAAGN,OAAQ,OAC3B4G,KAAM,CAACtG,SAAU,EAAGN,OAAQ,QAC5B6G,IAAK,CAACvG,SAAU,EAAGN,OAAQ,OAC3B8G,IAAK,CAACxG,SAAU,EAAGN,OAAQ,OAC3B+G,IAAK,CAACzG,SAAU,EAAGN,OAAQ,OAC3BmE,IAAK,CAAC7D,SAAU,EAAGN,OAAQ,CAAC,QAC5BkE,QAAS,CAAC5D,SAAU,EAAGN,OAAQ,CAAC,YAChCgH,OAAQ,CAAC1G,SAAU,EAAGN,OAAQ,CAAC,WAC/BiH,QAAS,CAAC3G,SAAU,EAAGN,OAAQ,CAAC,YAChCkH,IAAK,CAAC5G,SAAU,EAAGN,OAAQ,CAAC,IAAK,IAAK,MACtCmH,MAAO,CAAC7G,SAAU,EAAGN,OAAQ,CAAC,MAAO,MAAO,QAC5CuD,KAAM,CAACjD,SAAU,EAAGN,OAAQ,CAAC,UAI9B,IAAK,IAAID,KAASL,EACjB,GAAIA,EAAQxL,eAAe6L,GAAQ,CAClC,KAAM,aAAcL,EAAQK,IAC3B,MAAM,IAAIM,MAAM,8BAAgCN,GAGjD,KAAM,WAAYL,EAAQK,IACzB,MAAM,IAAIM,MAAM,oCAAsCN,GAGvD,GAAIL,EAAQK,GAAOC,OAAO7J,SAAWuJ,EAAQK,GAAOO,SACnD,MAAM,IAAID,MAAM,sCAAwCN,GAGzD,IAAIO,EAAWZ,EAAQK,GAAOO,SAC1BN,EAASN,EAAQK,GAAOC,cACrBN,EAAQK,GAAOO,gBACfZ,EAAQK,GAAOC,OACtBjN,OAAOC,eAAe0M,EAAQK,GAAQ,WAAY,CAACzM,MAAOgN,IAC1DvN,OAAOC,eAAe0M,EAAQK,GAAQ,SAAU,CAACzM,MAAO0M,IAI1DN,EAAQuC,IAAImD,IAAM,SAAUnD,GAC3B,IAMImF,EAEA9U,EARAa,EAAI8O,EAAI,GAAK,IACbO,EAAIP,EAAI,GAAK,IACbQ,EAAIR,EAAI,GAAK,IACbf,EAAMF,KAAKE,IAAI/N,EAAGqP,EAAGC,GACrBxB,EAAMD,KAAKC,IAAI9N,EAAGqP,EAAGC,GACrB4E,EAAQpG,EAAMC,EA+BlB,OA1BID,IAAQC,EACXkG,EAAI,EACMjU,IAAM8N,EAChBmG,GAAK5E,EAAIC,GAAK4E,EACJ7E,IAAMvB,EAChBmG,EAAI,GAAK3E,EAAItP,GAAKkU,EACR5E,IAAMxB,IAChBmG,EAAI,GAAKjU,EAAIqP,GAAK6E,IAGnBD,EAAIpG,KAAKE,IAAQ,GAAJkG,EAAQ,MAEb,IACPA,GAAK,KAGN9U,GAAK4O,EAAMD,GAAO,EAUX,CAACmG,EAAO,KARXnG,IAAQC,EACP,EACM5O,GAAK,GACX+U,GAASpG,EAAMC,GAEfmG,GAAS,EAAIpG,EAAMC,IAGA,IAAJ5O,IAGrBoN,EAAQuC,IAAI0E,IAAM,SAAU1E,GAC3B,IAAIqF,EACAC,EACAC,EACAJ,EACAhT,EAEAjB,EAAI8O,EAAI,GAAK,IACbO,EAAIP,EAAI,GAAK,IACbQ,EAAIR,EAAI,GAAK,IACbR,EAAIT,KAAKC,IAAI9N,EAAGqP,EAAGC,GACnBgF,EAAOhG,EAAIT,KAAKE,IAAI/N,EAAGqP,EAAGC,GAC1BiF,EAAQ,SAAUhV,GACrB,OAAQ+O,EAAI/O,GAAK,EAAI+U,EAAO,IAyB7B,OAtBa,IAATA,EACHL,EAAIhT,EAAI,GAERA,EAAIqT,EAAOhG,EACX6F,EAAOI,EAAMvU,GACboU,EAAOG,EAAMlF,GACbgF,EAAOE,EAAMjF,GAETtP,IAAMsO,EACT2F,EAAII,EAAOD,EACD/E,IAAMf,EAChB2F,EAAK,EAAI,EAAKE,EAAOE,EACX/E,IAAMhB,IAChB2F,EAAK,EAAI,EAAKG,EAAOD,GAElBF,EAAI,EACPA,GAAK,EACKA,EAAI,IACdA,GAAK,IAIA,CACF,IAAJA,EACI,IAAJhT,EACI,IAAJqN,IAIF/B,EAAQuC,IAAIwD,IAAM,SAAUxD,GAC3B,IAAI9O,EAAI8O,EAAI,GACRO,EAAIP,EAAI,GACRQ,EAAIR,EAAI,GAMZ,MAAO,CALCvC,EAAQuC,IAAImD,IAAInD,GAAK,GAKd,KAJP,EAAI,IAAMjB,KAAKE,IAAI/N,EAAG6N,KAAKE,IAAIsB,EAAGC,KAIlB,KAFxBA,EAAI,EAAI,EAAI,IAAMzB,KAAKC,IAAI9N,EAAG6N,KAAKC,IAAIuB,EAAGC,OAK3C/C,EAAQuC,IAAI2E,KAAO,SAAU3E,GAC5B,IAMI0F,EANAxU,EAAI8O,EAAI,GAAK,IACbO,EAAIP,EAAI,GAAK,IACbQ,EAAIR,EAAI,GAAK,IAWjB,MAAO,CAAK,MAJP,EAAI9O,GADTwU,EAAI3G,KAAKE,IAAI,EAAI/N,EAAG,EAAIqP,EAAG,EAAIC,MACZ,EAAIkF,IAAM,GAIR,MAHhB,EAAInF,EAAImF,IAAM,EAAIA,IAAM,GAGC,MAFzB,EAAIlF,EAAIkF,IAAM,EAAIA,IAAM,GAEU,IAAJA,IAcpCjI,EAAQuC,IAAIiC,QAAU,SAAUjC,GAC/B,IAAI2F,EAAWlB,EAAgBzE,GAC/B,GAAI2F,EACH,OAAOA,EAGR,IACIC,EAfwB/D,EAAGC,EAc3B+D,EAAyBC,IAG7B,IAAK,IAAI7D,KAAWuC,EACnB,GAAIA,EAAYvS,eAAegQ,GAAU,CACxC,IAAI5Q,EAAQmT,EAAYvC,GAGpB8D,GAtBsBlE,EAsBS7B,EAtBN8B,EAsBWzQ,EApBzC0N,KAAKwD,IAAIV,EAAE,GAAKC,EAAE,GAAI,GACtB/C,KAAKwD,IAAIV,EAAE,GAAKC,EAAE,GAAI,GACtB/C,KAAKwD,IAAIV,EAAE,GAAKC,EAAE,GAAI,IAqBjBiE,EAAWF,IACdA,EAAyBE,EACzBH,EAAwB3D,GAK3B,OAAO2D,GAGRnI,EAAQwE,QAAQjC,IAAM,SAAUiC,GAC/B,OAAOuC,EAAYvC,IAGpBxE,EAAQuC,IAAI4E,IAAM,SAAU5E,GAC3B,IAAI9O,EAAI8O,EAAI,GAAK,IACbO,EAAIP,EAAI,GAAK,IACbQ,EAAIR,EAAI,GAAK,IAWjB,MAAO,CAAK,KAJC,OAJb9O,EAAIA,EAAI,OAAU6N,KAAKwD,KAAMrR,EAAI,MAAS,MAAQ,KAAQA,EAAI,OAIlC,OAH5BqP,EAAIA,EAAI,OAAUxB,KAAKwD,KAAMhC,EAAI,MAAS,MAAQ,KAAQA,EAAI,OAGnB,OAF3CC,EAAIA,EAAI,OAAUzB,KAAKwD,KAAM/B,EAAI,MAAS,MAAQ,KAAQA,EAAI,QAMzC,KAHR,MAAJtP,EAAmB,MAAJqP,EAAmB,MAAJC,GAGT,KAFjB,MAAJtP,EAAmB,MAAJqP,EAAmB,MAAJC,KAKxC/C,EAAQuC,IAAI6E,IAAM,SAAU7E,GAC3B,IAAI4E,EAAMnH,EAAQuC,IAAI4E,IAAI5E,GACtB6B,EAAI+C,EAAI,GACR9C,EAAI8C,EAAI,GACR7C,EAAI6C,EAAI,GAiBZ,OAXA9C,GAAK,IACLC,GAAK,QAELF,GAJAA,GAAK,QAIG,QAAW9C,KAAKwD,IAAIV,EAAG,EAAI,GAAM,MAAQA,EAAM,GAAK,IAQrD,CAJF,KAHLC,EAAIA,EAAI,QAAW/C,KAAKwD,IAAIT,EAAG,EAAI,GAAM,MAAQA,EAAM,GAAK,KAG5C,GACZ,KAAOD,EAAIC,GACX,KAAOA,GAJXC,EAAIA,EAAI,QAAWhD,KAAKwD,IAAIR,EAAG,EAAI,GAAM,MAAQA,EAAM,GAAK,QAS7DtE,EAAQ0F,IAAInD,IAAM,SAAUmD,GAC3B,IAGI6C,EACAC,EACAC,EACAlG,EACAV,EAPA6F,EAAIhC,EAAI,GAAK,IACbhR,EAAIgR,EAAI,GAAK,IACb9S,EAAI8S,EAAI,GAAK,IAOjB,GAAU,IAANhR,EAEH,MAAO,CADPmN,EAAU,IAAJjP,EACOiP,EAAKA,GASnB0G,EAAK,EAAI3V,GALR4V,EADG5V,EAAI,GACFA,GAAK,EAAI8B,GAET9B,EAAI8B,EAAI9B,EAAI8B,GAKlB6N,EAAM,CAAC,EAAG,EAAG,GACb,IAAK,IAAI5P,EAAI,EAAGA,EAAI,EAAGA,KACtB8V,EAAKf,EAAI,EAAI,IAAM/U,EAAI,IACd,GACR8V,IAEGA,EAAK,GACRA,IAIA5G,EADG,EAAI4G,EAAK,EACNF,EAAiB,GAAXC,EAAKD,GAAUE,EACjB,EAAIA,EAAK,EACbD,EACI,EAAIC,EAAK,EACbF,GAAMC,EAAKD,IAAO,EAAI,EAAIE,GAAM,EAEhCF,EAGPhG,EAAI5P,GAAW,IAANkP,EAGV,OAAOU,GAGRvC,EAAQ0F,IAAIuB,IAAM,SAAUvB,GAC3B,IAAIgC,EAAIhC,EAAI,GACRhR,EAAIgR,EAAI,GAAK,IACb9S,EAAI8S,EAAI,GAAK,IACbgD,EAAOhU,EACPiU,EAAOrH,KAAKC,IAAI3O,EAAG,KAUvB,OALA8B,IADA9B,GAAK,IACM,EAAKA,EAAI,EAAIA,EACxB8V,GAAQC,GAAQ,EAAIA,EAAO,EAAIA,EAIxB,CAACjB,EAAQ,KAFL,IAAN9U,EAAW,EAAI8V,GAASC,EAAOD,GAAS,EAAIhU,GAAM9B,EAAI8B,IAElC,MAHpB9B,EAAI8B,GAAK,KAMfsL,EAAQiH,IAAI1E,IAAM,SAAU0E,GAC3B,IAAIS,EAAIT,EAAI,GAAK,GACbvS,EAAIuS,EAAI,GAAK,IACblF,EAAIkF,EAAI,GAAK,IACb2B,EAAKtH,KAAKuH,MAAMnB,GAAK,EAErBoB,EAAIpB,EAAIpG,KAAKuH,MAAMnB,GACnBjT,EAAI,IAAMsN,GAAK,EAAIrN,GACnBqU,EAAI,IAAMhH,GAAK,EAAKrN,EAAIoU,GACxBjV,EAAI,IAAMkO,GAAK,EAAKrN,GAAK,EAAIoU,IAGjC,OAFA/G,GAAK,IAEG6G,GACP,KAAK,EACJ,MAAO,CAAC7G,EAAGlO,EAAGY,GACf,KAAK,EACJ,MAAO,CAACsU,EAAGhH,EAAGtN,GACf,KAAK,EACJ,MAAO,CAACA,EAAGsN,EAAGlO,GACf,KAAK,EACJ,MAAO,CAACY,EAAGsU,EAAGhH,GACf,KAAK,EACJ,MAAO,CAAClO,EAAGY,EAAGsN,GACf,KAAK,EACJ,MAAO,CAACA,EAAGtN,EAAGsU,KAIjB/I,EAAQiH,IAAIvB,IAAM,SAAUuB,GAC3B,IAII0B,EACAK,EACApW,EANA8U,EAAIT,EAAI,GACRvS,EAAIuS,EAAI,GAAK,IACblF,EAAIkF,EAAI,GAAK,IACbgC,EAAO3H,KAAKC,IAAIQ,EAAG,KAYvB,OAPAnP,GAAK,EAAI8B,GAAKqN,EAEdiH,EAAKtU,EAAIuU,EAKF,CAACvB,EAAQ,KAHhBsB,GADAA,IAFAL,GAAQ,EAAIjU,GAAKuU,IAEF,EAAKN,EAAO,EAAIA,IACpB,GAGc,KAFzB/V,GAAK,KAMNoN,EAAQ+F,IAAIxD,IAAM,SAAUwD,GAC3B,IAIIpT,EACAoP,EACA+G,EACA1U,EAkBAX,EACAqP,EACAC,EA3BA2E,EAAI3B,EAAI,GAAK,IACbmD,EAAKnD,EAAI,GAAK,IACdoD,EAAKpD,EAAI,GAAK,IACdN,EAAQyD,EAAKC,EAyBjB,OAlBI1D,EAAQ,IACXyD,GAAMzD,EACN0D,GAAM1D,GAKPqD,EAAI,EAAIpB,GAFR/U,EAAI2O,KAAKuH,MAAM,EAAInB,IAIA,IAAV,EAAJ/U,KACJmW,EAAI,EAAIA,GAGT1U,EAAI8U,EAAKJ,IAPT/G,EAAI,EAAIoH,GAOUD,GAKVvW,GACP,QACA,KAAK,EACL,KAAK,EAAGc,EAAIsO,EAAGe,EAAI1O,EAAG2O,EAAImG,EAAI,MAC9B,KAAK,EAAGzV,EAAIW,EAAG0O,EAAIf,EAAGgB,EAAImG,EAAI,MAC9B,KAAK,EAAGzV,EAAIyV,EAAIpG,EAAIf,EAAGgB,EAAI3O,EAAG,MAC9B,KAAK,EAAGX,EAAIyV,EAAIpG,EAAI1O,EAAG2O,EAAIhB,EAAG,MAC9B,KAAK,EAAGtO,EAAIW,EAAG0O,EAAIoG,EAAInG,EAAIhB,EAAG,MAC9B,KAAK,EAAGtO,EAAIsO,EAAGe,EAAIoG,EAAInG,EAAI3O,EAG5B,MAAO,CAAK,IAAJX,EAAa,IAAJqP,EAAa,IAAJC,IAG3B/C,EAAQkH,KAAK3E,IAAM,SAAU2E,GAC5B,IAAIlU,EAAIkU,EAAK,GAAK,IACdnU,EAAImU,EAAK,GAAK,IACd7C,EAAI6C,EAAK,GAAK,IACde,EAAIf,EAAK,GAAK,IASlB,MAAO,CAAK,KAJR,EAAI5F,KAAKE,IAAI,EAAGxO,GAAK,EAAIiV,GAAKA,IAIb,KAHjB,EAAI3G,KAAKE,IAAI,EAAGzO,GAAK,EAAIkV,GAAKA,IAGJ,KAF1B,EAAI3G,KAAKE,IAAI,EAAG6C,GAAK,EAAI4D,GAAKA,MAKnCjI,EAAQmH,IAAI5E,IAAM,SAAU4E,GAC3B,IAGI1T,EACAqP,EACAC,EALAqB,EAAI+C,EAAI,GAAK,IACb9C,EAAI8C,EAAI,GAAK,IACb7C,EAAI6C,EAAI,GAAK,IA0BjB,OApBArE,GAAU,MAALsB,EAAoB,OAAJC,EAAmB,MAAJC,EACpCvB,EAAS,MAAJqB,GAAoB,KAALC,EAAoB,MAAJC,EAGpC7Q,GALAA,EAAS,OAAJ2Q,GAAoB,OAALC,GAAqB,MAALC,GAK5B,SACH,MAAQhD,KAAKwD,IAAIrR,EAAG,EAAM,KAAQ,KAChC,MAAJA,EAEHqP,EAAIA,EAAI,SACH,MAAQxB,KAAKwD,IAAIhC,EAAG,EAAM,KAAQ,KAChC,MAAJA,EAEHC,EAAIA,EAAI,SACH,MAAQzB,KAAKwD,IAAI/B,EAAG,EAAM,KAAQ,KAChC,MAAJA,EAMI,CAAK,KAJZtP,EAAI6N,KAAKE,IAAIF,KAAKC,IAAI,EAAG9N,GAAI,IAIR,KAHrBqP,EAAIxB,KAAKE,IAAIF,KAAKC,IAAI,EAAGuB,GAAI,IAGC,KAF9BC,EAAIzB,KAAKE,IAAIF,KAAKC,IAAI,EAAGwB,GAAI,MAK9B/C,EAAQmH,IAAIC,IAAM,SAAUD,GAC3B,IAAI/C,EAAI+C,EAAI,GACR9C,EAAI8C,EAAI,GACR7C,EAAI6C,EAAI,GAiBZ,OAXA9C,GAAK,IACLC,GAAK,QAELF,GAJAA,GAAK,QAIG,QAAW9C,KAAKwD,IAAIV,EAAG,EAAI,GAAM,MAAQA,EAAM,GAAK,IAQrD,CAJF,KAHLC,EAAIA,EAAI,QAAW/C,KAAKwD,IAAIT,EAAG,EAAI,GAAM,MAAQA,EAAM,GAAK,KAG5C,GACZ,KAAOD,EAAIC,GACX,KAAOA,GAJXC,EAAIA,EAAI,QAAWhD,KAAKwD,IAAIR,EAAG,EAAI,GAAM,MAAQA,EAAM,GAAK,QAS7DtE,EAAQoH,IAAID,IAAM,SAAUC,GAC3B,IAGIhD,EACAC,EACAC,EALA1R,EAAIwU,EAAI,GAQZhD,EAPQgD,EAAI,GAOJ,KADR/C,GAAKzR,EAAI,IAAM,KAEf0R,EAAID,EAPI+C,EAAI,GAOA,IAEZ,IAAIgC,EAAK9H,KAAKwD,IAAIT,EAAG,GACjBgF,EAAK/H,KAAKwD,IAAIV,EAAG,GACjBkF,EAAKhI,KAAKwD,IAAIR,EAAG,GASrB,OARAD,EAAI+E,EAAK,QAAWA,GAAM/E,EAAI,GAAK,KAAO,MAC1CD,EAAIiF,EAAK,QAAWA,GAAMjF,EAAI,GAAK,KAAO,MAC1CE,EAAIgF,EAAK,QAAWA,GAAMhF,EAAI,GAAK,KAAO,MAMnC,CAJPF,GAAK,OACLC,GAAK,IACLC,GAAK,UAKNtE,EAAQoH,IAAIC,IAAM,SAAUD,GAC3B,IAIIM,EAJA9U,EAAIwU,EAAI,GACR7C,EAAI6C,EAAI,GACRrE,EAAIqE,EAAI,GAcZ,OARAM,EAAS,IADJpG,KAAKiI,MAAMxG,EAAGwB,GACJ,EAAIjD,KAAKkI,IAEhB,IACP9B,GAAK,KAKC,CAAC9U,EAFJ0O,KAAKmI,KAAKlF,EAAIA,EAAIxB,EAAIA,GAEZ2E,IAGf1H,EAAQqH,IAAID,IAAM,SAAUC,GAC3B,IAKIqC,EALA9W,EAAIyU,EAAI,GACRrU,EAAIqU,EAAI,GAUZ,OAJAqC,EALQrC,EAAI,GAKH,IAAM,EAAI/F,KAAKkI,GAIjB,CAAC5W,EAHJI,EAAIsO,KAAKqI,IAAID,GACb1W,EAAIsO,KAAKsI,IAAIF,KAKlB1J,EAAQuC,IAAI+E,OAAS,SAAUhN,GAC9B,IAAI7G,EAAI6G,EAAK,GACTwI,EAAIxI,EAAK,GACTyI,EAAIzI,EAAK,GACT1G,EAAQ,KAAKmD,UAAYA,UAAU,GAAKiJ,EAAQuC,IAAI0E,IAAI3M,GAAM,GAIlE,GAAc,KAFd1G,EAAQ0N,KAAKkB,MAAM5O,EAAQ,KAG1B,OAAO,GAGR,IAAIiW,EAAO,IACNvI,KAAKkB,MAAMO,EAAI,MAAQ,EACxBzB,KAAKkB,MAAMM,EAAI,MAAQ,EACxBxB,KAAKkB,MAAM/O,EAAI,MAMlB,OAJc,IAAVG,IACHiW,GAAQ,IAGFA,GAGR7J,EAAQiH,IAAIK,OAAS,SAAUhN,GAG9B,OAAO0F,EAAQuC,IAAI+E,OAAOtH,EAAQiH,IAAI1E,IAAIjI,GAAOA,EAAK,KAGvD0F,EAAQuC,IAAIgF,QAAU,SAAUjN,GAC/B,IAAI7G,EAAI6G,EAAK,GACTwI,EAAIxI,EAAK,GACTyI,EAAIzI,EAAK,GAIb,OAAI7G,IAAMqP,GAAKA,IAAMC,EAChBtP,EAAI,EACA,GAGJA,EAAI,IACA,IAGD6N,KAAKkB,OAAQ/O,EAAI,GAAK,IAAO,IAAM,IAGhC,GACP,GAAK6N,KAAKkB,MAAM/O,EAAI,IAAM,GAC1B,EAAI6N,KAAKkB,MAAMM,EAAI,IAAM,GAC1BxB,KAAKkB,MAAMO,EAAI,IAAM,IAKzB/C,EAAQsH,OAAO/E,IAAM,SAAUjI,GAC9B,IAAIuG,EAAQvG,EAAO,GAGnB,GAAc,IAAVuG,GAAyB,IAAVA,EAOlB,OANIvG,EAAO,KACVuG,GAAS,KAKH,CAFPA,EAAQA,EAAQ,KAAO,IAERA,EAAOA,GAGvB,IAAIiJ,EAA6B,IAAL,KAAbxP,EAAO,KAKtB,MAAO,EAJW,EAARuG,GAAaiJ,EAAQ,KACpBjJ,GAAS,EAAK,GAAKiJ,EAAQ,KAC3BjJ,GAAS,EAAK,GAAKiJ,EAAQ,MAKvC9J,EAAQuH,QAAQhF,IAAM,SAAUjI,GAE/B,GAAIA,GAAQ,IAAK,CAChB,IAAItH,EAAmB,IAAdsH,EAAO,KAAY,EAC5B,MAAO,CAACtH,EAAGA,EAAGA,GAKf,IAAI+W,EAKJ,OAPAzP,GAAQ,GAOD,CAJCgH,KAAKuH,MAAMvO,EAAO,IAAM,EAAI,IAC5BgH,KAAKuH,OAAOkB,EAAMzP,EAAO,IAAM,GAAK,EAAI,IACvCyP,EAAM,EAAK,EAAI,MAKzB/J,EAAQuC,IAAIkC,IAAM,SAAUnK,GAC3B,IAII4H,KAJkC,IAAtBZ,KAAKkB,MAAMlI,EAAK,MAAe,MACpB,IAAtBgH,KAAKkB,MAAMlI,EAAK,MAAe,IACV,IAAtBgH,KAAKkB,MAAMlI,EAAK,MAECtF,SAAS,IAAIgV,cAClC,MAAO,SAAS5N,UAAU8F,EAAOzL,QAAUyL,GAG5ClC,EAAQyE,IAAIlC,IAAM,SAAUjI,GAC3B,IAAI2P,EAAQ3P,EAAKtF,SAAS,IAAIiV,MAAM,4BACpC,IAAKA,EACJ,MAAO,CAAC,EAAG,EAAG,GAGf,IAAIlK,EAAckK,EAAM,GAEA,IAApBA,EAAM,GAAGxT,SACZsJ,EAAcA,EAAYzC,MAAM,IAAIpI,KAAI,SAAUgV,GACjD,OAAOA,EAAOA,KACZ9T,KAAK,KAGT,IAAI+T,EAAUC,SAASrK,EAAa,IAKpC,MAAO,CAJEoK,GAAW,GAAM,IACjBA,GAAW,EAAK,IACP,IAAVA,IAKTnK,EAAQuC,IAAIiF,IAAM,SAAUjF,GAC3B,IAOIiB,EAPA/P,EAAI8O,EAAI,GAAK,IACbO,EAAIP,EAAI,GAAK,IACbQ,EAAIR,EAAI,GAAK,IACbhB,EAAMD,KAAKC,IAAID,KAAKC,IAAI9N,EAAGqP,GAAIC,GAC/BvB,EAAMF,KAAKE,IAAIF,KAAKE,IAAI/N,EAAGqP,GAAIC,GAC/Ba,EAAUrC,EAAMC,EAyBpB,OAdCgC,EADGI,GAAU,EACP,EAEHrC,IAAQ9N,GACHqP,EAAIC,GAAKa,EAAU,EAExBrC,IAAQuB,EACL,GAAKC,EAAItP,GAAKmQ,EAEd,GAAKnQ,EAAIqP,GAAKc,EAAS,EAG9BJ,GAAO,EAGA,CAAO,KAFdA,GAAO,GAEqB,IAATI,EAA0B,KArBzCA,EAAS,EACApC,GAAO,EAAIoC,GAEX,KAqBd5D,EAAQ0F,IAAI8B,IAAM,SAAU9B,GAC3B,IAAIhR,EAAIgR,EAAI,GAAK,IACb9S,EAAI8S,EAAI,GAAK,IACb1S,EAAI,EACJ8V,EAAI,EAYR,OATC9V,EADGJ,EAAI,GACH,EAAM8B,EAAI9B,EAEV,EAAM8B,GAAK,EAAM9B,IAGd,IACPkW,GAAKlW,EAAI,GAAMI,IAAM,EAAMA,IAGrB,CAAC0S,EAAI,GAAQ,IAAJ1S,EAAa,IAAJ8V,IAG1B9I,EAAQiH,IAAIO,IAAM,SAAUP,GAC3B,IAAIvS,EAAIuS,EAAI,GAAK,IACblF,EAAIkF,EAAI,GAAK,IAEbjU,EAAI0B,EAAIqN,EACR+G,EAAI,EAMR,OAJI9V,EAAI,IACP8V,GAAK/G,EAAI/O,IAAM,EAAIA,IAGb,CAACiU,EAAI,GAAQ,IAAJjU,EAAa,IAAJ8V,IAG1B9I,EAAQwH,IAAIjF,IAAM,SAAUiF,GAC3B,IAAIE,EAAIF,EAAI,GAAK,IACbxU,EAAIwU,EAAI,GAAK,IACb1E,EAAI0E,EAAI,GAAK,IAEjB,GAAU,IAANxU,EACH,MAAO,CAAK,IAAJ8P,EAAa,IAAJA,EAAa,IAAJA,GAG3B,IAIIuH,EAJAC,EAAO,CAAC,EAAG,EAAG,GACd1B,EAAMlB,EAAI,EAAK,EACf3F,EAAI6G,EAAK,EACTlC,EAAI,EAAI3E,EAGZ,OAAQT,KAAKuH,MAAMD,IAClB,KAAK,EACJ0B,EAAK,GAAK,EAAGA,EAAK,GAAKvI,EAAGuI,EAAK,GAAK,EAAG,MACxC,KAAK,EACJA,EAAK,GAAK5D,EAAG4D,EAAK,GAAK,EAAGA,EAAK,GAAK,EAAG,MACxC,KAAK,EACJA,EAAK,GAAK,EAAGA,EAAK,GAAK,EAAGA,EAAK,GAAKvI,EAAG,MACxC,KAAK,EACJuI,EAAK,GAAK,EAAGA,EAAK,GAAK5D,EAAG4D,EAAK,GAAK,EAAG,MACxC,KAAK,EACJA,EAAK,GAAKvI,EAAGuI,EAAK,GAAK,EAAGA,EAAK,GAAK,EAAG,MACxC,QACCA,EAAK,GAAK,EAAGA,EAAK,GAAK,EAAGA,EAAK,GAAK5D,EAKtC,OAFA2D,GAAM,EAAMrX,GAAK8P,EAEV,CACe,KAApB9P,EAAIsX,EAAK,GAAKD,GACM,KAApBrX,EAAIsX,EAAK,GAAKD,GACM,KAApBrX,EAAIsX,EAAK,GAAKD,KAIjBrK,EAAQwH,IAAIP,IAAM,SAAUO,GAC3B,IAAIxU,EAAIwU,EAAI,GAAK,IAGbzF,EAAI/O,EAFAwU,EAAI,GAAK,KAEA,EAAMxU,GACnB8V,EAAI,EAMR,OAJI/G,EAAI,IACP+G,EAAI9V,EAAI+O,GAGF,CAACyF,EAAI,GAAQ,IAAJsB,EAAa,IAAJ/G,IAG1B/B,EAAQwH,IAAI9B,IAAM,SAAU8B,GAC3B,IAAIxU,EAAIwU,EAAI,GAAK,IAGb5U,EAFI4U,EAAI,GAAK,KAEJ,EAAMxU,GAAK,GAAMA,EAC1B0B,EAAI,EASR,OAPI9B,EAAI,GAAOA,EAAI,GAClB8B,EAAI1B,GAAK,EAAIJ,GAEVA,GAAK,IAAOA,EAAI,IACnB8B,EAAI1B,GAAK,GAAK,EAAIJ,KAGZ,CAAC4U,EAAI,GAAQ,IAAJ9S,EAAa,IAAJ9B,IAG1BoN,EAAQwH,IAAIzB,IAAM,SAAUyB,GAC3B,IAAIxU,EAAIwU,EAAI,GAAK,IAEbzF,EAAI/O,EADAwU,EAAI,GAAK,KACA,EAAMxU,GACvB,MAAO,CAACwU,EAAI,GAAc,KAATzF,EAAI/O,GAAoB,KAAT,EAAI+O,KAGrC/B,EAAQ+F,IAAIyB,IAAM,SAAUzB,GAC3B,IAAIW,EAAIX,EAAI,GAAK,IAEbhE,EAAI,EADAgE,EAAI,GAAK,IAEb/S,EAAI+O,EAAI2E,EACR5D,EAAI,EAMR,OAJI9P,EAAI,IACP8P,GAAKf,EAAI/O,IAAM,EAAIA,IAGb,CAAC+S,EAAI,GAAQ,IAAJ/S,EAAa,IAAJ8P,IAG1B9C,EAAQyH,MAAMlF,IAAM,SAAUkF,GAC7B,MAAO,CAAEA,EAAM,GAAK,MAAS,IAAMA,EAAM,GAAK,MAAS,IAAMA,EAAM,GAAK,MAAS,MAGlFzH,EAAQuC,IAAIkF,MAAQ,SAAUlF,GAC7B,MAAO,CAAEA,EAAI,GAAK,IAAO,MAAQA,EAAI,GAAK,IAAO,MAAQA,EAAI,GAAK,IAAO,QAG1EvC,EAAQ6D,KAAKtB,IAAM,SAAUjI,GAC5B,MAAO,CAACA,EAAK,GAAK,IAAM,IAAKA,EAAK,GAAK,IAAM,IAAKA,EAAK,GAAK,IAAM,MAGnE0F,EAAQ6D,KAAK6B,IAAM1F,EAAQ6D,KAAKoD,IAAM,SAAU3M,GAC/C,MAAO,CAAC,EAAG,EAAGA,EAAK,KAGpB0F,EAAQ6D,KAAKkC,IAAM,SAAUlC,GAC5B,MAAO,CAAC,EAAG,IAAKA,EAAK,KAGtB7D,EAAQ6D,KAAKqD,KAAO,SAAUrD,GAC7B,MAAO,CAAC,EAAG,EAAG,EAAGA,EAAK,KAGvB7D,EAAQ6D,KAAKuD,IAAM,SAAUvD,GAC5B,MAAO,CAACA,EAAK,GAAI,EAAG,IAGrB7D,EAAQ6D,KAAKY,IAAM,SAAUZ,GAC5B,IAAIhC,EAAwC,IAAlCP,KAAKkB,MAAMqB,EAAK,GAAK,IAAM,KAGjC3B,IAFWL,GAAO,KAAOA,GAAO,GAAKA,GAEpB7M,SAAS,IAAIgV,cAClC,MAAO,SAAS5N,UAAU8F,EAAOzL,QAAUyL,GAG5ClC,EAAQuC,IAAIsB,KAAO,SAAUtB,GAE5B,MAAO,EADIA,EAAI,GAAKA,EAAI,GAAKA,EAAI,IAAM,EACzB,IAAM,O,8ECj2BrB,WAEA,qBACI,IAAMgI,GAAc,IAAAC,kBACpB,OAAOnX,OAAO+M,KAAKmK,GAAaE,QAC5B,SAACC,EAAsCxW,GAEnC,OADAwW,EAASxW,IAAQqW,EAAYrW,GAAKyW,gBAC3BD,IAEiB,M,4iBCTpC,YACA,OACA,QACA,QACA,QACA,QAEA,cAOI,WAAYlT,GAAZ,MACI,cAAO,K,OAEP,EAAKoT,QAAU,IAAI,UAAYpT,GAC/B,EAAKqT,cAAgB,IAAI,UAAkBrT,EAAMqT,eACjD,EAAKC,QAAUtT,EAAMuT,WAAa,IAAI,UAAYvT,EAAMwT,iBAAmB,KAC3E,EAAKC,qBAAuB,IAAI,UAAyBzT,EAAMyT,sBAC/D,EAAKC,SAAW,IAAI,UAAa1T,EAAMwT,iB,EAuB/C,OArCwC,OAiBpC,YAAAG,QAAA,WACI,IAAIN,EAAgB5V,KAAK4V,cAAcM,UACnCC,EAAuBnW,KAAKgW,qBAAqBE,UACjDD,EAAWjW,KAAKiW,SAASC,UACzBE,EAAO,8EAcX,OAbAA,GAAQ,iBAAiBpW,KAAK2V,QAAQO,UAAS,MAC/CE,GAAQR,EAAgB,sCAAsCA,EAAa,MAAQ,GACnFQ,GAAQ,6CACRA,GAAQpW,KAAKoI,OAAO,uBACpBgO,GAAQR,EAAgB5V,KAAKoI,OAAO,mCAAqC,GACzEgO,GAAQD,EACFnW,KAAKoI,OAAO,4BAA4B+N,EAAoB,QAC5D,GACNC,GAAQH,EAAWjW,KAAKoI,OAAO,iBAAiB6N,EAAQ,OAAS,GACjEG,GAAQ,OACRA,GAAQ,4DACRA,GAAQpW,KAAK6V,QAAU7V,KAAK6V,QAAQK,UAAY,IAIxD,EArCA,CAAwC,W,yjBCRxC,IAEA,cACI,WAAoBG,GAApB,MACI,cAAO,K,OADS,EAAAA,oB,EAOxB,OAR0C,OAKtC,YAAAH,QAAA,WACI,OAAOlW,KAAKqW,kBAAoB,yBAA2B,MAEnE,EARA,CAFA,KAE0C,S,yjBCF1C,IAGA,cACI,WAAoBT,GAApB,MACI,cAAO,K,OADS,EAAAA,gB,EA0BxB,OA3B+C,OAK3C,YAAAM,QAAA,WACQ,MAQAlW,KAAK4V,cAPLU,EAAI,OACJC,EAAM,SACNC,EAAS,YACTC,EAAU,aACVC,EAAQ,WACRC,EAAS,YACTC,EAAe,kBAEfC,EAAQ,CACRP,EAAO,gBAAkB,KACzBC,EAAS,kBAAoB,KAC7BC,EAAY,qBAAuB,KACnCC,EAAa,gBAAgBzW,KAAKiI,OAAOwO,GAAW,OAAS,KAC7DC,EAAW,cAAc1W,KAAKiI,OAAOyO,GAAS,OAAS,KACvDC,EAAY,eAAe3W,KAAKiI,OAAO0O,GAAU,OAAS,KAC1DC,EAAkB,qBAAqB5W,KAAKiI,OAAO2O,GAAgB,OAAS,MAC9EE,QAAO,SAAAxO,GAAQ,QAAEA,KAEnB,OAAOuO,EAAMrV,OAAS,EAAI,MAAQxB,KAAKoI,OAAOyO,EAAM1V,KAAK,KAAO,IAAM,IAE9E,EA3BA,CAHA,KAG+C,S,yjBCH/C,IAGA,cACI,WAAoB6U,GAApB,MACI,cAAO,K,OADS,EAAAA,uB,EASxB,OAVsD,OAKlD,YAAAE,QAAA,sBACI,OAAQlW,KAAKgW,sBAAwB,IAChC/V,KAAI,SAAAhC,GAAQ,SAAKmK,OAAO,IAAMnK,EAAO,SACrCkD,KAAK,OAElB,EAVA,CAHA,KAGsD,S,yjBCFtD,WACA,QACA,QACA,QACA,QACA,QACA,QAQA,cAGI,WAAoBoB,EAAmCwU,GAAvD,MACI,cAAO,KADS,EAAAxU,QAAmC,EAAAwU,oBAGnD,IAAIC,EAAazU,EAAMyU,W,OACvB,EAAKrB,QAAU,CACXqB,EAAWC,aAAe,IAAI,UAAgB1U,EAAM2U,qBACpDF,EAAWG,WAAa,IAAI,UAAc5U,EAAM6U,WAChDJ,EAAWK,OAAS,IAAI,EAAAC,UACxBN,EAAWO,WAAa,IAAI,UAAc,EAAKhV,MAAMiV,eACrDR,EAAWS,WAAa,IAAI,EAAAC,cAC5BV,EAAWW,mBAAqB,IAAI,EAAAC,sBACpCZ,EAAWa,aAAe,IAAI,EAAAC,gBAC9Bd,EAAWe,cAAgB,IAAI,UAC/Bf,EAAWgB,eAAiB,IAAI,EAAAC,kBAChCjB,EAAWkB,oBAAsB,IAAI,WACvCpB,QAAO,SAAAqB,GAAU,QAAEA,K,EAa7B,OA/ByC,OAqBrC,YAAAjC,QAAA,WACI,IAAIE,EAAO,MAOX,OANAA,GAAQpW,KAAKoI,OAAOpI,KAAK2V,QAAQ1V,KAAI,SAAAkY,GAAU,OAAAA,EAAOjC,UAAY,SAAO/U,KAAK,KAE1EnB,KAAK+W,oBACLX,GAAQpW,KAAKoI,OAAOpI,KAAK+W,kBAAkB9W,KAAI,SAAAT,GAAK,OAAAA,EAAI,SAAO2B,KAAK,MAExEiV,GAAQ,KAGhB,EA/BA,CAAyC,W,+GCZzC,SAAYgC,GAIR,qBAKA,mCAKA,6BAKA,iCAKA,qDAKA,wBA7BJ,CAAY,EAAAA,aAAA,EAAAA,WAAU,M,4GCAtB,SAAYC,GAIR,mBAKA,uBAKA,6BAKA,mBAKA,2BAKA,2CAKA,2CAKA,6BAKA,yCAKA,mCAKA,oCAKA,wCAKA,wCAKA,sBAKA,8BAKA,kCAKA,gCAKA,gCAKA,gCAKA,kCAKA,kCAKA,kCAKA,8BAKA,sCAKA,wBAKA,oBAKA,kBAKA,kBAKA,oBAKA,oBAKA,kCA1JJ,CAAY,EAAAA,uBAAA,EAAAA,qBAAoB,M,qZCHhC,WAGA,OAOa,EAAAC,6BAAoE,CAC7EC,oBAAqB,OACrBC,qBAAsB,QACtBC,sBAAuB,SACvBC,sBAAuB,SACvBC,mBAAoB,MACpBC,uBAAwB,UACxBC,yBAA0B,aAC1BC,0BAA2B,cAC3BC,2BAA4B,eAC5BC,2BAA4B,eAC5BC,wBAAyB,YACzBC,4BAA6B,gBAC7BC,qBAAsB,QACtBC,yBAA0B,aAC1BC,oBAAqB,OACrBC,wBAAyB,YACzBC,0BAA2B,cAC3BC,qBAAsB,SAG1B,IAAMC,GAAa,IAAAC,gBAAe,CAC9BC,qBAAsB,CAClBC,MAAO,QACPC,QAAS,MACTC,SAAU,SACV,OAAQ,CACJF,MAAO,QACPE,SAAU,WAGlBC,cAAe,CACXC,QAAS,eACTJ,MAAO,OACPK,OAAQ,OACR,WAAY,CACRJ,QAAS,MACTK,SAAU,MACVC,WAAY,cACZC,OAAQ,SAGhBC,YAAa,CACTT,MAAO,OACPK,OAAQ,OACRK,OAAQ,MACRC,YAAa,QACbC,YAAa,MACb,UAAW,CACPC,YAAa,QAGrBC,kBAAmB,CACfD,YAAa,eAEjBE,uBAAwB,CACpBF,YAAa,aAOfG,EAA+D,CACjEC,mBAAoB,CAAEC,eAAgB,UAAWC,cAAe,WAChEC,oBAAqB,CAAEF,eAAgB,UAAWC,cAAe,WACjEE,qBAAsB,CAAEH,eAAgB,UAAWC,cAAe,WAClEG,qBAAsB,CAAEJ,eAAgB,UAAWC,cAAe,WAClEI,kBAAmB,CAAEL,eAAgB,UAAWC,cAAe,WAC/DK,qBAAsB,CAAEN,eAAgB,UAAWC,cAAe,WAClEM,cAAe,CAAEP,eAAgB,UAAWC,cAAe,WAC3DO,eAAgB,CAAER,eAAgB,UAAWC,cAAe,WAC5DQ,gBAAiB,CAAET,eAAgB,UAAWC,cAAe,WAC7DS,gBAAiB,CAAEV,eAAgB,UAAWC,cAAe,WAC7DU,aAAc,CAAEX,eAAgB,UAAWC,cAAe,WAC1DW,gBAAiB,CAAEZ,eAAgB,UAAWC,cAAe,WAC7DY,kBAAmB,CAAEb,eAAgB,UAAWC,cAAe,WAC/Da,mBAAoB,CAAEd,eAAgB,UAAWC,cAAe,WAChEc,oBAAqB,CAAEf,eAAgB,UAAWC,cAAe,WACjEe,oBAAqB,CAAEhB,eAAgB,UAAWC,cAAe,WACjEgB,iBAAkB,CAAEjB,eAAgB,UAAWC,cAAe,WAC9DiB,oBAAqB,CAAElB,eAAgB,UAAWC,cAAe,WACjEkB,oBAAqB,CAAEnB,eAAgB,UAAWC,cAAe,WACjEmB,qBAAsB,CAAEpB,eAAgB,UAAWC,cAAe,WAClEoB,sBAAuB,CAAErB,eAAgB,UAAWC,cAAe,WACnEqB,sBAAuB,CAAEtB,eAAgB,UAAWC,cAAe,WACnEsB,mBAAoB,CAAEvB,eAAgB,UAAWC,cAAe,WAChEuB,sBAAuB,CAAExB,eAAgB,UAAWC,cAAe,WACnEwB,eAAgB,CAAEzB,eAAgB,UAAWC,cAAe,WAC5DyB,mBAAoB,CAAE1B,eAAgB,UAAWC,cAAe,WAChE0B,cAAe,CAAE3B,eAAgB,UAAWC,cAAe,WAC3D2B,kBAAmB,CAAE5B,eAAgB,UAAWC,cAAe,WAC/D4B,oBAAqB,CAAE7B,eAAgB,UAAWC,cAAe,WACjE6B,eAAgB,CAAE9B,eAAgB,UAAWC,cAAe,YAuEvD,EAAAH,aAjET,IAAMiC,EAA2E,CAC7EtE,oBAAqB,CAAEuC,eAAgB,UAAWC,cAAe,WACjEvC,qBAAsB,CAAEsC,eAAgB,UAAWC,cAAe,WAClEtC,sBAAuB,CAAEqC,eAAgB,UAAWC,cAAe,WACnErC,sBAAuB,CAAEoC,eAAgB,UAAWC,cAAe,WACnEpC,mBAAoB,CAAEmC,eAAgB,UAAWC,cAAe,WAChEnC,uBAAwB,CAAEkC,eAAgB,UAAWC,cAAe,WACpElC,yBAA0B,CAAEiC,eAAgB,UAAWC,cAAe,WACtEjC,0BAA2B,CAAEgC,eAAgB,UAAWC,cAAe,WACvEhC,2BAA4B,CAAE+B,eAAgB,UAAWC,cAAe,WACxE/B,2BAA4B,CAAE8B,eAAgB,UAAWC,cAAe,WACxE9B,wBAAyB,CAAE6B,eAAgB,UAAWC,cAAe,WACrE7B,4BAA6B,CAAE4B,eAAgB,UAAWC,cAAe,WACzE5B,qBAAsB,CAAE2B,eAAgB,UAAWC,cAAe,WAClE3B,yBAA0B,CAAE0B,eAAgB,UAAWC,cAAe,WACtE1B,oBAAqB,CAAEyB,eAAgB,UAAWC,cAAe,WACjEzB,wBAAyB,CAAEwB,eAAgB,UAAWC,cAAe,WACrExB,0BAA2B,CAAEuB,eAAgB,UAAWC,cAAe,WACvEvB,qBAAsB,CAAEsB,eAAgB,UAAWC,cAAe,YA+CjD,EAAA8B,mBAvCrB,IAAMC,EAAS,OACRlC,GACAiC,GAqCgC,EAAAE,uBA9BvC,SAAgCC,GAC5B,MAAO,CACHA,MAAK,EACLC,cAAexD,EAAWM,cAC1BmD,kBAAkB,EAClBC,WAAY,SAACjd,EAAMkd,GACf,IAAMne,EAAMiB,EAAKjB,IACXoe,EAAcP,EAAU7d,GAAK6b,eACnC,OACI,0BAAQsC,QAAS,SAAAE,GAAK,OAAAF,EAAQE,EAAGpd,IAAOoJ,MAAOpJ,EAAKqd,MAChD,uBACIC,UACI/D,EAAWY,YACX,KACQ,kBAAPpb,GAAkC,wBAAPA,EACtBwa,EAAWkB,uBACXlB,EAAWiB,mBAErB+C,MAAO,CACH7G,gBAAiByG,OAKrCK,4BAA6B,CACzBF,UAAW/D,EAAWE,yB,4GC3JrB,EAAAgE,QAAgE,CACzEC,qBAAsB,CAClBC,gBAAiB,cACjBC,SAAU,IACVC,KAAM,SAEVC,qBAAsB,CAClBH,gBAAiB,aACjBC,SAAU,IACVC,KAAM,eAEVE,uBAAwB,CACpBJ,gBAAiB,8BACjBC,SAAU,IACVC,KAAM,kBAOD,EAAAG,WAAsC9f,OAAO+M,KAAK,EAAAwS,U,+ECjC/D,EAFA,MAEAQ,OAAM3Z,SAAS4Z,eAAe,c,uxBCF9B,WACA,OACA,QAEA,QACA,QACA,QACA,QACA,OACA,SACA,SACA,SACA,OACA,SACA,OAEA,SACA,OACA,OACA,SACA,SACA,SACA,OACA,OACA,SACA,SAcA,SAKMxX,EAAS,EAAQ,KAOjByX,EAA2B,CAC7BC,QAAS,CACLC,aAAc,UACdC,gBAAiB,UACjBC,aAAc,UACdC,WAAY,UACZC,cAAe,UACfC,eAAgB,UAChBC,aAAc,UACdC,UAAW,UACXC,YAAa,UACbC,kBAAmB,UACnBC,eAAgB,UAChBC,aAAc,UACdC,qBAAsB,UACtBC,kBAAmB,UACnBC,mBAAoB,UACpBC,gBAAiB,UACjBC,iBAAkB,UAClBC,kBAAmB,UACnBC,eAAgB,UAChBC,YAAa,UACbxQ,MAAO,UACPL,MAAO,YAIT8Q,EAA0B,CAC5BrB,QAAS,CACLC,aAAc,UACdC,gBAAiB,UACjBC,aAAc,UACdC,WAAY,UACZC,cAAe,UACfC,eAAgB,UAChBC,aAAc,UACdC,UAAW,UACXC,YAAa,UACbC,kBAAmB,UACnBC,eAAgB,UAChBC,aAAc,UACdC,qBAAsB,UACtBC,kBAAmB,UACnBC,mBAAoB,UACpBC,gBAAiB,UACjBC,iBAAkB,UAClBC,kBAAmB,UACnBC,eAAgB,UAChBC,YAAa,UACbxQ,MAAO,UACPL,MAAO,YAaf,cAqBI,WAAYtG,G,QAAZ,EACI,YAAMA,IAAM,K,OAnBR,EAAAqX,WAA8B,QAAjB,EAAA3d,OAAO4d,kBAAU,oBAAjB5d,OAAoB,gCAUjC,EAAA6d,kBAA2C,KAI3C,EAAA3f,QAAkB,GAElB,EAAA4f,SAAWpgB,EAAM6J,YAmIjB,EAAAwW,cAAgB,W,MACpB,EAAKC,SAAS,CACVC,YAA2B,QAAf,IAAKN,kBAAU,eAAEO,WAAW,KAIxC,EAAAC,YAAc,SAAC9C,GACnB9Y,SAAS6b,iBAAiB,YAAa,EAAKC,aAAa,GACzD9b,SAAS6b,iBAAiB,UAAW,EAAKE,WAAW,GACrD/b,SAASgc,KAAK/C,MAAMgD,WAAa,OACjC,EAAKC,OAASpD,EAAEqD,OAGZ,EAAAL,YAAc,SAAChD,GACnB,EAAKyC,SAAS3V,QAAQwW,YAAY,EAAKF,OAASpD,EAAEqD,OAClD,EAAKD,OAASpD,EAAEqD,OAGZ,EAAAJ,UAAY,SAACjD,GACjB9Y,SAASqc,oBAAoB,YAAa,EAAKP,aAAa,GAC5D9b,SAASqc,oBAAoB,UAAW,EAAKN,WAAW,GACxD/b,SAASgc,KAAK/C,MAAMgD,WAAa,IAG7B,EAAAK,eAAiB,WACrB,EAAKb,SAAS,CACVc,cAAc,IAElB,EAAKC,eAGD,EAAAC,eAAiB,WACrB,EAAKhB,SAAS,CACVc,cAAc,IAElB,EAAKC,cACL/e,OAAOif,SAASC,KAAO,IAGnB,EAAAC,SAAW,SAACjhB,GAChB,EAAKA,QAAUA,GAtKf,EAAKkhB,kBAAoB,IAAI,UAC7B,EAAKC,mBAAqB,IAAI,UAC9B,EAAKC,gBAAkB,IAAI,UAC3B,EAAKC,oBAAsB,IAAI,UAC/B,EAAKC,eAAiB,IAAI,UAC1B,EAAKC,cAAe,IAAAC,sBACpB,EAAKC,mBAAoB,IAAAC,2BACzB,EAAKC,qBAAsB,IAAAC,2BAA0B,EAAA3J,WAAW4J,UAAW,EAAKZ,UAChF,EAAKa,mBAAoB,IAAAC,YAAU,OAC5B,EAAAC,eAAa,IAChB,EAAAlM,SACA,EAAAmM,KACA,EAAAC,cACA,EAAAC,OACA,EAAAC,UACA,EAAAC,a,IAEJ,EAAKC,qBAAsB,IAAAP,YAAU,OAAK,EAAAC,eAAe,GAAF,CAAE,EAAAlM,SAAU,EAAAmM,KAAM,EAAAC,gBAAa,IACtF,EAAK9f,MAAQ,CACTwe,aAAsC,IAAxB9e,OAAOif,SAASC,KAC9BrL,YAAY,EACZ4M,aAAc,KACdC,UAAW,EAAKrB,mBAAmBsB,wBACnC7M,iBAAiB,EACjB8M,MAAO,EACP3C,YAA2B,QAAf,IAAKN,kBAAU,eAAEO,WAAW,EACxC2C,cAAe,KACfC,OAAO,G,EAuRnB,OA1UuB,EAAAC,EAAA,GAuDnB,YAAAC,OAAA,WACI,OACI,gBAAC,EAAAC,cAAa,CACVC,QAAQ,OACR1gB,MAAOzC,KAAKuC,MAAM2d,WAAaP,EAAYtB,EAC3Cb,UAAW5W,EAAOwc,UAClB,gBAAC,UAAQ,CAAC5F,UAAW5W,EAAOyc,SAC3BrjB,KAAKuC,MAAMuT,aACP9V,KAAKuC,MAAMmgB,cACZ1iB,KAAKsjB,cAAa,GACtB,uBAAK9F,UAAW5W,EAAO4Z,MAClBxgB,KAAKuC,MAAMmgB,aAAe1iB,KAAKujB,eAAiBvjB,KAAKwjB,oBAMtE,YAAAC,kBAAA,SAAkBC,GACd1jB,KAAK8hB,oBAAoB6B,cACzB3jB,KAAKigB,SAAS,CACV0C,UAAWe,IAGf1jB,KAAKghB,eAGT,YAAA4C,kBAAA,WACI5jB,KAAKqhB,kBAAkBuC,qBAG3B,YAAAC,iBAAA,SAAiBC,GACb9jB,KAAKigB,SAAS,CACVnK,WAAYgO,KAIpB,YAAAC,uBAAA,SAAuBC,GACnBhkB,KAAKigB,SAAS,CACVlK,gBAAiBiO,KAIzB,YAAAC,oBAAA,WACI,OAAOjkB,KAAKuC,MAAMwT,iBAGtB,YAAAuM,OAAA,sBACItiB,KAAK8hB,oBAAoB6B,cAEzB,IAAMO,EAAMjiB,OAAOkiB,KA1KR,cACG,SAFE,iDA4KhBD,EAAI1f,SAAS4f,OAAM,IAAAC,oBA7KP,2HA8KZH,EAAI7D,iBAAiB,gBAAgB,WACjC,EAAKyB,oBAAoB6B,eAEzB,IAAAW,wBAAuBJ,GACvB,EAAKjE,SAAS,CAAEyC,aAAc,WAGlC,IAAA6B,sBAAqBL,GAErBlkB,KAAKwkB,WAAaN,EAAI1f,SAAS4Z,eAxLpB,YAyLXpe,KAAKigB,SAAS,CACVyC,aAAcwB,KAItB,YAAAO,SAAA,SAAS5B,GACL7iB,KAAKigB,SAAS,CACV4C,MAAOA,KAIf,YAAA6B,eAAA,WACI1kB,KAAKigB,SAAS,CACVC,YAAalgB,KAAKuC,MAAM2d,cAIhC,YAAAyE,iBAAA,SAAiB5B,GACb/iB,KAAKigB,SAAS,CAAE8C,MAAOA,IACvB,CAAC9gB,OAAQjC,KAAKuC,MAAMmgB,cAAc3c,SAAQ,SAAAme,GAClCA,IACAA,EAAI1f,SAASgc,KAAKoE,IAAM7B,EAAQ,MAAQ,WAKpD,YAAA8B,kBAAA,W,MACmB,QAAf,EAAA7kB,KAAK4f,kBAAU,SAAES,iBAAiB,SAAUrgB,KAAKggB,gBAGrD,YAAA8E,qBAAA,W,MACmB,QAAf,EAAA9kB,KAAK4f,kBAAU,SAAEiB,oBAAoB,SAAU7gB,KAAKggB,gBA8ChD,YAAAsD,aAAR,SAAqByB,GACjB,OACI,gBAAC,EAAAC,OAAM,CACHnP,QAASkP,EAAW/kB,KAAKyiB,oBAAsBziB,KAAKiiB,kBACpD9J,OAAQnY,KAAK0hB,aACbkD,IAAK5kB,KAAKuC,MAAMwgB,MAAQ,MAAQ,SAKpC,YAAAQ,aAAR,WACI,OACI,gCACKvjB,KAAK8J,gBAAe,GACpBlB,EAASqc,aACN,gBAAC,EAAAC,eAAc,CAACjjB,OAAQjC,KAAKuC,MAAMmgB,cAC/B,gBAAC,EAAAQ,cAAa,CACVC,QAAQ,OACR1gB,MAAOzC,KAAKuC,MAAM2d,WAAaP,EAAYtB,GAC3C,uBAAKb,UAAW5W,EAAOwc,UAClBpjB,KAAKsjB,cAAa,GACnB,uBAAK9F,UAAW5W,EAAO4Z,MAAOxgB,KAAKmlB,mBAI/CnlB,KAAKwkB,cAMb,YAAAhB,eAAR,WACI,OACI,gCACKxjB,KAAKmlB,eACLnlB,KAAKuC,MAAMwe,aACR,gCACI,uBAAKvD,UAAW5W,EAAOwe,QAAShF,YAAapgB,KAAKogB,cACjDpgB,KAAK8J,gBAAe,GACpB9J,KAAKqlB,wBAGVrlB,KAAKqlB,yBAMb,YAAAvb,eAAR,SAAuBwb,GACnB,OACI,gBAAC,UAAQ,CACLrb,IAAKjK,KAAK+f,SACVpK,QAAS3V,KAAKulB,qBACd/H,UAAW,aAAa5W,EAAOmZ,SAAQ,KACnCuF,EAAY1e,EAAO4e,kBAAoB,OAM/C,YAAAL,aAAR,WACI,IAAMM,EAAazlB,KAAK0lB,aAClBC,EAAe,CACjBC,UAAW,SAAS5lB,KAAKuC,MAAMsgB,MAAK,IACpCgD,gBAAiB7lB,KAAKuC,MAAMwgB,MAAQ,YAAc,WAClD9I,OAAQ,QAAQ,IAAMja,KAAKuC,MAAMsgB,MAAK,KACtCjJ,MAAO,QAAQ,IAAM5Z,KAAKuC,MAAMsgB,MAAK,MAKzC,OAFA7iB,KAAK8hB,oBAAoB6B,cAGrB,uBAAKnG,UAAW5W,EAAOkf,iBACnB,uBAAKrI,MAAOkI,GACR,gBAAC,EAAAI,QAAO,CACJvI,UAAW5W,EAAO+C,OAClBgM,QAAS8P,EACT7P,cAAe5V,KAAKuC,MAAMogB,UAAU/M,cACpCoQ,WAAYhmB,KAAKuC,MAAM2d,WACvB+F,aAAc,EAAAA,aACdjQ,qBAAsBhW,KAAKuC,MAAMogB,UAAU3M,qBAC3CkQ,4BAA6BlmB,KAAKyhB,eAAe0E,qBACjD9B,mBAAoB,EAAAA,mBACpB+B,UAAWpmB,KAAKuC,MAAMsgB,MACtBwD,eAAgBrmB,KAAKG,QACrB2iB,cAAe9iB,KAAKuC,MAAMugB,cAC1B8B,IAAK5kB,KAAKuC,MAAMwgB,MAAQ,MAAQ,WAO5C,YAAAsC,qBAAR,WACI,OACI,0BACI7H,UAAW,qBAAoBxd,KAAKuC,MAAMwe,aAAe,OAAS,SAAO,IACrEna,EAAOma,aAEX3D,QAASpd,KAAKuC,MAAMwe,aAAe/gB,KAAKihB,eAAiBjhB,KAAK8gB,gBAC9D,2BAAM9gB,KAAKuC,MAAMwe,aAAe,iBAAmB,oBAKvD,YAAAwE,mBAAR,WACI,MAAO,CACHvlB,KAAKqhB,kBACLrhB,KAAKshB,mBACLthB,KAAKuhB,gBACLvhB,KAAKwhB,oBACLxhB,KAAKyhB,iBAIL,YAAAiE,WAAR,WACI1lB,KAAK8f,kBACD9f,KAAK8f,oBAAqB,aAAqB9f,KAAKuC,MAAMogB,WAE9D,IAAMhN,EAAU,EAAH,KAAO3V,KAAK8f,mBAAmB,GAAF,CAAE9f,KAAK0hB,aAAc1hB,KAAK4hB,oBAAiB,GAQrF,OANI5hB,KAAKuC,MAAMwe,cAAgB/gB,KAAKuC,MAAMmgB,gBACtC,IAAA4D,WAAU3Q,EAAS3V,KAAKulB,sBAG5B5P,EAAQhU,KAAK3B,KAAK8hB,qBAEXnM,GAGH,YAAAqL,YAAR,WACIhhB,KAAK8f,kBAAoB,KACzB9f,KAAKigB,SAAS,CACV6C,cAAe,SAACyD,EAAqBC,GACjC,WAAI,EAAAC,OAAOF,EAAKC,OAGhC,EA1UA,CAAuB,WA4UvB,iBAAsBE,GAClB9d,EAASqa,OAAO,gBAACD,EAAQ,MAAK0D,K,gxBC9blC,YAKA,cAII,a,OACI,YAAM,UAAmB,MAAO,mBAAiB,KAezD,OApBiD,OAQ7C,YAAA1c,kBAAA,SAAkB2c,GAAlB,WACI,OAAO,EAAP,KACOA,GAAI,CACPC,UAAW,WACP,OAAO,EAAKjd,WAKxB,YAAAkd,cAAA,SAAcvJ,GACVtd,KAAKqK,cAAa,SAAAd,GAAa,OAAAA,EAAUsd,cAAcvJ,OAE/D,EApBA,CAJA,KAIiD,S,6xBCNjD,WACA,QAKM1W,EAAS,EAAQ,IAMvB,cAII,WAAY2B,GAAZ,MACI,YAAMA,IAAM,K,OAHR,EAAAue,OAASnnB,EAAM6J,YACf,EAAAud,KAAOpnB,EAAM6J,YAiDb,EAAAwd,SAAW,WACf,EAAKze,MAAMwB,WAAW,KAAM,CAAC,EAAK+c,OAAO1c,QAAQzL,SA/CjD,EAAK4D,MAAQ,CAAE6H,QAAS,S,EAiDhC,OAvD+C,OAS3C,YAAA6Y,OAAA,WACI,IAAIgE,EAAiB,UAAWjnB,KAAKuC,MAAM6H,SAASb,UAChDwd,EAAoB,KAKxB,OAJIE,IACAF,EAAOpnB,EAAMiF,cAAcqiB,EAAgB,EAAF,KAAOjnB,KAAKuI,OAAK,CAAE0B,IAAKjK,KAAK+mB,SAItE,gCACI,uBAAKvJ,UAAW5W,EAAOsgB,QACnB,kDAEA,0BAAQjd,IAAKjK,KAAK8mB,OAAQnoB,MAAOqB,KAAKuC,MAAM6H,QAAS4c,SAAUhnB,KAAKgnB,UAC/D5oB,OAAO+M,KAAK,WAAYlL,KAAI,SAAAhB,GAAO,OAChC,0BAAQN,MAAOM,EAAKA,IAAKA,GACpB,UAAWA,GAAKhB,WAKhC8oB,IAKb,YAAAF,cAAA,SAAcvJ,GACNtd,KAAK+mB,KAAK3c,SAAWpK,KAAK+mB,KAAK3c,QAAQyc,eACvC7mB,KAAK+mB,KAAK3c,QAAQyc,cAAcvJ,IAIxC,YAAApT,YAAA,SAAYC,GACR,IAAIgd,EAAWhd,GAAQ/L,OAAO+M,KAAK,WAAYc,QAAQ9B,EAAK,KAAO,EAAIA,EAAK,GAAK,KAE7Egd,GAAYA,GAAYnnB,KAAKuC,MAAM6H,QACnCpK,KAAKigB,SAAS,CACV7V,QAAS+c,IAGbnnB,KAAKuI,MAAMwB,WAAW,KAAM,CAAC/J,KAAKuC,MAAM6H,WAOpD,EAvDA,CAA+CzK,EAAMgJ,W,2FCVrD,YACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QAWMye,EAA0C,CAC5CC,MAAO,CACHppB,KAAM,iBAEVqpB,MAAO,CACHrpB,KAAM,iBACNsL,UAAW,WAEfge,UAAW,CACPtpB,KAAM,iBACNsL,UAAW,WAEfie,UAAW,CACPvpB,KAAM,aACNsL,UAAW,WAEfke,cAAe,CACXxpB,KAAM,iBACNsL,UAAW,WAEfme,OAAQ,CACJzpB,KAAM,uBACNsL,UAAW,WAEfoe,OAAQ,CACJ1pB,KAAM,gBACNsL,UAAW,WAEfqe,MAAO,CACH3pB,KAAM,QACNsL,UAAW,WAEfse,OAAQ,CACJ5pB,KAAM,SACNsL,UAAW,WAEf0c,aAAc,CACVhoB,KAAM,eACNsL,UAAW,WAEfue,KAAM,CACF7pB,KAAM,mBAId,UAAempB,G,4iBClEf,WAGA,OAEMxgB,EAAS,EAAQ,IAMvB,cAMI,WAAY2B,GAAZ,MACI,YAAMA,IAAM,K,OAHR,EAAAwf,eAAiBpoB,EAAM6J,YAmDvB,EAAAwe,OAAS,WACb,EAAKzf,MAAMqe,YAAYqB,SAAS,EAAKC,cAiCjC,EAAAA,YAAc,WAKlB,IAJA,IAAIC,EAAY,EAAK5f,MAAMqe,YAAYwB,mBACnCd,EAAQa,GAAaA,EAAUE,oBAC/BC,EAAyB,GAEtBhB,GACHgB,EAAO3mB,KAAK2lB,GACZA,EAAQa,EAAUI,sBAGtB,EAAKC,UAAUF,IAGX,EAAAG,YAAc,SAACnB,GACnB,EAAK/e,MACAqe,YACAE,OAAOQ,EAAMoB,eAAgB,EAAGpB,EAAMqB,cAAY,IAjGvD,EAAKpmB,MAAQ,CACT+lB,OAAQ,I,EAkGpB,OA3G+C,OAa3C,YAAArF,OAAA,sBACI,OACI,2BACI,0BAAQ7F,QAASpd,KAAKkoB,aAAW,cACjC,yBACIU,KAAK,WACLnnB,GAAG,iBACHwI,IAAKjK,KAAK+nB,eACV3K,QAASpd,KAAKgoB,SAElB,yBAAOa,QAAQ,kBAAgB,gBAC9B7oB,KAAKuC,MAAM+lB,OAAOroB,KAAI,SAACqnB,EAAOpgB,GAAU,OACrC,uBACIjI,IAAKiI,EACLsW,UAAW5W,EAAO0gB,MAClBmB,YAAa,WAAM,SAAKA,YAAYnB,KACnCwB,EAAmBxB,GAChB,EAAKyB,YAAYzB,GAEjB,qBAAG0B,cAAe,WAAM,SAAKC,SAAS3B,KACjC,EAAKyB,YAAYzB,UAS9C,YAAAT,cAAA,SAAcvJ,GAES,GAAfA,EAAE4L,WACa,GAAf5L,EAAE4L,YAEElpB,KAAK+nB,eAAe3d,QAAQ+e,QAC5BnpB,KAAKgoB,SAELhoB,KAAKwoB,UAAU,MASnB,YAAAS,SAAR,SAAiB3B,GACbA,EAAM8B,0BACNppB,KAAKuI,MAAMqe,YAAYyC,6BAClBrpB,KAAK+nB,eAAe3d,QAAQ+e,SAC7BnpB,KAAKkoB,eAIL,YAAAa,YAAR,SAAoBzB,GAApB,WACQgC,EAAcR,EAAmBxB,GACrC,OACI,uBACI0B,eAAgBM,GAAe,WAAO,SAAKL,SAAS3B,IACpDhe,MACIggB,EACM,6BACA,qDAEV7L,MAAO,CAAE8L,UAAWD,EAAc,SAAW,WAgC7D,SAAwBhC,GACpB,OAAOA,EAAMoB,gBAAkBpB,EAAMqB,aAC/BrB,EAAMoB,eAAec,aACrB,IAAAC,aAAYnC,EAAMoB,eAAgBpB,EAAMqB,cAAc5oB,WAlC/C2pB,CAAepC,IAAU,iBAK9B,YAAAkB,UAAR,SAAkBF,GACdtoB,KAAKigB,SAAS,CACVqI,OAAQA,KAsBpB,EA3GA,CAA+C3oB,EAAMgJ,WAmHrD,SAASmgB,EAAmBxB,GACxB,OAAOA,EAAMoB,gBAAkBpB,EAAMqB,eAAgB,IAAAgB,gBAAerC,EAAMoB,gB,6BC/H9E,IAAIvoB,EAAU,EAAQ,IAClBqK,EAAS,EAAQ,GAEC,iBAAZrK,IAAsBA,EAAU,CAAC,CAAC1C,EAAOC,EAAIyC,KAGvD,IAAK,IAAIzC,EAAI,EAAGA,EAAIyC,EAAQqB,OAAQ9D,IAAK8M,EAAOpG,WAAWjE,EAAQzC,GAAG,IAAI,GAEvEyC,EAAQsK,SAAQhN,EAAOD,QAAU2C,EAAQsK,S,iBCN5CjN,EADkC,EAAQ,EAChCosB,EAA4B,IAE9BjoB,KAAK,CAAClE,EAAOC,EAAI,uKAAwK,KAEjMF,EAAQiN,OAAS,CAChB,MAAS,2BAEVhN,EAAOD,QAAUA,G,cCTjB,IAAIqQ,EAGJA,EAAI,WACH,OAAO7N,KADJ,GAIJ,IAEC6N,EAAIA,GAAK,IAAIgc,SAAS,cAAb,GACR,MAAOvM,GAEc,iBAAXrb,SAAqB4L,EAAI5L,QAOrCxE,EAAOD,QAAUqQ,G,4iBCnBjB,WAEA,OAOMjH,EAAS,EAAQ,IAEvB,cAGI,WAAY2B,GAAZ,MACI,YAAMA,IAAM,K,OAHR,EAAAuhB,WAAanqB,EAAM6J,YA6CnB,EAAAugB,cAAgB,WACpB,IAAID,EAAa,EAAKA,WAAW1f,QAAQzL,MACrCqrB,EAAY,GAEhB,IACIA,GAAY,IAAA/D,cAAa6D,GAC3B,MAAOxM,GACL0M,EAAY1M,EAGhB,EAAK2C,SAAS,CACV6J,WAAYA,EACZE,UAAWA,KArDf,EAAKznB,MAAQ,CACTunB,WAAY,GACZE,UAAW,I,EAsDvB,OA7D8C,OAW1C,YAAA/G,OAAA,WACI,OACI,gCACI,2B,eACiB,IACb,yBACI2F,KAAK,QACL3e,IAAKjK,KAAK8pB,WACV9C,SAAUhnB,KAAK+pB,cACfprB,MAAOqB,KAAKuC,MAAMunB,cAG1B,2BACA,2B,eAEI,uBAAKtM,UAAW5W,EAAOqjB,iBACnB,uBACIzM,UAAW5W,EAAOC,OAClB4W,MAAO,CAAE7G,gBAAiB5W,KAAKuC,MAAMunB,gBAIjD,2B,cACe,4BAAO9pB,KAAKuC,MAAMynB,WAC7B,uBAAKxM,UAAW5W,EAAOsjB,gBACnB,uBACI1M,UAAW5W,EAAOC,OAClB4W,MAAO,CAAE7G,gBAAiB5W,KAAKuC,MAAMynB,iBAuBjE,EA7DA,CAA8CrqB,EAAMgJ,W,6BCXpD,IAAIxI,EAAU,EAAQ,IAClBqK,EAAS,EAAQ,GAEC,iBAAZrK,IAAsBA,EAAU,CAAC,CAAC1C,EAAOC,EAAIyC,KAGvD,IAAK,IAAIzC,EAAI,EAAGA,EAAIyC,EAAQqB,OAAQ9D,IAAK8M,EAAOpG,WAAWjE,EAAQzC,GAAG,IAAI,GAEvEyC,EAAQsK,SAAQhN,EAAOD,QAAU2C,EAAQsK,S,iBCN5CjN,EADkC,EAAQ,EAChCosB,EAA4B,IAE9BjoB,KAAK,CAAClE,EAAOC,EAAI,4TAA6T,KAEtVF,EAAQiN,OAAS,CAChB,OAAU,0BACV,eAAkB,wBAClB,eAAkB,0BAClB,gBAAmB,yBAEpBhN,EAAOD,QAAUA,G,4iBCZjB,WAGA,OAOMoJ,EAAS,EAAQ,IAMvB,cAII,WAAY2B,GAAZ,MACI,YAAMA,IAAM,K,OAqBR,EAAA4hB,mBAAqB,WACzB,EAAKlK,SAAS,CACVmK,QAAS,EAAK7hB,MAAMqe,YAAYuD,wBAIhC,EAAAE,SAAW,WACf,EAAKpK,SAAS,CACVmK,QAAS,MA5Bb,EAAK7nB,MAAQ,CAAE6nB,QAAS,I,EA+BhC,OArCoD,OAShD,YAAAnH,OAAA,WACI,IAAMtZ,EAAS3J,KAAKuI,MAAMqe,YAC1B,OACI,gCACI,2BACI,0BAAQxJ,QAASpd,KAAKmqB,oBAAkB,wB,IACxC,0BAAQ/M,QAASpd,KAAKqqB,UAAQ,UAElC,2BACKrqB,KAAKuC,MAAM6nB,QAAQnqB,KAAI,SAACynB,EAAQhqB,GAAM,OACnC,gBAAC4sB,EAAM,CAACrrB,IAAKvB,EAAGgqB,OAAQA,EAAQ/d,OAAQA,EAAQzC,MAAOxJ,UAkB/E,EArCA,CAAoDiC,EAAMgJ,WAuC1D,SAAS2hB,EAAO,G,IAAE5C,EAAM,SAAE/d,EAAM,SAAEzC,EAAK,QAC7BqjB,EAAe5qB,EAAM6qB,aAAY,WACnC,IAAMlC,GAAS,IAAAmC,kCAAiC/C,GAChD,GAAIY,EAAO9mB,OAAS,EAAG,CACnB,IAAMkpB,GAAQ,IAAAjB,aACVnB,EAAO,GAAGI,eAAc,EAExBJ,EAAOA,EAAO9mB,OAAS,GAAGmnB,cAAY,GAG1Chf,EAAOghB,QACPhhB,EAAOmd,OAAO4D,MAEnB,CAAChD,IAEJ,OACI,2BACI,2BACA,2BACI,yB,UAAWxgB,IAEf,2B,cACe,gBAAC0jB,EAAQ,CAACC,KAAMnD,EAAOoD,YAEtC,2B,gBACiB,gBAACF,EAAQ,CAACC,KAAMnD,EAAOqD,cAExC,2B,eACgB,gBAACH,EAAQ,CAACC,KAAMnD,EAAOsD,aAEvC,2B,oBACqB,0BAAQ5N,QAASmN,GAAY,YAM9D,SAASK,EAAS,G,IAAEC,EAAI,OACdI,EAAYtrB,EAAM6qB,aAAY,YAC5B,IAAAU,gBAAeL,EAAM,iBACrBA,EAAKrN,WAAa,IAAM5W,EAAOukB,SAEpC,CAACN,IAEEO,EAAWzrB,EAAM6qB,aAAY,WAC/B,IAAI,IAAAU,gBAAeL,EAAM,eAAgB,CACrC,IAAIpR,EAAaoR,EAAKrN,UAAUnV,MAAM,KACtCoR,EAAaA,EAAW3C,QAAO,SAAA7Y,GAAQ,OAAAA,GAAQ2I,EAAOukB,SACtDN,EAAKrN,UAAY/D,EAAWtY,KAAK,KAAKkqB,UAE3C,CAACR,IAEJ,OAAOA,GACH,IAAAK,gBAAeL,EAAM,eACjB,wBAAMpC,YAAawC,EAAWK,WAAYF,EAAU5N,UAAW5W,EAAO2kB,aACjE,IAAAC,cAAaX,G,IAAQA,EAAKppB,IAG/B,wBAAM+b,UAAW5W,EAAO2kB,YAAaV,EAAKY,UAAUC,OAAO,EAAG,KAElE,K,6BCnHR,IAAIvrB,EAAU,EAAQ,IAClBqK,EAAS,EAAQ,GAEC,iBAAZrK,IAAsBA,EAAU,CAAC,CAAC1C,EAAOC,EAAIyC,KAGvD,IAAK,IAAIzC,EAAI,EAAGA,EAAIyC,EAAQqB,OAAQ9D,IAAK8M,EAAOpG,WAAWjE,EAAQzC,GAAG,IAAI,GAEvEyC,EAAQsK,SAAQhN,EAAOD,QAAU2C,EAAQsK,S,iBCN5CjN,EADkC,EAAQ,EAChCosB,EAA4B,IAE9BjoB,KAAK,CAAClE,EAAOC,EAAI,yeAA0e,KAEngBF,EAAQiN,OAAS,CAChB,WAAc,wBACd,MAAS,2BAEVhN,EAAOD,QAAUA,G,4iBCVjB,WAIMoJ,EAAS,EAAQ,IAUvB,cAMI,WAAY2B,GAAZ,MACI,YAAMA,IAAM,K,OAHR,EAAAM,KAAOlJ,EAAM6J,YAiIb,EAAA4T,QAAU,WACd,IAAIzT,EAAS,EAAKpB,MAAMqe,YACxB,GAA2B,GAAvB,EAAKrkB,MAAMopB,SAAmC,CAC9C,IAAM,EAAiC,CACnCA,SAAU,EAAKppB,MAAMopB,SACrBC,aAAc,EAAKrpB,MAAMqpB,aACzBC,iBAAkB,EAAKtpB,MAAMspB,iBAC7BC,gBAAiB,EAAKvpB,MAAMupB,iBAEhCniB,EAAOoiB,iBAAgB,WAAM,OAAApiB,EAAO8d,cAAc,EAAKllB,MAAMpC,QAAS,QAtI1E,EAAKoC,MAAQ,CACTpC,QAAS,GACTwrB,SAAU,EACVC,cAAc,EACdC,kBAAkB,EAClBC,iBAAiB,G,EAoI7B,OAjJ+C,OAiB3C,YAAA7I,OAAA,sBACI,OACI,6BACI,0BACI,0CACA,0BACI,4BACIzF,UAAW5W,EAAO2W,KAClBtT,IAAKjK,KAAK6I,KACVlK,MAAOqB,KAAKuC,MAAMpC,QAClB6mB,SAAU,WAAM,SAAK/G,SAAS,CAAE9f,QAAS,EAAK0I,KAAKuB,QAAQzL,aAIvE,0BACI,uCACA,0BACI,2BACI,yBACIiqB,KAAK,QACL3qB,KAAK,WACLkrB,QAAgC,GAAvBnpB,KAAKuC,MAAMopB,SACpBlqB,GAAG,cACH2b,QAAS,WAAM,SAAK4O,YAAY,MAEpC,yBAAOnD,QAAQ,eAAa,UAEhC,2BACI,yBACID,KAAK,QACL3qB,KAAK,WACLkrB,QAAgC,GAAvBnpB,KAAKuC,MAAMopB,SACpBlqB,GAAG,YACH2b,QAAS,WAAM,SAAK4O,YAAY,MAEpC,yBAAOnD,QAAQ,aAAW,QAE9B,2BACI,yBACID,KAAK,QACL3qB,KAAK,WACLkrB,QAAgC,GAAvBnpB,KAAKuC,MAAMopB,SACpBlqB,GAAG,uBACH2b,QAAS,WAAM,SAAK4O,YAAY,MAEpC,yBAAOnD,QAAQ,wBAAsB,mBAEzC,2BACI,yBACID,KAAK,QACL3qB,KAAK,WACLkrB,QAAgC,GAAvBnpB,KAAKuC,MAAMopB,SACpBlqB,GAAG,gBACH2b,QAAS,WAAM,SAAK4O,YAAY,MAEpC,yBAAOnD,QAAQ,iBAAe,cAI1C,0BACI,2CACA,0BACI,yBACID,KAAK,WACLnnB,GAAG,qBACH0nB,QAASnpB,KAAKuC,MAAMqpB,aACpBxO,QAAS,WACL,SAAK6C,SAAS,CAAE2L,cAAe,EAAKrpB,MAAMqpB,kBAGlD,yBAAO/C,QAAQ,sBAAoB,mBAG3C,0BACI,4CACA,0BACI,yBACID,KAAK,WACLnnB,GAAG,yBACH0nB,QAASnpB,KAAKuC,MAAMspB,iBACpBzO,QAAS,WACL,SAAK6C,SAAS,CAAE4L,kBAAmB,EAAKtpB,MAAMspB,sBAGtD,yBAAOhD,QAAQ,0BAAwB,uBAG/C,0BACI,6CACA,0BACI,yBACID,KAAK,WACLnnB,GAAG,kBACH0nB,QAASnpB,KAAKuC,MAAMupB,gBACpB1O,QAAS,WACL,SAAK6C,SAAS,CAAE6L,iBAAkB,EAAKvpB,MAAMupB,qBAGrD,yBAAOjD,QAAQ,mBAAiB,wBAGxC,0BACI,sBAAIoD,QAAS,EAAGzO,UAAW5W,EAAOslB,WAC9B,0BAAQ9O,QAASpd,KAAKod,SAAO,sBAOzC,YAAA4O,YAAR,SAAoBL,GAChB3rB,KAAKigB,SAAS,CACV0L,SAAUA,KAgBtB,EAjJA,CAA+ChsB,EAAMgJ,W,6BCdrD,IAAIxI,EAAU,EAAQ,IAClBqK,EAAS,EAAQ,GAEC,iBAAZrK,IAAsBA,EAAU,CAAC,CAAC1C,EAAOC,EAAIyC,KAGvD,IAAK,IAAIzC,EAAI,EAAGA,EAAIyC,EAAQqB,OAAQ9D,IAAK8M,EAAOpG,WAAWjE,EAAQzC,GAAG,IAAI,GAEvEyC,EAAQsK,SAAQhN,EAAOD,QAAU2C,EAAQsK,S,iBCN5CjN,EADkC,EAAQ,EAChCosB,EAA4B,IAE9BjoB,KAAK,CAAClE,EAAOC,EAAI,qHAAsH,KAE/IF,EAAQiN,OAAS,CAChB,KAAQ,0BACR,UAAa,2BAEdhN,EAAOD,QAAUA,G,4iBCVjB,WAGA,OACA,OACA,OAEMoJ,EAAS,EAAQ,IAMvB,cAQI,WAAY2B,GAAZ,MACI,YAAMA,IAAM,K,OARR,EAAA4jB,WAAaxsB,EAAM6J,YACnB,EAAAX,KAAOlJ,EAAM6J,YACb,EAAA4iB,aAAezsB,EAAM6J,YACrB,EAAA6iB,YAAc1sB,EAAM6J,YACpB,EAAA8iB,WAAa3sB,EAAM6J,YACnB,EAAA+iB,WAAa5sB,EAAM6J,YAqDnB,EAAAgjB,aAAe,WACnB,IAAML,EAAa,EAAKA,WAAW/hB,QAAQzL,MACrCksB,EAAOrmB,SAASI,cAAc,QACpCimB,EAAK4B,WAAY,IAAApI,oBAAmB,EAAKxb,KAAKuB,QAAQzL,OACtDksB,EAAK6B,QAAQN,aAAe,EAAKA,aAAahiB,QAAQzL,MAAM0sB,OAC5D,IAAMsB,EAAU,EAAKL,WAAWliB,QAAQ+e,QAClCoD,EAAa,EAAKA,WAAWniB,QAAQ+e,QAEvC0B,IACA,IAAA2B,cAAa,EAAKjkB,MAAMqe,YAAauF,EAAYtB,EAAM8B,EAASJ,IAIhE,EAAAK,cAAgB,WACpB,IAAMC,GAAW,IAAAC,qBAEXC,EADQ,EAAKxkB,MAAMqe,YAAYoG,cAAcH,GACzB5sB,KAAI,SAAA4qB,GAAQ,WAAAoC,sBAAqBpC,MAE3D,EAAK5K,SAAS,CACViN,SAAUH,EAAYjW,QAAO,SAAAwG,GAAK,QAAEA,QApExC,EAAK/a,MAAQ,CACT2qB,SAAU,I,EAsEtB,OAjF8C,OAe1C,YAAAjK,OAAA,WACI,OACI,gCACI,2B,SACU,yBAAO2F,KAAK,QAAQ3e,IAAKjK,KAAKmsB,cAExC,2B,SACU,4BAAU3O,UAAW5W,EAAOumB,SAAUljB,IAAKjK,KAAK6I,QAE1D,2B,iBAEI,4BAAU2U,UAAW5W,EAAOumB,SAAUljB,IAAKjK,KAAKosB,gBAEpD,2B,SAEI,yBACIxD,KAAK,QACL3qB,KAAK,cACLgM,IAAKjK,KAAKqsB,YACV5qB,GAAG,gBAEP,yBAAOonB,QAAQ,eAAa,UAAgB,IAC5C,yBAAOD,KAAK,QAAQ3qB,KAAK,cAAcgM,IAAKjK,KAAKssB,WAAY7qB,GAAG,eAChE,yBAAOonB,QAAQ,cAAY,UAE/B,2B,aACc,yBAAOD,KAAK,WAAW3e,IAAKjK,KAAKusB,cAE/C,2BACI,0BAAQnP,QAASpd,KAAKwsB,cAAY,kBAEtC,2BACA,2BACI,0BAAQpP,QAASpd,KAAK4sB,eAAa,qBAEvC,2BACK5sB,KAAKuC,MAAM2qB,SAASjtB,KAAI,SAAA0nB,GAAU,OAC/B,gBAACyF,EAAY,CAACnuB,IAAK0oB,EAAOlmB,GAAIkmB,OAAQA,UA6B9D,EAjFA,CAA8ChoB,EAAMgJ,WAmFpD,SAASykB,EAAa,G,IAAEzF,EAAM,SACtBxN,EAAa,GACXsO,EAAc9oB,EAAM6qB,aAAY,WAClCrQ,EAAawN,EAAO0F,QAAQ5P,MAAM7G,gBAClC+Q,EAAO0F,QAAQ5P,MAAM7G,gBAAkB,SACxC,CAAC+Q,IAEE2D,EAAa3rB,EAAM6qB,aAAY,WACjC7C,EAAO0F,QAAQ5P,MAAM7G,gBAAkBuD,IACxC,CAACwN,IAEJ,OACI,uBAAKc,YAAaA,EAAa6C,WAAYA,G,SAChC3D,EAAOiB,KACd,2B,OACKjB,EAAOlmB,GACZ,2B,aACWkmB,EAAO4E,WAAa,OAAS,QACxC,2B,qBACmB5E,EAAO0F,QAAQC,WAClC,2BACA,4B;;AClHqD7vB,EAAOD,QAGhE,WAAc,aAIpB,IAAI+B,EAAiBnB,OAAOmB,eACxBguB,EAAiBnvB,OAAOmvB,eACxBC,EAAWpvB,OAAOovB,SAClBC,EAAiBrvB,OAAOqvB,eACxBC,EAA2BtvB,OAAOsvB,yBAClClhB,EAASpO,OAAOoO,OAChBmhB,EAAOvvB,OAAOuvB,KACd3uB,EAASZ,OAAOY,OAEhB4uB,EAA0B,oBAAZC,SAA2BA,QACzC9rB,EAAQ6rB,EAAK7rB,MACb+rB,EAAYF,EAAKE,UAEhB/rB,IACHA,EAAQ,SAAegsB,EAAKC,EAAW3oB,GACrC,OAAO0oB,EAAIhsB,MAAMisB,EAAW3oB,KAI3BmH,IACHA,EAAS,SAAgB2C,GACvB,OAAOA,IAINwe,IACHA,EAAO,SAAcxe,GACnB,OAAOA,IAIN2e,IACHA,EAAY,SAAmBG,EAAM5oB,GACnC,OAAO,IAAKwkB,SAASvqB,UAAUJ,KAAK6C,MAAMksB,EAAM,CAAC,MAAMntB,OAnC3D,SAA4BkM,GAAO,GAAIzF,MAAMC,QAAQwF,GAAM,CAAE,IAAK,IAAItP,EAAI,EAAGwwB,EAAO3mB,MAAMyF,EAAIxL,QAAS9D,EAAIsP,EAAIxL,OAAQ9D,IAAOwwB,EAAKxwB,GAAKsP,EAAItP,GAAM,OAAOwwB,EAAe,OAAO3mB,MAAM4mB,KAAKnhB,GAmCxHohB,CAAmB/oB,QAIrF,IAwBqB3B,EAxBjB2qB,EAAeC,EAAQ/mB,MAAMjI,UAAUyG,SACvCwoB,EAAWD,EAAQ/mB,MAAMjI,UAAUkvB,KACnClI,EAAYgI,EAAQ/mB,MAAMjI,UAAUqC,MAEpC8sB,EAAoBH,EAAQI,OAAOpvB,UAAUqvB,aAC7CC,EAAcN,EAAQI,OAAOpvB,UAAU0V,OACvC6Z,EAAgBP,EAAQI,OAAOpvB,UAAU6I,SACzC2mB,EAAgBR,EAAQI,OAAOpvB,UAAU2M,SACzC8iB,EAAaT,EAAQI,OAAOpvB,UAAU+rB,MAEtC2D,EAAaV,EAAQW,OAAO3vB,UAAU4vB,MAEtCC,GAYiBzrB,EAZa0rB,UAazB,WACL,IAAK,IAAIC,EAAQvtB,UAAUN,OAAQ6D,EAAOkC,MAAM8nB,GAAQC,EAAQ,EAAGA,EAAQD,EAAOC,IAChFjqB,EAAKiqB,GAASxtB,UAAUwtB,GAG1B,OAAOxB,EAAUpqB,EAAM2B,KAhB3B,SAASipB,EAAQ5qB,GACf,OAAO,SAAU6rB,GACf,IAAK,IAAIC,EAAO1tB,UAAUN,OAAQ6D,EAAOkC,MAAMioB,EAAO,EAAIA,EAAO,EAAI,GAAIC,EAAO,EAAGA,EAAOD,EAAMC,IAC9FpqB,EAAKoqB,EAAO,GAAK3tB,UAAU2tB,GAG7B,OAAO1tB,EAAM2B,EAAM6rB,EAASlqB,IAehC,SAASqqB,EAASC,EAAKjiB,GACjB6f,GAIFA,EAAeoC,EAAK,MAItB,IADA,IAAIhyB,EAAI+P,EAAMlM,OACP7D,KAAK,CACV,IAAIiyB,EAAUliB,EAAM/P,GACpB,GAAuB,iBAAZiyB,EAAsB,CAC/B,IAAIC,EAAYpB,EAAkBmB,GAC9BC,IAAcD,IAEXpC,EAAS9f,KACZA,EAAM/P,GAAKkyB,GAGbD,EAAUC,GAIdF,EAAIC,IAAW,EAGjB,OAAOD,EAIT,SAASG,EAAM1wB,GACb,IAAI2wB,EAAY/wB,EAAO,MAEnBK,OAAW,EACf,IAAKA,KAAYD,EACX2C,EAAMxC,EAAgBH,EAAQ,CAACC,MACjC0wB,EAAU1wB,GAAYD,EAAOC,IAIjC,OAAO0wB,EAOT,SAASC,EAAa5wB,EAAQ6wB,GAC5B,KAAkB,OAAX7wB,GAAiB,CACtB,IAAI8wB,EAAOxC,EAAyBtuB,EAAQ6wB,GAC5C,GAAIC,EAAM,CACR,GAAIA,EAAK3xB,IACP,OAAO+vB,EAAQ4B,EAAK3xB,KAGtB,GAA0B,mBAAf2xB,EAAKvxB,MACd,OAAO2vB,EAAQ4B,EAAKvxB,OAIxBS,EAASquB,EAAeruB,GAQ1B,OALA,SAAuBwwB,GAErB,OADArpB,QAAQE,KAAK,qBAAsBmpB,GAC5B,MAMX,IAAI/mB,EAAO2D,EAAO,CAAC,IAAK,OAAQ,UAAW,UAAW,OAAQ,UAAW,QAAS,QAAS,IAAK,MAAO,MAAO,MAAO,QAAS,aAAc,OAAQ,KAAM,SAAU,SAAU,UAAW,SAAU,OAAQ,OAAQ,MAAO,WAAY,UAAW,OAAQ,WAAY,KAAM,YAAa,MAAO,UAAW,MAAO,SAAU,MAAO,MAAO,KAAM,KAAM,UAAW,KAAM,WAAY,aAAc,SAAU,OAAQ,SAAU,OAAQ,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,OAAQ,SAAU,SAAU,KAAM,OAAQ,IAAK,MAAO,QAAS,MAAO,MAAO,QAAS,SAAU,KAAM,OAAQ,MAAO,OAAQ,UAAW,OAAQ,WAAY,QAAS,MAAO,OAAQ,KAAM,WAAY,SAAU,SAAU,IAAK,UAAW,MAAO,WAAY,IAAK,KAAM,KAAM,OAAQ,IAAK,OAAQ,UAAW,SAAU,SAAU,QAAS,SAAU,SAAU,OAAQ,SAAU,SAAU,QAAS,MAAO,UAAW,MAAO,QAAS,QAAS,KAAM,WAAY,WAAY,QAAS,KAAM,QAAS,OAAQ,KAAM,QAAS,KAAM,IAAK,KAAM,MAAO,QAAS,QAGj+B2jB,EAAM3jB,EAAO,CAAC,MAAO,IAAK,WAAY,cAAe,eAAgB,eAAgB,gBAAiB,mBAAoB,SAAU,WAAY,OAAQ,OAAQ,UAAW,SAAU,OAAQ,IAAK,QAAS,WAAY,QAAS,QAAS,OAAQ,iBAAkB,SAAU,OAAQ,WAAY,QAAS,OAAQ,UAAW,UAAW,WAAY,iBAAkB,OAAQ,OAAQ,QAAS,SAAU,SAAU,OAAQ,WAAY,QAAS,OAAQ,QAAS,OAAQ,UAEzc4jB,EAAa5jB,EAAO,CAAC,UAAW,gBAAiB,sBAAuB,cAAe,mBAAoB,oBAAqB,oBAAqB,iBAAkB,UAAW,UAAW,UAAW,UAAW,UAAW,iBAAkB,UAAW,cAAe,eAAgB,WAAY,eAAgB,qBAAsB,cAAe,SAAU,iBAMrW6jB,EAAgB7jB,EAAO,CAAC,UAAW,gBAAiB,SAAU,UAAW,eAAgB,UAAW,YAAa,mBAAoB,iBAAkB,gBAAiB,gBAAiB,gBAAiB,QAAS,YAAa,OAAQ,eAAgB,YAAa,UAAW,gBAAiB,SAAU,MAAO,aAAc,UAAW,QAE3U8jB,EAAS9jB,EAAO,CAAC,OAAQ,WAAY,SAAU,UAAW,QAAS,SAAU,KAAM,aAAc,gBAAiB,KAAM,KAAM,QAAS,UAAW,WAAY,QAAS,OAAQ,KAAM,SAAU,QAAS,SAAU,OAAQ,OAAQ,UAAW,SAAU,MAAO,QAAS,MAAO,SAAU,eAIxR+jB,EAAmB/jB,EAAO,CAAC,UAAW,cAAe,aAAc,WAAY,YAAa,UAAW,UAAW,SAAU,SAAU,QAAS,YAAa,aAAc,iBAAkB,cAAe,SAE3M+Q,EAAO/Q,EAAO,CAAC,UAEfgkB,EAAShkB,EAAO,CAAC,SAAU,SAAU,QAAS,MAAO,iBAAkB,eAAgB,uBAAwB,WAAY,aAAc,UAAW,SAAU,UAAW,cAAe,cAAe,UAAW,OAAQ,QAAS,QAAS,QAAS,OAAQ,UAAW,WAAY,eAAgB,SAAU,cAAe,WAAY,WAAY,UAAW,MAAO,WAAY,0BAA2B,wBAAyB,WAAY,YAAa,UAAW,eAAgB,OAAQ,MAAO,UAAW,SAAU,SAAU,OAAQ,OAAQ,WAAY,KAAM,YAAa,YAAa,QAAS,OAAQ,QAAS,OAAQ,OAAQ,UAAW,OAAQ,MAAO,MAAO,YAAa,QAAS,SAAU,MAAO,YAAa,WAAY,QAAS,OAAQ,UAAW,aAAc,SAAU,OAAQ,UAAW,UAAW,cAAe,cAAe,SAAU,UAAW,UAAW,aAAc,WAAY,MAAO,WAAY,MAAO,WAAY,OAAQ,OAAQ,UAAW,aAAc,QAAS,WAAY,QAAS,OAAQ,QAAS,OAAQ,UAAW,QAAS,MAAO,SAAU,OAAQ,QAAS,UAAW,WAAY,QAAS,YAAa,OAAQ,SAAU,SAAU,QAAS,QAAS,QAAS,SAE1pCikB,EAAQjkB,EAAO,CAAC,gBAAiB,aAAc,WAAY,qBAAsB,SAAU,gBAAiB,gBAAiB,UAAW,gBAAiB,iBAAkB,QAAS,OAAQ,KAAM,QAAS,OAAQ,gBAAiB,YAAa,YAAa,QAAS,sBAAuB,8BAA+B,gBAAiB,kBAAmB,KAAM,KAAM,IAAK,KAAM,KAAM,kBAAmB,YAAa,UAAW,UAAW,MAAO,WAAY,YAAa,MAAO,OAAQ,eAAgB,YAAa,SAAU,cAAe,cAAe,gBAAiB,cAAe,YAAa,mBAAoB,eAAgB,aAAc,eAAgB,cAAe,KAAM,KAAM,KAAM,KAAM,aAAc,WAAY,gBAAiB,oBAAqB,SAAU,OAAQ,KAAM,kBAAmB,KAAM,MAAO,IAAK,KAAM,KAAM,KAAM,KAAM,UAAW,YAAa,aAAc,WAAY,OAAQ,eAAgB,iBAAkB,eAAgB,mBAAoB,iBAAkB,QAAS,aAAc,aAAc,eAAgB,eAAgB,cAAe,cAAe,mBAAoB,YAAa,MAAO,OAAQ,QAAS,SAAU,OAAQ,MAAO,OAAQ,aAAc,SAAU,WAAY,UAAW,QAAS,SAAU,cAAe,SAAU,WAAY,cAAe,OAAQ,aAAc,sBAAuB,mBAAoB,eAAgB,SAAU,gBAAiB,sBAAuB,iBAAkB,IAAK,KAAM,KAAM,SAAU,OAAQ,OAAQ,cAAe,YAAa,UAAW,SAAU,SAAU,QAAS,OAAQ,kBAAmB,mBAAoB,mBAAoB,eAAgB,cAAe,eAAgB,cAAe,aAAc,eAAgB,mBAAoB,oBAAqB,iBAAkB,kBAAmB,oBAAqB,iBAAkB,SAAU,eAAgB,QAAS,eAAgB,iBAAkB,WAAY,UAAW,UAAW,YAAa,cAAe,kBAAmB,iBAAkB,aAAc,OAAQ,KAAM,KAAM,UAAW,SAAU,UAAW,aAAc,UAAW,aAAc,gBAAiB,gBAAiB,QAAS,eAAgB,OAAQ,eAAgB,mBAAoB,mBAAoB,IAAK,KAAM,KAAM,QAAS,IAAK,KAAM,KAAM,IAAK,eAE5uEkkB,EAAWlkB,EAAO,CAAC,SAAU,cAAe,QAAS,WAAY,QAAS,eAAgB,cAAe,aAAc,aAAc,QAAS,MAAO,UAAW,eAAgB,WAAY,QAAS,QAAS,SAAU,OAAQ,KAAM,UAAW,SAAU,gBAAiB,SAAU,SAAU,iBAAkB,YAAa,WAAY,cAAe,UAAW,UAAW,gBAAiB,WAAY,WAAY,OAAQ,WAAY,WAAY,aAAc,UAAW,SAAU,SAAU,cAAe,gBAAiB,uBAAwB,YAAa,YAAa,aAAc,WAAY,iBAAkB,iBAAkB,YAAa,UAAW,QAAS,UAEvpBmkB,EAAMnkB,EAAO,CAAC,aAAc,SAAU,cAAe,YAAa,gBAGlEokB,EAAgBjD,EAAK,6BACrBkD,EAAWlD,EAAK,yBAChBmD,EAAYnD,EAAK,8BACjBoD,EAAYpD,EAAK,kBACjBqD,EAAiBrD,EAAK,yFAEtBsD,EAAoBtD,EAAK,yBACzBuD,EAAkBvD,EAAK,+DAGvBwD,EAA4B,mBAAX1yB,QAAoD,iBAApBA,OAAO2yB,SAAwB,SAAU3lB,GAAO,cAAcA,GAAS,SAAUA,GAAO,OAAOA,GAAyB,mBAAXhN,QAAyBgN,EAAI4lB,cAAgB5yB,QAAUgN,IAAQhN,OAAOa,UAAY,gBAAkBmM,GAEtQ,SAAS6lB,EAAqBtkB,GAAO,GAAIzF,MAAMC,QAAQwF,GAAM,CAAE,IAAK,IAAItP,EAAI,EAAGwwB,EAAO3mB,MAAMyF,EAAIxL,QAAS9D,EAAIsP,EAAIxL,OAAQ9D,IAAOwwB,EAAKxwB,GAAKsP,EAAItP,GAAM,OAAOwwB,EAAe,OAAO3mB,MAAM4mB,KAAKnhB,GAE5L,IAAIukB,EAAY,WACd,MAAyB,oBAAXtvB,OAAyB,KAAOA,QAW5CuvB,EAA4B,SAAmCC,EAAcjtB,GAC/E,GAAoF,iBAAvD,IAAjBitB,EAA+B,YAAcN,EAAQM,KAAoE,mBAA9BA,EAAaC,aAClH,OAAO,KAMT,IAAIC,EAAS,KAETntB,EAASotB,eAAiBptB,EAASotB,cAAcC,aADrC,2BAEdF,EAASntB,EAASotB,cAAcE,aAFlB,0BAKhB,IAAIC,EAAa,aAAeJ,EAAS,IAAMA,EAAS,IAExD,IACE,OAAOF,EAAaC,aAAaK,EAAY,CAC3CC,WAAY,SAAoBC,GAC9B,OAAOA,KAGX,MAAOC,GAKP,OADA3rB,QAAQE,KAAK,uBAAyBsrB,EAAa,0BAC5C,OAimCX,OA7lCA,SAASI,IACP,IAAIlwB,EAASH,UAAUN,OAAS,QAAsBkB,IAAjBZ,UAAU,GAAmBA,UAAU,GAAKyvB,IAE7EzoB,EAAY,SAAmBspB,GACjC,OAAOD,EAAgBC,IAezB,GARAtpB,EAAUupB,QAAU,QAMpBvpB,EAAUwpB,QAAU,IAEfrwB,IAAWA,EAAOuC,UAAyC,IAA7BvC,EAAOuC,SAAS+tB,SAKjD,OAFAzpB,EAAUkb,aAAc,EAEjBlb,EAGT,IAAI0pB,EAAmBvwB,EAAOuC,SAE1BA,EAAWvC,EAAOuC,SAClBiuB,EAAmBxwB,EAAOwwB,iBAC1BC,EAAsBzwB,EAAOywB,oBAC7BC,EAAO1wB,EAAO0wB,KACdC,EAAU3wB,EAAO2wB,QACjBC,EAAa5wB,EAAO4wB,WACpBC,EAAuB7wB,EAAO8wB,aAC9BA,OAAwCrwB,IAAzBowB,EAAqC7wB,EAAO8wB,cAAgB9wB,EAAO+wB,gBAAkBF,EACpGG,EAAOhxB,EAAOgxB,KACdC,EAAUjxB,EAAOixB,QACjBC,EAAYlxB,EAAOkxB,UACnB1B,EAAexvB,EAAOwvB,aAGtB2B,EAAmBR,EAAQtzB,UAE3B+zB,EAAYrD,EAAaoD,EAAkB,aAC3CE,GAAiBtD,EAAaoD,EAAkB,eAChDG,GAAgBvD,EAAaoD,EAAkB,cAC/CI,GAAgBxD,EAAaoD,EAAkB,cAQnD,GAAmC,mBAAxBV,EAAoC,CAC7C,IAAIe,GAAWjvB,EAASI,cAAc,YAClC6uB,GAAStzB,SAAWszB,GAAStzB,QAAQuzB,gBACvClvB,EAAWivB,GAAStzB,QAAQuzB,eAIhC,IAAIC,GAAqBnC,EAA0BC,EAAce,GAC7DoB,GAAYD,IAAsBxqB,GAAsBwqB,GAAmB3B,WAAW,IAAM,GAE5F6B,GAAYrvB,EACZsvB,GAAiBD,GAAUC,eAC3BC,GAAqBF,GAAUE,mBAC/BC,GAAyBH,GAAUG,uBACnCtvB,GAAuBmvB,GAAUnvB,qBACjCuvB,GAAazB,EAAiByB,WAG9BC,GAAe,GACnB,IACEA,GAAepE,EAAMtrB,GAAU0vB,aAAe1vB,EAAS0vB,aAAe,GACtE,MAAOhC,IAET,IAAIiC,GAAQ,GAKZrrB,EAAUkb,YAAuC,mBAAlBwP,IAAgCM,SAA+D,IAAtCA,GAAeM,oBAAuD,IAAjBF,GAE7I,IAAIG,GAAmBzD,EACnB0D,GAAczD,EACd0D,GAAezD,EACf0D,GAAezD,EACf0D,GAAuBxD,EACvByD,GAAqBxD,EACrByD,GAAoB3D,EASpB4D,GAAe,KACfC,GAAuBnF,EAAS,GAAI,GAAG5uB,OAAOwwB,EAAqBzoB,GAAOyoB,EAAqBnB,GAAMmB,EAAqBlB,GAAakB,EAAqBhB,GAASgB,EAAqB/T,KAG1LuX,GAAe,KACfC,GAAuBrF,EAAS,GAAI,GAAG5uB,OAAOwwB,EAAqBd,GAASc,EAAqBb,GAAQa,EAAqBZ,GAAWY,EAAqBX,KAG9JqE,GAAc,KAGdC,GAAc,KAGdC,IAAkB,EAGlBC,IAAkB,EAGlBC,IAA0B,EAK1BC,IAAqB,EAGrBnsB,IAAiB,EAGjBosB,IAAa,EAIbC,IAAa,EAMbC,IAAa,EAIbC,IAAsB,EAWtBC,IAAoB,EAIpBvsB,IAAsB,EAGtBwsB,IAAe,EAGfC,IAAe,EAIfC,IAAW,EAGXC,GAAe,GAGfC,GAAkBrG,EAAS,GAAI,CAAC,iBAAkB,QAAS,WAAY,OAAQ,gBAAiB,OAAQ,SAAU,OAAQ,KAAM,KAAM,KAAM,KAAM,QAAS,UAAW,WAAY,WAAY,YAAa,SAAU,QAAS,MAAO,WAAY,QAAS,QAAS,QAAS,QAG5QsG,GAAgB,KAChBC,GAAwBvG,EAAS,GAAI,CAAC,QAAS,QAAS,MAAO,SAAU,QAAS,UAGlFwG,GAAsB,KACtBC,GAA8BzG,EAAS,GAAI,CAAC,MAAO,QAAS,MAAO,KAAM,QAAS,OAAQ,UAAW,cAAe,UAAW,QAAS,QAAS,QAAS,UAE1J0G,GAAmB,qCACnBC,GAAgB,6BAChBC,GAAiB,+BAEjBC,GAAYD,GACZE,IAAiB,EAGjBC,GAAS,KAKTC,GAAclyB,EAASI,cAAc,QAQrC+xB,GAAe,SAAsBC,GACnCH,IAAUA,KAAWG,IAKpBA,GAAqE,iBAA9C,IAARA,EAAsB,YAAczF,EAAQyF,MAC9DA,EAAM,IAIRA,EAAM9G,EAAM8G,GAGZhC,GAAe,iBAAkBgC,EAAMlH,EAAS,GAAIkH,EAAIhC,cAAgBC,GACxEC,GAAe,iBAAkB8B,EAAMlH,EAAS,GAAIkH,EAAI9B,cAAgBC,GACxEmB,GAAsB,sBAAuBU,EAAMlH,EAASI,EAAMqG,IAA8BS,EAAIC,mBAAqBV,GACzHH,GAAgB,sBAAuBY,EAAMlH,EAASI,EAAMmG,IAAwBW,EAAIE,mBAAqBb,GAC7GjB,GAAc,gBAAiB4B,EAAMlH,EAAS,GAAIkH,EAAI5B,aAAe,GACrEC,GAAc,gBAAiB2B,EAAMlH,EAAS,GAAIkH,EAAI3B,aAAe,GACrEa,GAAe,iBAAkBc,GAAMA,EAAId,aAC3CZ,IAA0C,IAAxB0B,EAAI1B,gBACtBC,IAA0C,IAAxByB,EAAIzB,gBACtBC,GAA0BwB,EAAIxB,0BAA2B,EACzDC,GAAqBuB,EAAIvB,qBAAsB,EAC/CnsB,GAAiB0tB,EAAI1tB,iBAAkB,EACvCssB,GAAaoB,EAAIpB,aAAc,EAC/BC,GAAsBmB,EAAInB,sBAAuB,EACjDC,IAA8C,IAA1BkB,EAAIlB,kBACxBvsB,GAAsBytB,EAAIztB,sBAAuB,EACjDosB,GAAaqB,EAAIrB,aAAc,EAC/BI,IAAoC,IAArBiB,EAAIjB,aACnBC,IAAoC,IAArBgB,EAAIhB,aACnBC,GAAWe,EAAIf,WAAY,EAC3BlB,GAAoBiC,EAAIG,oBAAsBpC,GAC9C4B,GAAYK,EAAIL,WAAaD,GACzBjB,KACFF,IAAkB,GAGhBM,KACFD,IAAa,GAIXM,KACFlB,GAAelF,EAAS,GAAI,GAAG5uB,OAAOwwB,EAAqB/T,KAC3DuX,GAAe,IACW,IAAtBgB,GAAajtB,OACf6mB,EAASkF,GAAc/rB,GACvB6mB,EAASoF,GAActE,KAGA,IAArBsF,GAAa3F,MACfT,EAASkF,GAAczE,GACvBT,EAASoF,GAAcrE,GACvBf,EAASoF,GAAcnE,KAGO,IAA5BmF,GAAa1F,aACfV,EAASkF,GAAcxE,GACvBV,EAASoF,GAAcrE,GACvBf,EAASoF,GAAcnE,KAGG,IAAxBmF,GAAaxF,SACfZ,EAASkF,GAActE,GACvBZ,EAASoF,GAAcpE,GACvBhB,EAASoF,GAAcnE,KAKvBiG,EAAI5tB,WACF4rB,KAAiBC,KACnBD,GAAe9E,EAAM8E,KAGvBlF,EAASkF,GAAcgC,EAAI5tB,WAGzB4tB,EAAI3tB,WACF6rB,KAAiBC,KACnBD,GAAehF,EAAMgF,KAGvBpF,EAASoF,GAAc8B,EAAI3tB,WAGzB2tB,EAAIC,mBACNnH,EAASwG,GAAqBU,EAAIC,mBAIhCjB,KACFhB,GAAa,UAAW,GAItB1rB,IACFwmB,EAASkF,GAAc,CAAC,OAAQ,OAAQ,SAItCA,GAAaoC,QACftH,EAASkF,GAAc,CAAC,iBACjBI,GAAYiC,OAKjBzqB,GACFA,EAAOoqB,GAGTH,GAASG,IAGPM,GAAiCxH,EAAS,GAAI,CAAC,KAAM,KAAM,KAAM,KAAM,UAEvEyH,GAA0BzH,EAAS,GAAI,CAAC,gBAAiB,OAAQ,QAAS,mBAK1E0H,GAAe1H,EAAS,GAAIS,GAChCT,EAAS0H,GAAchH,GACvBV,EAAS0H,GAAc/G,GAEvB,IAAIgH,GAAkB3H,EAAS,GAAIY,GACnCZ,EAAS2H,GAAiB9G,GAU1B,IAAI+G,GAAuB,SAA8B1H,GACvD,IAAIlJ,EAAS8M,GAAc5D,GAItBlJ,GAAWA,EAAO6Q,UACrB7Q,EAAS,CACP8Q,aAAclB,GACdiB,QAAS,aAIb,IAAIA,EAAU9I,EAAkBmB,EAAQ2H,SACpCE,EAAgBhJ,EAAkB/H,EAAO6Q,SAE7C,GAAI3H,EAAQ4H,eAAiBnB,GAI3B,OAAI3P,EAAO8Q,eAAiBlB,GACP,QAAZiB,EAML7Q,EAAO8Q,eAAiBpB,GACP,QAAZmB,IAAwC,mBAAlBE,GAAsCP,GAA+BO,IAK7FC,QAAQN,GAAaG,IAG9B,GAAI3H,EAAQ4H,eAAiBpB,GAI3B,OAAI1P,EAAO8Q,eAAiBlB,GACP,SAAZiB,EAKL7Q,EAAO8Q,eAAiBnB,GACP,SAAZkB,GAAsBJ,GAAwBM,GAKhDC,QAAQL,GAAgBE,IAGjC,GAAI3H,EAAQ4H,eAAiBlB,GAAgB,CAI3C,GAAI5P,EAAO8Q,eAAiBnB,KAAkBc,GAAwBM,GACpE,OAAO,EAGT,GAAI/Q,EAAO8Q,eAAiBpB,KAAqBc,GAA+BO,GAC9E,OAAO,EAOT,IAAIE,EAA2BjI,EAAS,GAAI,CAAC,QAAS,QAAS,OAAQ,IAAK,WAI5E,OAAQ2H,GAAgBE,KAAaI,EAAyBJ,KAAaH,GAAaG,IAM1F,OAAO,GAQLK,GAAe,SAAsB/M,GACvCvE,EAAUxd,EAAUwpB,QAAS,CAAE1C,QAAS/E,IACxC,IAEEA,EAAKgN,WAAW5xB,YAAY4kB,GAC5B,MAAOqH,GACP,IACErH,EAAKiN,UAAYlE,GACjB,MAAO1B,GACPrH,EAAKkN,YAWPC,GAAmB,SAA0B/5B,EAAM4sB,GACrD,IACEvE,EAAUxd,EAAUwpB,QAAS,CAC3B2F,UAAWpN,EAAKqN,iBAAiBj6B,GACjCkwB,KAAMtD,IAER,MAAOqH,GACP5L,EAAUxd,EAAUwpB,QAAS,CAC3B2F,UAAW,KACX9J,KAAMtD,IAOV,GAHAA,EAAKsN,gBAAgBl6B,GAGR,OAATA,IAAkB62B,GAAa72B,GACjC,GAAIu3B,IAAcC,GAChB,IACEmC,GAAa/M,GACb,MAAOqH,SAET,IACErH,EAAK9lB,aAAa9G,EAAM,IACxB,MAAOi0B,MAWXkG,GAAgB,SAAuBC,GAEzC,IAAIC,OAAM,EACNC,OAAoB,EAExB,GAAIhD,GACF8C,EAAQ,oBAAsBA,MACzB,CAEL,IAAIlY,EAAUyO,EAAYyJ,EAAO,eACjCE,EAAoBpY,GAAWA,EAAQ,GAGzC,IAAIqY,EAAe7E,GAAqBA,GAAmB3B,WAAWqG,GAASA,EAK/E,GAAI9B,KAAcD,GAChB,IACEgC,GAAM,IAAInF,GAAYsF,gBAAgBD,EAAc,aACpD,MAAOtG,IAIX,IAAKoG,IAAQA,EAAII,gBAAiB,CAChCJ,EAAMxE,GAAe6E,eAAepC,GAAW,WAAY,MAC3D,IACE+B,EAAII,gBAAgBjM,UAAY+J,GAAiB,GAAKgC,EACtD,MAAOtG,KAKX,IAAI1R,EAAO8X,EAAI9X,MAAQ8X,EAAII,gBAO3B,OALIL,GAASE,GACX/X,EAAKoY,aAAap0B,EAASS,eAAeszB,GAAoB/X,EAAKqY,WAAW,IAAM,MAIlFtC,KAAcD,GACT5xB,GAAqB7G,KAAKy6B,EAAKpvB,GAAiB,OAAS,QAAQ,GAGnEA,GAAiBovB,EAAII,gBAAkBlY,GAS5CsY,GAAkB,SAAyB1G,GAC7C,OAAO2B,GAAmBl2B,KAAKu0B,EAAKsB,eAAiBtB,EAAMA,EAAMS,EAAWkG,aAAelG,EAAWmG,aAAenG,EAAWoG,UAAW,MAAM,IAS/IC,GAAe,SAAsBC,GACvC,QAAIA,aAAelG,GAAQkG,aAAejG,GAId,iBAAjBiG,EAAIC,UAAoD,iBAApBD,EAAI3P,aAAuD,mBAApB2P,EAAIlzB,aAAgCkzB,EAAIE,sBAAsBtG,GAAgD,mBAAxBoG,EAAIhB,iBAA8D,mBAArBgB,EAAIp0B,cAA2D,iBAArBo0B,EAAI3B,cAAyD,mBAArB2B,EAAIP,eAa7SU,GAAU,SAAiBl6B,GAC7B,MAAuE,iBAA/C,IAATuzB,EAAuB,YAAcxB,EAAQwB,IAAsBvzB,aAAkBuzB,EAAOvzB,GAA8E,iBAAjD,IAAXA,EAAyB,YAAc+xB,EAAQ/xB,KAAoD,iBAApBA,EAAOmzB,UAAoD,iBAApBnzB,EAAOg6B,UAWxPG,GAAe,SAAsBC,EAAYC,EAAa54B,GAC3DszB,GAAMqF,IAIXnL,EAAa8F,GAAMqF,IAAa,SAAUE,GACxCA,EAAK77B,KAAKiL,EAAW2wB,EAAa54B,EAAM41B,QAcxCkD,GAAoB,SAA2BF,GACjD,IAAIt5B,OAAU,EAMd,GAHAo5B,GAAa,yBAA0BE,EAAa,MAGhDP,GAAaO,GAEf,OADA7B,GAAa6B,IACN,EAIT,GAAI7K,EAAY6K,EAAYL,SAAU,mBAEpC,OADAxB,GAAa6B,IACN,EAIT,IAAIlC,EAAU9I,EAAkBgL,EAAYL,UAS5C,GANAG,GAAa,sBAAuBE,EAAa,CAC/ClC,QAASA,EACTqC,YAAahF,MAIV0E,GAAQG,EAAYI,sBAAwBP,GAAQG,EAAYt5B,WAAam5B,GAAQG,EAAYt5B,QAAQ05B,qBAAuB7K,EAAW,UAAWyK,EAAYhN,YAAcuC,EAAW,UAAWyK,EAAYjQ,aAErN,OADAoO,GAAa6B,IACN,EAIT,IAAK7E,GAAa2C,IAAYvC,GAAYuC,GAAU,CAElD,GAAI3B,KAAiBG,GAAgBwB,GAAU,CAC7C,IAAIM,EAAarE,GAAciG,IAAgBA,EAAY5B,WACvDgB,EAAatF,GAAckG,IAAgBA,EAAYZ,WAE3D,GAAIA,GAAchB,EAGhB,IAFA,IAESn6B,EAFQm7B,EAAWr3B,OAEF,EAAG9D,GAAK,IAAKA,EACrCm6B,EAAWe,aAAavF,EAAUwF,EAAWn7B,IAAI,GAAO41B,GAAemG,IAM7E,OADA7B,GAAa6B,IACN,EAIT,OAAIA,aAAuB7G,IAAY0E,GAAqBmC,IAC1D7B,GAAa6B,IACN,GAGQ,aAAZlC,GAAsC,YAAZA,IAA0BvI,EAAW,uBAAwByK,EAAYhN,YAMpG4I,IAA+C,IAAzBoE,EAAYlH,WAEpCpyB,EAAUs5B,EAAYjQ,YACtBrpB,EAAU0uB,EAAc1uB,EAASk0B,GAAkB,KACnDl0B,EAAU0uB,EAAc1uB,EAASm0B,GAAa,KAC1CmF,EAAYjQ,cAAgBrpB,IAC9BmmB,EAAUxd,EAAUwpB,QAAS,CAAE1C,QAAS6J,EAAYpG,cACpDoG,EAAYjQ,YAAcrpB,IAK9Bo5B,GAAa,wBAAyBE,EAAa,OAE5C,IAnBL7B,GAAa6B,IACN,IA8BPK,GAAoB,SAA2BC,EAAOC,EAAQr7B,GAEhE,GAAIg3B,KAA4B,OAAXqE,GAA8B,SAAXA,KAAuBr7B,KAAS6F,GAAY7F,KAAS+3B,IAC3F,OAAO,EAOT,GAAIvB,KAAoBF,GAAY+E,IAAWhL,EAAWuF,GAAcyF,SAAgB,GAAI9E,IAAmBlG,EAAWwF,GAAcwF,QAAgB,KAAKlF,GAAakF,IAAW/E,GAAY+E,GAC/L,OAAO,EAGF,GAAI9D,GAAoB8D,SAAgB,GAAIhL,EAAW2F,GAAmB9F,EAAclwB,EAAO+1B,GAAoB,WAAa,GAAgB,QAAXsF,GAA+B,eAAXA,GAAsC,SAAXA,GAAgC,WAAVD,GAAwD,IAAlCjL,EAAcnwB,EAAO,WAAkBq3B,GAAc+D,GAAe,GAAI3E,KAA4BpG,EAAWyF,GAAsB5F,EAAclwB,EAAO+1B,GAAoB,WAAa,GAAK/1B,EACra,OAAO,EAGT,OAAO,GAaLs7B,GAAsB,SAA6BR,GACrD,IAAIS,OAAO,EACPv7B,OAAQ,EACRq7B,OAAS,EACTr8B,OAAI,EAER47B,GAAa,2BAA4BE,EAAa,MAEtD,IAAIJ,EAAaI,EAAYJ,WAI7B,GAAKA,EAAL,CAIA,IAAIc,EAAY,CACdC,SAAU,GACVC,UAAW,GACXC,UAAU,EACVC,kBAAmBzF,IAKrB,IAHAn3B,EAAI07B,EAAW73B,OAGR7D,KAAK,CAEV,IAAI68B,EADJN,EAAOb,EAAW17B,GAEdM,EAAOu8B,EAAMv8B,KACbu5B,EAAegD,EAAMhD,aAazB,GAXA74B,EAAQowB,EAAWmL,EAAKv7B,OACxBq7B,EAASvL,EAAkBxwB,GAG3Bk8B,EAAUC,SAAWJ,EACrBG,EAAUE,UAAY17B,EACtBw7B,EAAUG,UAAW,EACrBH,EAAUM,mBAAgB/3B,EAC1B62B,GAAa,wBAAyBE,EAAaU,GACnDx7B,EAAQw7B,EAAUE,WAEdF,EAAUM,gBAKdzC,GAAiB/5B,EAAMw7B,GAGlBU,EAAUG,UAKf,GAAItL,EAAW,OAAQrwB,GACrBq5B,GAAiB/5B,EAAMw7B,OADzB,CAMIpE,KACF12B,EAAQkwB,EAAclwB,EAAO01B,GAAkB,KAC/C11B,EAAQkwB,EAAclwB,EAAO21B,GAAa,MAI5C,IAAIyF,EAAQN,EAAYL,SAASzK,cACjC,GAAKmL,GAAkBC,EAAOC,EAAQr7B,GAKtC,IACM64B,EACFiC,EAAYiB,eAAelD,EAAcv5B,EAAMU,GAG/C86B,EAAY10B,aAAa9G,EAAMU,GAGjC4vB,EAASzlB,EAAUwpB,SACnB,MAAOJ,MAIXqH,GAAa,0BAA2BE,EAAa,QAQnDkB,GAAqB,SAASA,EAAmBC,GACnD,IAAIC,OAAa,EACbC,EAAiBhC,GAAgB8B,GAKrC,IAFArB,GAAa,0BAA2BqB,EAAU,MAE3CC,EAAaC,EAAeC,YAEjCxB,GAAa,yBAA0BsB,EAAY,MAG/ClB,GAAkBkB,KAKlBA,EAAW16B,mBAAmBsyB,GAChCkI,EAAmBE,EAAW16B,SAIhC85B,GAAoBY,IAItBtB,GAAa,yBAA0BqB,EAAU,OAyQnD,OA9PA9xB,EAAUC,SAAW,SAAUsvB,EAAOzB,GACpC,IAAIpW,OAAO,EACPwa,OAAe,EACfvB,OAAc,EACdwB,OAAU,EACVC,OAAa,EAUjB,IANA1E,IAAkB6B,KAEhBA,EAAQ,eAIW,iBAAVA,IAAuBiB,GAAQjB,GAAQ,CAEhD,GAA8B,mBAAnBA,EAAMt4B,SACf,MAAMovB,EAAgB,8BAGtB,GAAqB,iBADrBkJ,EAAQA,EAAMt4B,YAEZ,MAAMovB,EAAgB,mCAM5B,IAAKrmB,EAAUkb,YAAa,CAC1B,GAAqC,WAAjCmN,EAAQlvB,EAAOk5B,eAA6D,mBAAxBl5B,EAAOk5B,aAA6B,CAC1F,GAAqB,iBAAV9C,EACT,OAAOp2B,EAAOk5B,aAAa9C,GAG7B,GAAIiB,GAAQjB,GACV,OAAOp2B,EAAOk5B,aAAa9C,EAAMP,WAIrC,OAAOO,EAgBT,GAZK/C,IACHqB,GAAaC,GAIf9tB,EAAUwpB,QAAU,GAGC,iBAAV+F,IACTxC,IAAW,GAGTA,SAAiB,GAAIwC,aAAiB1F,EAKV,KAD9BqI,GADAxa,EAAO4X,GAAc,kBACD1E,cAAcO,WAAWoE,GAAO,IACnC9F,UAA4C,SAA1ByI,EAAa5B,UAGX,SAA1B4B,EAAa5B,SADtB5Y,EAAOwa,EAKPxa,EAAKxb,YAAYg2B,OAEd,CAEL,IAAKxF,KAAeH,KAAuBnsB,KAEnB,IAAxBmvB,EAAMpsB,QAAQ,KACZ,OAAO0nB,IAAsBxqB,GAAsBwqB,GAAmB3B,WAAWqG,GAASA,EAO5F,KAHA7X,EAAO4X,GAAcC,IAInB,OAAO7C,GAAa,KAAO5B,GAK3BpT,GAAQ+U,IACVqC,GAAapX,EAAK4a,YAOpB,IAHA,IAAIC,EAAevC,GAAgBjD,GAAWwC,EAAQ7X,GAG/CiZ,EAAc4B,EAAaN,YAEH,IAAzBtB,EAAYlH,UAAkBkH,IAAgBwB,GAK9CtB,GAAkBF,KAKlBA,EAAYt5B,mBAAmBsyB,GACjCkI,GAAmBlB,EAAYt5B,SAIjC85B,GAAoBR,GAEpBwB,EAAUxB,GAMZ,GAHAwB,EAAU,KAGNpF,GACF,OAAOwC,EAIT,GAAI7C,GAAY,CACd,GAAIC,GAGF,IAFAyF,EAAalH,GAAuBn2B,KAAK2iB,EAAKkT,eAEvClT,EAAK4a,YAEVF,EAAWl2B,YAAYwb,EAAK4a,iBAG9BF,EAAa1a,EAcf,OAXIkV,KAQFwF,EAAajH,GAAWp2B,KAAK20B,EAAkB0I,GAAY,IAGtDA,EAGT,IAAII,EAAiBpyB,GAAiBsX,EAAKsX,UAAYtX,EAAKiM,UAQ5D,OALI4I,KACFiG,EAAiBzM,EAAcyM,EAAgBjH,GAAkB,KACjEiH,EAAiBzM,EAAcyM,EAAgBhH,GAAa,MAGvDX,IAAsBxqB,GAAsBwqB,GAAmB3B,WAAWsJ,GAAkBA,GASrGxyB,EAAUyyB,UAAY,SAAU3E,GAC9BD,GAAaC,GACbtB,IAAa,GAQfxsB,EAAU0yB,YAAc,WACtB/E,GAAS,KACTnB,IAAa,GAafxsB,EAAU2yB,iBAAmB,SAAUC,EAAKxB,EAAMv7B,GAE3C83B,IACHE,GAAa,IAGf,IAAIoD,EAAQtL,EAAkBiN,GAC1B1B,EAASvL,EAAkByL,GAC/B,OAAOJ,GAAkBC,EAAOC,EAAQr7B,IAU1CmK,EAAU6yB,QAAU,SAAUnC,EAAYoC,GACZ,mBAAjBA,IAIXzH,GAAMqF,GAAcrF,GAAMqF,IAAe,GACzClT,EAAU6N,GAAMqF,GAAaoC,KAU/B9yB,EAAU+yB,WAAa,SAAUrC,GAC3BrF,GAAMqF,IACRjL,EAAS4F,GAAMqF,KAUnB1wB,EAAUgzB,YAAc,SAAUtC,GAC5BrF,GAAMqF,KACRrF,GAAMqF,GAAc,KASxB1wB,EAAUizB,eAAiB,WACzB5H,GAAQ,IAGHrrB,EAGIqpB,GAx0CmE6J,I,gBCHlF,IAAI77B,EAAU,EAAQ,IAClBqK,EAAS,EAAQ,GAEC,iBAAZrK,IAAsBA,EAAU,CAAC,CAAC1C,EAAOC,EAAIyC,KAGvD,IAAK,IAAIzC,EAAI,EAAGA,EAAIyC,EAAQqB,OAAQ9D,IAAK8M,EAAOpG,WAAWjE,EAAQzC,GAAG,IAAI,GAEvEyC,EAAQsK,SAAQhN,EAAOD,QAAU2C,EAAQsK,S,iBCN5CjN,EADkC,EAAQ,EAChCosB,EAA4B,IAE9BjoB,KAAK,CAAClE,EAAOC,EAAI,+EAAgF,KAEzGF,EAAQiN,OAAS,CAChB,SAAY,2BAEbhN,EAAOD,QAAUA,G,4iBCTjB,WAGA,OAMA,cAGI,WAAY+K,GAAZ,MACI,YAAMA,IAAM,K,OAHR,EAAA0zB,IAAMt8B,EAAM6J,YA4BZ,EAAA0yB,YAAc,WAClB,IAAIlnB,GAAQ,IAAAmnB,WAAU,EAAKF,IAAI7xB,QAAQzL,OACvC,EAAKshB,SAAS,CACVmc,SAAUpnB,KA3Bd,EAAKzS,MAAQ,CAAE65B,cAAU15B,G,EA8BjC,OAnC2C,OAQvC,YAAAugB,OAAA,WACQ,MAAyCjjB,KAAKuC,MAAM65B,UAAa,GAA/DC,EAAM,SAAEC,EAAW,cAAEC,EAAa,gBACxC,OACI,gCACI,2B,QACS,yBAAO3T,KAAK,QAAQ3e,IAAKjK,KAAKi8B,MAAQ,IAC3C,0BAAQ7e,QAASpd,KAAKk8B,aAAW,eAEZ,OAAxBl8B,KAAKuC,MAAM65B,SACR,0CAEA,gCACI,2B,WAAcC,GAAU,IACxB,2B,iBAAoBC,GAAe,IACnC,2B,mBAAsBC,GAAiB,OAa/D,EAnCA,CAA2C58B,EAAMgJ,W,yjBCTjD,WAEA,OACA,OAEM/B,EAAS,EAAQ,IAEvB,yE,OACY,EAAA3F,OAAStB,EAAM6J,YACf,EAAA3C,OAASlH,EAAM6J,YACf,EAAA+d,UAAY,IAAI,EAAAiV,cAqBhB,EAAAC,OAAS,WACb,IAAMnE,EAAM,EAAKoE,kBAEbpE,aAAG,EAAHA,EAAK9X,QACL,EAAK+G,UAAUoV,4BAA4BrE,GAC3C,EAAKzxB,OAAOuD,QAAQzL,MAAQ25B,EAAI9X,KAAKiM,YAIrC,EAAA1jB,SAAW,WACf,IAAMuvB,EAAM,EAAKoE,kBAEbpE,aAAG,EAAHA,EAAK9X,QACL,EAAK+G,UAAUxe,SAASuvB,EAAI9X,KAAK4a,YACjC,EAAKv0B,OAAOuD,QAAQzL,MAAQ25B,EAAI9X,KAAKiM,Y,EAUjD,OAhD2C,OAKvC,YAAAxJ,OAAA,WACI,OACI,gCACI,mCACA,4BAAUzF,UAAW5W,EAAOumB,SAAUljB,IAAKjK,KAAKiB,SAChD,2BACI,0BAAQuc,UAAW5W,EAAOg2B,OAAQxf,QAASpd,KAAKy8B,QAAM,cAGtD,0BAAQjf,UAAW5W,EAAOg2B,OAAQxf,QAASpd,KAAK+I,UAAQ,aAI5D,oCACA,4BAAUyU,UAAW5W,EAAOumB,SAAUljB,IAAKjK,KAAK6G,WAuBpD,YAAA61B,eAAR,WACI,IAAMG,EAAS,IAAI1J,UACbtqB,GAAO,IAAAwb,oBAAmBrkB,KAAKiB,OAAOmJ,QAAQzL,QAAU,GAE9D,OADYk+B,EAAOpE,gBAAgB5vB,EAAM,cAGjD,EAhDA,CAA2ClJ,EAAMgJ,W,6BCPjD,IAAIxI,EAAU,EAAQ,IAClBqK,EAAS,EAAQ,GAEC,iBAAZrK,IAAsBA,EAAU,CAAC,CAAC1C,EAAOC,EAAIyC,KAGvD,IAAK,IAAIzC,EAAI,EAAGA,EAAIyC,EAAQqB,OAAQ9D,IAAK8M,EAAOpG,WAAWjE,EAAQzC,GAAG,IAAI,GAEvEyC,EAAQsK,SAAQhN,EAAOD,QAAU2C,EAAQsK,S,iBCN5CjN,EADkC,EAAQ,EAChCosB,EAA4B,IAE9BjoB,KAAK,CAAClE,EAAOC,EAAI,2JAA4J,KAErLF,EAAQiN,OAAS,CAChB,SAAY,wBACZ,OAAU,2BAEXhN,EAAOD,QAAUA,G,8iBCVjB,WAGA,OAOMs/B,IAAgB,MAClB,GAAiB,OACjB,KAAoB,UACpB,KAAsB,Y,GAG1B,SAASC,EAAcx0B,GACX,IAAArI,EAA2BqI,EAAK,KAA1BoB,EAAqBpB,EAAK,OAAlBye,EAAaze,EAAK,SAClCqgB,EAAO1oB,EAAK88B,cAEZvU,EAAc9oB,EAAM6qB,aAAY,WAClC,IAAMK,EAAO3qB,EAAK+8B,UAClBtzB,EAAOmd,OAAO+D,KACf,CAACtiB,EAAMrI,KAAMyJ,IAEVuzB,EAAYv9B,EAAM6qB,aAAY,WAChCtqB,EAAKi9B,eAAe,GACpBnW,MACD,CAACze,EAAMrI,KAAMyJ,IACVyzB,EAAaz9B,EAAM6qB,aAAY,WACjCtqB,EAAKi9B,eAAe,GACpBnW,MACD,CAACze,EAAMrI,KAAMyJ,IACV0zB,EAAW19B,EAAM6qB,aAAY,WAC/BtqB,EAAKkI,SACL4e,MACD,CAACze,EAAMrI,KAAMyJ,IACV2zB,EAAY39B,EAAM6qB,aAAY,WAChCtqB,EAAKq9B,UACLvW,MACD,CAACze,EAAMrI,KAAMyJ,IAEhB,OACI,2BACI,0BAAQyT,QAAS8f,GAAS,MAC1B,0BAAQ9f,QAASggB,GAAU,KAC3B,0BAAQhgB,QAASkgB,GAAS,MAC1B,0BAAQlgB,QAASigB,GAAQ,MACzB,wBACI5f,MAAO,CACH+f,WAA8B,GAAlBt9B,EAAKu9B,WAAkB,KACnCzjB,QAAS,eACT0jB,OAAQ,WAEZjV,YAAaA,GACZqU,EAAiBlU,KAMlC,kBACI,WAAYrgB,GAAZ,MACI,YAAMA,IAAM,K,OAuBR,EAAAo1B,YAAc,WAClB,IAAMh0B,EAAS,EAAKpB,MAAMqe,YACpBiE,EAAOlhB,EAAOi0B,qBACdlW,EAAS/d,EAAOwgB,qBAAqB,GACrCvC,EAAQiD,GACR,IAAAgT,uBAAsBnW,GAAQ,EAAgCmD,GAC9D,KAEN,EAAK5K,SAAS,CACV2H,MAAOA,KAIP,EAAAkW,YAAc,WAClB,IAAMn0B,EAAS,EAAKpB,MAAMqe,YAC1Bjd,EAAOoiB,iBAAgB,W,QACH,QAAhB,IAAKxpB,MAAMqlB,aAAK,SAAEmW,YAClBp0B,EAAOghB,QACPhhB,EAAOmd,OAAgC,QAAzB,IAAKvkB,MAAMqlB,MAAM5K,MAAM,UAAE,eAAEigB,UAAW,MAExD,EAAKU,eAGD,EAAA3W,SAAW,WACf,EAAKrD,eA9CL,EAAKphB,MAAQ,CACTqlB,MAAO,M,EA+CnB,OAnDuC,OAQnC,YAAA3E,OAAA,sBACUtZ,EAAS3J,KAAKuI,MAAMqe,YAC1B,OACI,gCACI,0BAAQxJ,QAASpd,KAAK29B,aAAW,4BAChC39B,KAAKuC,MAAMqlB,OACR,gCACK5nB,KAAKuC,MAAMqlB,MAAM5K,MAAM/c,KAAI,SAAAC,GAAQ,OAChC,gBAAC68B,EAAa,CAAC78B,KAAMA,EAAMyJ,OAAQA,EAAQqd,SAAU,EAAKA,cAE9D,0BAAQ5J,QAASpd,KAAK89B,aAAW,iBAiCzD,EAnDA,CAAuCn+B,EAAMgJ,W,yjBC7D7C,YACA,OAEA,QACA,OACA,OAUMq1B,EAA0F,CAC5FC,QAAS,SAACryB,EAAOke,GACb,OAAAoU,EACItyB,EACAA,EACAA,GACA,GACA,GACA,GACA,EAAK,EAEL,KACAke,EACAle,IAERuyB,8BAA+B,SAACvyB,EAAOke,GACnC,OAAAoU,EACItyB,EACAA,EACAA,GACA,GACA,GACA,GACA,EAAK,EAEL,KACAke,EACAle,IAERwyB,oBAAqB,SAACxyB,EAAOke,GACzB,OAAAoU,EACItyB,EACAA,EACAA,GACA,GACA,GACA,GACA,EAAK,EAEL,KACAke,EACAle,IAERyyB,KAAM,SAACzyB,EAAOke,GACV,OAAAoU,EACItyB,EACAA,EACA,MACA,GACA,GACA,GACA,EAAK,EAEL,KACAke,EACAle,IAER0yB,mCAAoC,SAAC1yB,EAAOke,GACxC,OAAAoU,EACItyB,EACAA,EACAA,GACA,GACA,GACA,GACA,EAAK,EAEL,KACAke,EACAle,IAER2yB,SAAU,SAAC3yB,EAAOke,GACd,OAAAoU,EACItyB,EACAA,EACAA,GACA,GACA,GACA,GACA,EAAK,EAEL,KACAke,EACAle,IAER4yB,mBAAoB,SAAC5yB,EAAOke,GACxB,OAAAoU,EACItyB,EACAA,EACAA,GACA,GACA,GACA,GACA,EAAK,EAEL,KACAke,EACAle,IAER6yB,gBAAiB,SAAC7yB,EAAOke,GACrB,OAAAoU,EACItyB,EACAA,EACAA,GACA,GACA,GACA,GACA,EAAK,EAEL,KACAke,EACAle,IAER8yB,gBAAiB,SAAC9yB,EAAOke,GACrB,OAAAoU,EACItyB,EACAA,EACAA,GACA,GACA,GACA,GACA,EAAK,EAEL,KACAke,EACAle,IAER+yB,gBAAiB,SAAC/yB,EAAOke,GACrB,OAAAoU,EACItyB,EACAA,EACAA,GACA,GACA,GACA,GACA,EAAK,EAELke,EACA,KACAle,IAERgzB,MAAO,SAAChzB,EAAOke,GACX,OAAAoU,EACItyB,EACAA,EACAA,GACA,GACA,GACA,GACA,EAAK,EAELke,EACA,KACAle,KAINizB,EACO,UADPA,EAEiB,sBAFjBA,EAGI,OAHJA,EAI6B,qCAJ7BA,EAK0B,gCAL1BA,EAMQ,WANRA,EAOQ,qBAPRA,EAQa,kBARbA,EASa,kBATbA,EAUa,kBAVbA,EAWK,QAGLC,EACW,cADXA,EAGI,UAYJl4B,EAAS,EAAQ,IAEvB,SAASm4B,EAAUx2B,GAMP,IAAAy2B,EAA4Bz2B,EAAK,KAA3BoB,EAAsBpB,EAAK,OAAnB02B,EAAc12B,EAAK,UACnCkgB,EAAc9oB,EAAM6qB,aAAY,WAClC7gB,EAAOmd,OAAOkY,EAAKE,MACpB,CAACF,EAAMr1B,IACJyT,EAAUzd,EAAM6qB,aAAY,WAC1BwU,EAAKE,IACL32B,EAAM42B,YAAYH,EAAKE,MAE5B,CAACF,EAAMr1B,IAEJ4T,EAAOyhB,E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","file":"demo.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 27);\n","module.exports = roosterjs;","module.exports = React;","module.exports = FluentUIReact;","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\n// eslint-disable-next-line func-names\nmodule.exports = function (useSourceMap) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = cssWithMappingToString(item, useSourceMap);\n\n      if (item[2]) {\n        return \"@media \".concat(item[2], \" {\").concat(content, \"}\");\n      }\n\n      return content;\n    }).join('');\n  }; // import a list of modules into the list\n  // eslint-disable-next-line func-names\n\n\n  list.i = function (modules, mediaQuery, dedupe) {\n    if (typeof modules === 'string') {\n      // eslint-disable-next-line no-param-reassign\n      modules = [[null, modules, '']];\n    }\n\n    var alreadyImportedModules = {};\n\n    if (dedupe) {\n      for (var i = 0; i < this.length; i++) {\n        // eslint-disable-next-line prefer-destructuring\n        var id = this[i][0];\n\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n\n    for (var _i = 0; _i < modules.length; _i++) {\n      var item = [].concat(modules[_i]);\n\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        // eslint-disable-next-line no-continue\n        continue;\n      }\n\n      if (mediaQuery) {\n        if (!item[2]) {\n          item[2] = mediaQuery;\n        } else {\n          item[2] = \"\".concat(mediaQuery, \" and \").concat(item[2]);\n        }\n      }\n\n      list.push(item);\n    }\n  };\n\n  return list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n  var content = item[1] || ''; // eslint-disable-next-line prefer-destructuring\n\n  var cssMapping = item[3];\n\n  if (!cssMapping) {\n    return content;\n  }\n\n  if (useSourceMap && typeof btoa === 'function') {\n    var sourceMapping = toComment(cssMapping);\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return \"/*# sourceURL=\".concat(cssMapping.sourceRoot || '').concat(source, \" */\");\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n  }\n\n  return [content].join('\\n');\n} // Adapted from convert-source-map (MIT)\n\n\nfunction toComment(sourceMap) {\n  // eslint-disable-next-line no-undef\n  var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n  var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n  return \"/*# \".concat(data, \" */\");\n}","\"use strict\";\n/**\n * An IThemingInstruction can specify a rawString to be preserved or a theme slot and a default value\n * to use if that slot is not specified by the theme.\n */\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// Store the theming state in __themeState__ global scope for reuse in the case of duplicate\n// load-themed-styles hosted on the page.\nvar _root = (typeof window === 'undefined') ? global : window; // eslint-disable-line @typescript-eslint/no-explicit-any\n// Nonce string to inject into script tag if one provided. This is used in CSP (Content Security Policy).\nvar _styleNonce = _root && _root.CSPSettings && _root.CSPSettings.nonce;\nvar _themeState = initializeThemeState();\n/**\n * Matches theming tokens. For example, \"[theme: themeSlotName, default: #FFF]\" (including the quotes).\n */\nvar _themeTokenRegex = /[\\'\\\"]\\[theme:\\s*(\\w+)\\s*(?:\\,\\s*default:\\s*([\\\\\"\\']?[\\.\\,\\(\\)\\#\\-\\s\\w]*[\\.\\,\\(\\)\\#\\-\\w][\\\"\\']?))?\\s*\\][\\'\\\"]/g;\nvar now = function () { return (typeof performance !== 'undefined' && !!performance.now) ? performance.now() : Date.now(); };\nfunction measure(func) {\n    var start = now();\n    func();\n    var end = now();\n    _themeState.perf.duration += end - start;\n}\n/**\n * initialize global state object\n */\nfunction initializeThemeState() {\n    var state = _root.__themeState__ || {\n        theme: undefined,\n        lastStyleElement: undefined,\n        registeredStyles: []\n    };\n    if (!state.runState) {\n        state = __assign({}, (state), { perf: {\n                count: 0,\n                duration: 0\n            }, runState: {\n                flushTimer: 0,\n                mode: 0 /* sync */,\n                buffer: []\n            } });\n    }\n    if (!state.registeredThemableStyles) {\n        state = __assign({}, (state), { registeredThemableStyles: [] });\n    }\n    _root.__themeState__ = state;\n    return state;\n}\n/**\n * Loads a set of style text. If it is registered too early, we will register it when the window.load\n * event is fired.\n * @param {string | ThemableArray} styles Themable style text to register.\n * @param {boolean} loadAsync When true, always load styles in async mode, irrespective of current sync mode.\n */\nfunction loadStyles(styles, loadAsync) {\n    if (loadAsync === void 0) { loadAsync = false; }\n    measure(function () {\n        var styleParts = Array.isArray(styles) ? styles : splitStyles(styles);\n        var _a = _themeState.runState, mode = _a.mode, buffer = _a.buffer, flushTimer = _a.flushTimer;\n        if (loadAsync || mode === 1 /* async */) {\n            buffer.push(styleParts);\n            if (!flushTimer) {\n                _themeState.runState.flushTimer = asyncLoadStyles();\n            }\n        }\n        else {\n            applyThemableStyles(styleParts);\n        }\n    });\n}\nexports.loadStyles = loadStyles;\n/**\n * Allows for customizable loadStyles logic. e.g. for server side rendering application\n * @param {(processedStyles: string, rawStyles?: string | ThemableArray) => void}\n * a loadStyles callback that gets called when styles are loaded or reloaded\n */\nfunction configureLoadStyles(loadStylesFn) {\n    _themeState.loadStyles = loadStylesFn;\n}\nexports.configureLoadStyles = configureLoadStyles;\n/**\n * Configure run mode of load-themable-styles\n * @param mode load-themable-styles run mode, async or sync\n */\nfunction configureRunMode(mode) {\n    _themeState.runState.mode = mode;\n}\nexports.configureRunMode = configureRunMode;\n/**\n * external code can call flush to synchronously force processing of currently buffered styles\n */\nfunction flush() {\n    measure(function () {\n        var styleArrays = _themeState.runState.buffer.slice();\n        _themeState.runState.buffer = [];\n        var mergedStyleArray = [].concat.apply([], styleArrays);\n        if (mergedStyleArray.length > 0) {\n            applyThemableStyles(mergedStyleArray);\n        }\n    });\n}\nexports.flush = flush;\n/**\n * register async loadStyles\n */\nfunction asyncLoadStyles() {\n    return setTimeout(function () {\n        _themeState.runState.flushTimer = 0;\n        flush();\n    }, 0);\n}\n/**\n * Loads a set of style text. If it is registered too early, we will register it when the window.load event\n * is fired.\n * @param {string} styleText Style to register.\n * @param {IStyleRecord} styleRecord Existing style record to re-apply.\n */\nfunction applyThemableStyles(stylesArray, styleRecord) {\n    if (_themeState.loadStyles) {\n        _themeState.loadStyles(resolveThemableArray(stylesArray).styleString, stylesArray);\n    }\n    else {\n        registerStyles(stylesArray);\n    }\n}\n/**\n * Registers a set theme tokens to find and replace. If styles were already registered, they will be\n * replaced.\n * @param {theme} theme JSON object of theme tokens to values.\n */\nfunction loadTheme(theme) {\n    _themeState.theme = theme;\n    // reload styles.\n    reloadStyles();\n}\nexports.loadTheme = loadTheme;\n/**\n * Clear already registered style elements and style records in theme_State object\n * @param option - specify which group of registered styles should be cleared.\n * Default to be both themable and non-themable styles will be cleared\n */\nfunction clearStyles(option) {\n    if (option === void 0) { option = 3 /* all */; }\n    if (option === 3 /* all */ || option === 2 /* onlyNonThemable */) {\n        clearStylesInternal(_themeState.registeredStyles);\n        _themeState.registeredStyles = [];\n    }\n    if (option === 3 /* all */ || option === 1 /* onlyThemable */) {\n        clearStylesInternal(_themeState.registeredThemableStyles);\n        _themeState.registeredThemableStyles = [];\n    }\n}\nexports.clearStyles = clearStyles;\nfunction clearStylesInternal(records) {\n    records.forEach(function (styleRecord) {\n        var styleElement = styleRecord && styleRecord.styleElement;\n        if (styleElement && styleElement.parentElement) {\n            styleElement.parentElement.removeChild(styleElement);\n        }\n    });\n}\n/**\n * Reloads styles.\n */\nfunction reloadStyles() {\n    if (_themeState.theme) {\n        var themableStyles = [];\n        for (var _i = 0, _a = _themeState.registeredThemableStyles; _i < _a.length; _i++) {\n            var styleRecord = _a[_i];\n            themableStyles.push(styleRecord.themableStyle);\n        }\n        if (themableStyles.length > 0) {\n            clearStyles(1 /* onlyThemable */);\n            applyThemableStyles([].concat.apply([], themableStyles));\n        }\n    }\n}\n/**\n * Find theme tokens and replaces them with provided theme values.\n * @param {string} styles Tokenized styles to fix.\n */\nfunction detokenize(styles) {\n    if (styles) {\n        styles = resolveThemableArray(splitStyles(styles)).styleString;\n    }\n    return styles;\n}\nexports.detokenize = detokenize;\n/**\n * Resolves ThemingInstruction objects in an array and joins the result into a string.\n * @param {ThemableArray} splitStyleArray ThemableArray to resolve and join.\n */\nfunction resolveThemableArray(splitStyleArray) {\n    var theme = _themeState.theme;\n    var themable = false;\n    // Resolve the array of theming instructions to an array of strings.\n    // Then join the array to produce the final CSS string.\n    var resolvedArray = (splitStyleArray || []).map(function (currentValue) {\n        var themeSlot = currentValue.theme;\n        if (themeSlot) {\n            themable = true;\n            // A theming annotation. Resolve it.\n            var themedValue = theme ? theme[themeSlot] : undefined;\n            var defaultValue = currentValue.defaultValue || 'inherit';\n            // Warn to console if we hit an unthemed value even when themes are provided, but only if \"DEBUG\" is true.\n            // Allow the themedValue to be undefined to explicitly request the default value.\n            if (theme && !themedValue && console && !(themeSlot in theme) && typeof DEBUG !== 'undefined' && DEBUG) {\n                console.warn(\"Theming value not provided for \\\"\" + themeSlot + \"\\\". Falling back to \\\"\" + defaultValue + \"\\\".\");\n            }\n            return themedValue || defaultValue;\n        }\n        else {\n            // A non-themable string. Preserve it.\n            return currentValue.rawString;\n        }\n    });\n    return {\n        styleString: resolvedArray.join(''),\n        themable: themable\n    };\n}\n/**\n * Split tokenized CSS into an array of strings and theme specification objects\n * @param {string} styles Tokenized styles to split.\n */\nfunction splitStyles(styles) {\n    var result = [];\n    if (styles) {\n        var pos = 0; // Current position in styles.\n        var tokenMatch = void 0; // eslint-disable-line @rushstack/no-null\n        while ((tokenMatch = _themeTokenRegex.exec(styles))) {\n            var matchIndex = tokenMatch.index;\n            if (matchIndex > pos) {\n                result.push({\n                    rawString: styles.substring(pos, matchIndex)\n                });\n            }\n            result.push({\n                theme: tokenMatch[1],\n                defaultValue: tokenMatch[2] // May be undefined\n            });\n            // index of the first character after the current match\n            pos = _themeTokenRegex.lastIndex;\n        }\n        // Push the rest of the string after the last match.\n        result.push({\n            rawString: styles.substring(pos)\n        });\n    }\n    return result;\n}\nexports.splitStyles = splitStyles;\n/**\n * Registers a set of style text. If it is registered too early, we will register it when the\n * window.load event is fired.\n * @param {ThemableArray} styleArray Array of IThemingInstruction objects to register.\n * @param {IStyleRecord} styleRecord May specify a style Element to update.\n */\nfunction registerStyles(styleArray) {\n    if (typeof document === 'undefined') {\n        return;\n    }\n    var head = document.getElementsByTagName('head')[0];\n    var styleElement = document.createElement('style');\n    var _a = resolveThemableArray(styleArray), styleString = _a.styleString, themable = _a.themable;\n    styleElement.setAttribute('data-load-themed-styles', 'true');\n    if (_styleNonce) {\n        styleElement.setAttribute('nonce', _styleNonce);\n    }\n    styleElement.appendChild(document.createTextNode(styleString));\n    _themeState.perf.count++;\n    head.appendChild(styleElement);\n    var ev = document.createEvent('HTMLEvents');\n    ev.initEvent('styleinsert', true /* bubbleEvent */, false /* cancelable */);\n    ev.args = {\n        newStyle: styleElement\n    };\n    document.dispatchEvent(ev);\n    var record = {\n        styleElement: styleElement,\n        themableStyle: styleArray\n    };\n    if (themable) {\n        _themeState.registeredThemableStyles.push(record);\n    }\n    else {\n        _themeState.registeredStyles.push(record);\n    }\n}\n//# sourceMappingURL=index.js.map","export default abstract class CodeElement {\n    abstract getCode(): string;\n\n    protected encode(src: string): string {\n        return src.replace(/\\\\/g, '\\\\\\\\').replace(/'/g, \"\\\\'\");\n    }\n\n    protected indent(src: string): string {\n        return src\n            .split('\\n')\n            .map(line => (line == '' ? '' : '    ' + line + '\\n'))\n            .join('');\n    }\n}\n","import * as React from 'react';\nimport BuildInPluginState from './BuildInPluginState';\nimport { EditorOptions, IEditor } from 'roosterjs-editor-types';\n\nexport interface MainPaneBaseState {\n    showSidePane: boolean;\n    showRibbon: boolean;\n    popoutWindow: Window;\n    initState: BuildInPluginState;\n    supportDarkMode: boolean;\n    scale: number;\n    isDarkMode: boolean;\n    editorCreator: (div: HTMLDivElement, options: EditorOptions) => IEditor;\n    isRtl: boolean;\n}\n\nexport default abstract class MainPaneBase extends React.Component<{}, MainPaneBaseState> {\n    private static instance: MainPaneBase;\n\n    static getInstance() {\n        return this.instance;\n    }\n\n    constructor(props: {}) {\n        super(props);\n\n        MainPaneBase.instance = this;\n    }\n\n    abstract resetEditorPlugin(pluginState: BuildInPluginState): void;\n\n    abstract updateFormatState(): void;\n\n    abstract setIsRibbonShown(isShown: boolean): void;\n\n    abstract setIsDarkModeSupported(isSupported: boolean): void;\n\n    abstract isDarkModeSupported(): boolean;\n\n    abstract popout(): void;\n\n    abstract setScale(scale: number): void;\n\n    abstract toggleDarkMode(): void;\n\n    abstract setPageDirection(isRtl: boolean): void;\n}\n","module.exports = ReactDOM;","import * as DOMPurify from 'dompurify';\n\nexport function trustedHTMLHandler(html: string): string {\n    const result = DOMPurify.sanitize(html, {\n        ADD_TAGS: ['head', 'meta', '#comment'],\n        ADD_ATTR: ['name', 'content'],\n        WHOLE_DOCUMENT: true,\n        RETURN_TRUSTED_TYPE: true,\n    });\n    return <string>(<any>result);\n}\n","import * as React from 'react';\nimport SidePanePlugin from '../SidePanePlugin';\nimport { IEditor } from 'roosterjs-editor-types';\nimport { SidePaneElement, SidePaneElementProps } from './SidePaneElement';\n\ninterface SidePaneComponent<P extends SidePaneElementProps>\n    extends React.Component<P, any>,\n        SidePaneElement {}\n\nexport default abstract class SidePanePluginImpl<\n    T extends SidePaneComponent<P>,\n    P extends SidePaneElementProps\n> implements SidePanePlugin {\n    protected editor: IEditor;\n    private component = React.createRef<T>();\n\n    constructor(\n        private readonly componentCtor: { new (props: P): T },\n        private readonly pluginName: string,\n        private readonly title: string\n    ) {}\n\n    getName() {\n        return this.pluginName;\n    }\n\n    initialize(editor: IEditor) {\n        this.editor = editor;\n    }\n\n    dispose() {\n        this.editor = null;\n    }\n\n    getTitle() {\n        return this.title;\n    }\n\n    renderSidePane(updateHash: (pluginName?: string, path?: string[]) => void) {\n        return React.createElement<P>(this.componentCtor, {\n            ...this.getComponentProps({\n                updateHash,\n            }),\n            ref: this.component,\n        });\n    }\n\n    setHashPath(path: string[]) {\n        if (this.component.current && this.component.current.setHashPath) {\n            this.component.current.setHashPath(path);\n        }\n    }\n\n    protected abstract getComponentProps(baseProps: SidePaneElementProps): P;\n\n    protected getComponent(callback: (component: T) => void) {\n        if (this.component.current) {\n            callback(this.component.current);\n        }\n    }\n}\n","import { SidePaneElementProps } from './sidePane/SidePaneElement';\nimport {\n    ContentEditFeatureSettings,\n    DefaultFormat,\n    ExperimentalFeatures,\n} from 'roosterjs-editor-types';\n\nexport const UrlPlaceholder = '$url$';\n\nexport interface BuildInPluginList {\n    contentEdit: boolean;\n    hyperlink: boolean;\n    paste: boolean;\n    watermark: boolean;\n    imageEdit: boolean;\n    cutPasteListChain: boolean;\n    tableCellSelection: boolean;\n    tableResize: boolean;\n    customReplace: boolean;\n    pickerPlugin: boolean;\n    resetList: boolean;\n    contextMenu: boolean;\n    autoFormat: boolean;\n}\n\nexport default interface BuildInPluginState {\n    pluginList: BuildInPluginList;\n    contentEditFeatures: ContentEditFeatureSettings;\n    defaultFormat: DefaultFormat;\n    linkTitle: string;\n    watermarkText: string;\n    showRibbon: boolean;\n    supportDarkMode: boolean;\n    experimentalFeatures: ExperimentalFeatures[];\n    forcePreserveRatio: boolean;\n    isRtl: boolean;\n}\n\nexport interface BuildInPluginProps extends BuildInPluginState, SidePaneElementProps {}\n","var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/sass-loader/dist/cjs.js!./OptionsPane.scss\");\nvar loader = require(\"/home/runner/work/roosterjs/roosterjs/node_modules/@microsoft/loader-load-themed-styles/node_modules/@microsoft/load-themed-styles/lib/index.js\");\n\nif(typeof content === \"string\") content = [[module.id, content]];\n\n// add the styles to the DOM\nfor (var i = 0; i < content.length; i++) loader.loadStyles(content[i][1], false);\n\nif(content.locals) module.exports = content.locals;","export {\n    LocalizedStrings,\n    OkButtonStringKey,\n    CancelButtonStringKey,\n} from './type/LocalizedStrings';\nexport { default as UIUtilities } from './type/UIUtilities';\nexport { default as ReactEditorPlugin } from './type/ReactEditorPlugin';\nexport { default as createUIUtilities } from './utils/createUIUtilities';\nexport { default as getLocalizedString } from './utils/getLocalizedString';\n","import { LocalizedStrings } from '../type/LocalizedStrings';\n\n/**\n * Get a localized string\n * @param strings The LocalizedStrings map\n * @param key Key of the string\n * @param defaultString Default unlocalized string, will be used if strings is not specified or the give key doesn't exist in strings\n * @returns A localized string from the string map, or defaultString\n */\nexport default function getLocalizedString<T extends string>(\n    strings: Partial<LocalizedStrings<T>>,\n    key: T,\n    defaultString: string\n) {\n    const str = strings?.[key];\n\n    if (typeof str == 'function') {\n        return str();\n    } else if (typeof str == 'string') {\n        return str;\n    } else {\n        return defaultString;\n    }\n}\n","'use strict';\n\nvar colorString = require('color-string');\nvar convert = require('color-convert');\n\nvar _slice = [].slice;\n\nvar skippedModels = [\n\t// to be honest, I don't really feel like keyword belongs in color convert, but eh.\n\t'keyword',\n\n\t// gray conflicts with some method names, and has its own method defined.\n\t'gray',\n\n\t// shouldn't really be in color-convert either...\n\t'hex'\n];\n\nvar hashedModelKeys = {};\nObject.keys(convert).forEach(function (model) {\n\thashedModelKeys[_slice.call(convert[model].labels).sort().join('')] = model;\n});\n\nvar limiters = {};\n\nfunction Color(obj, model) {\n\tif (!(this instanceof Color)) {\n\t\treturn new Color(obj, model);\n\t}\n\n\tif (model && model in skippedModels) {\n\t\tmodel = null;\n\t}\n\n\tif (model && !(model in convert)) {\n\t\tthrow new Error('Unknown model: ' + model);\n\t}\n\n\tvar i;\n\tvar channels;\n\n\tif (obj == null) { // eslint-disable-line no-eq-null,eqeqeq\n\t\tthis.model = 'rgb';\n\t\tthis.color = [0, 0, 0];\n\t\tthis.valpha = 1;\n\t} else if (obj instanceof Color) {\n\t\tthis.model = obj.model;\n\t\tthis.color = obj.color.slice();\n\t\tthis.valpha = obj.valpha;\n\t} else if (typeof obj === 'string') {\n\t\tvar result = colorString.get(obj);\n\t\tif (result === null) {\n\t\t\tthrow new Error('Unable to parse color from string: ' + obj);\n\t\t}\n\n\t\tthis.model = result.model;\n\t\tchannels = convert[this.model].channels;\n\t\tthis.color = result.value.slice(0, channels);\n\t\tthis.valpha = typeof result.value[channels] === 'number' ? result.value[channels] : 1;\n\t} else if (obj.length) {\n\t\tthis.model = model || 'rgb';\n\t\tchannels = convert[this.model].channels;\n\t\tvar newArr = _slice.call(obj, 0, channels);\n\t\tthis.color = zeroArray(newArr, channels);\n\t\tthis.valpha = typeof obj[channels] === 'number' ? obj[channels] : 1;\n\t} else if (typeof obj === 'number') {\n\t\t// this is always RGB - can be converted later on.\n\t\tobj &= 0xFFFFFF;\n\t\tthis.model = 'rgb';\n\t\tthis.color = [\n\t\t\t(obj >> 16) & 0xFF,\n\t\t\t(obj >> 8) & 0xFF,\n\t\t\tobj & 0xFF\n\t\t];\n\t\tthis.valpha = 1;\n\t} else {\n\t\tthis.valpha = 1;\n\n\t\tvar keys = Object.keys(obj);\n\t\tif ('alpha' in obj) {\n\t\t\tkeys.splice(keys.indexOf('alpha'), 1);\n\t\t\tthis.valpha = typeof obj.alpha === 'number' ? obj.alpha : 0;\n\t\t}\n\n\t\tvar hashedKeys = keys.sort().join('');\n\t\tif (!(hashedKeys in hashedModelKeys)) {\n\t\t\tthrow new Error('Unable to parse color from object: ' + JSON.stringify(obj));\n\t\t}\n\n\t\tthis.model = hashedModelKeys[hashedKeys];\n\n\t\tvar labels = convert[this.model].labels;\n\t\tvar color = [];\n\t\tfor (i = 0; i < labels.length; i++) {\n\t\t\tcolor.push(obj[labels[i]]);\n\t\t}\n\n\t\tthis.color = zeroArray(color);\n\t}\n\n\t// perform limitations (clamping, etc.)\n\tif (limiters[this.model]) {\n\t\tchannels = convert[this.model].channels;\n\t\tfor (i = 0; i < channels; i++) {\n\t\t\tvar limit = limiters[this.model][i];\n\t\t\tif (limit) {\n\t\t\t\tthis.color[i] = limit(this.color[i]);\n\t\t\t}\n\t\t}\n\t}\n\n\tthis.valpha = Math.max(0, Math.min(1, this.valpha));\n\n\tif (Object.freeze) {\n\t\tObject.freeze(this);\n\t}\n}\n\nColor.prototype = {\n\ttoString: function () {\n\t\treturn this.string();\n\t},\n\n\ttoJSON: function () {\n\t\treturn this[this.model]();\n\t},\n\n\tstring: function (places) {\n\t\tvar self = this.model in colorString.to ? this : this.rgb();\n\t\tself = self.round(typeof places === 'number' ? places : 1);\n\t\tvar args = self.valpha === 1 ? self.color : self.color.concat(this.valpha);\n\t\treturn colorString.to[self.model](args);\n\t},\n\n\tpercentString: function (places) {\n\t\tvar self = this.rgb().round(typeof places === 'number' ? places : 1);\n\t\tvar args = self.valpha === 1 ? self.color : self.color.concat(this.valpha);\n\t\treturn colorString.to.rgb.percent(args);\n\t},\n\n\tarray: function () {\n\t\treturn this.valpha === 1 ? this.color.slice() : this.color.concat(this.valpha);\n\t},\n\n\tobject: function () {\n\t\tvar result = {};\n\t\tvar channels = convert[this.model].channels;\n\t\tvar labels = convert[this.model].labels;\n\n\t\tfor (var i = 0; i < channels; i++) {\n\t\t\tresult[labels[i]] = this.color[i];\n\t\t}\n\n\t\tif (this.valpha !== 1) {\n\t\t\tresult.alpha = this.valpha;\n\t\t}\n\n\t\treturn result;\n\t},\n\n\tunitArray: function () {\n\t\tvar rgb = this.rgb().color;\n\t\trgb[0] /= 255;\n\t\trgb[1] /= 255;\n\t\trgb[2] /= 255;\n\n\t\tif (this.valpha !== 1) {\n\t\t\trgb.push(this.valpha);\n\t\t}\n\n\t\treturn rgb;\n\t},\n\n\tunitObject: function () {\n\t\tvar rgb = this.rgb().object();\n\t\trgb.r /= 255;\n\t\trgb.g /= 255;\n\t\trgb.b /= 255;\n\n\t\tif (this.valpha !== 1) {\n\t\t\trgb.alpha = this.valpha;\n\t\t}\n\n\t\treturn rgb;\n\t},\n\n\tround: function (places) {\n\t\tplaces = Math.max(places || 0, 0);\n\t\treturn new Color(this.color.map(roundToPlace(places)).concat(this.valpha), this.model);\n\t},\n\n\talpha: function (val) {\n\t\tif (arguments.length) {\n\t\t\treturn new Color(this.color.concat(Math.max(0, Math.min(1, val))), this.model);\n\t\t}\n\n\t\treturn this.valpha;\n\t},\n\n\t// rgb\n\tred: getset('rgb', 0, maxfn(255)),\n\tgreen: getset('rgb', 1, maxfn(255)),\n\tblue: getset('rgb', 2, maxfn(255)),\n\n\thue: getset(['hsl', 'hsv', 'hsl', 'hwb', 'hcg'], 0, function (val) { return ((val % 360) + 360) % 360; }), // eslint-disable-line brace-style\n\n\tsaturationl: getset('hsl', 1, maxfn(100)),\n\tlightness: getset('hsl', 2, maxfn(100)),\n\n\tsaturationv: getset('hsv', 1, maxfn(100)),\n\tvalue: getset('hsv', 2, maxfn(100)),\n\n\tchroma: getset('hcg', 1, maxfn(100)),\n\tgray: getset('hcg', 2, maxfn(100)),\n\n\twhite: getset('hwb', 1, maxfn(100)),\n\twblack: getset('hwb', 2, maxfn(100)),\n\n\tcyan: getset('cmyk', 0, maxfn(100)),\n\tmagenta: getset('cmyk', 1, maxfn(100)),\n\tyellow: getset('cmyk', 2, maxfn(100)),\n\tblack: getset('cmyk', 3, maxfn(100)),\n\n\tx: getset('xyz', 0, maxfn(100)),\n\ty: getset('xyz', 1, maxfn(100)),\n\tz: getset('xyz', 2, maxfn(100)),\n\n\tl: getset('lab', 0, maxfn(100)),\n\ta: getset('lab', 1),\n\tb: getset('lab', 2),\n\n\tkeyword: function (val) {\n\t\tif (arguments.length) {\n\t\t\treturn new Color(val);\n\t\t}\n\n\t\treturn convert[this.model].keyword(this.color);\n\t},\n\n\thex: function (val) {\n\t\tif (arguments.length) {\n\t\t\treturn new Color(val);\n\t\t}\n\n\t\treturn colorString.to.hex(this.rgb().round().color);\n\t},\n\n\trgbNumber: function () {\n\t\tvar rgb = this.rgb().color;\n\t\treturn ((rgb[0] & 0xFF) << 16) | ((rgb[1] & 0xFF) << 8) | (rgb[2] & 0xFF);\n\t},\n\n\tluminosity: function () {\n\t\t// http://www.w3.org/TR/WCAG20/#relativeluminancedef\n\t\tvar rgb = this.rgb().color;\n\n\t\tvar lum = [];\n\t\tfor (var i = 0; i < rgb.length; i++) {\n\t\t\tvar chan = rgb[i] / 255;\n\t\t\tlum[i] = (chan <= 0.03928) ? chan / 12.92 : Math.pow(((chan + 0.055) / 1.055), 2.4);\n\t\t}\n\n\t\treturn 0.2126 * lum[0] + 0.7152 * lum[1] + 0.0722 * lum[2];\n\t},\n\n\tcontrast: function (color2) {\n\t\t// http://www.w3.org/TR/WCAG20/#contrast-ratiodef\n\t\tvar lum1 = this.luminosity();\n\t\tvar lum2 = color2.luminosity();\n\n\t\tif (lum1 > lum2) {\n\t\t\treturn (lum1 + 0.05) / (lum2 + 0.05);\n\t\t}\n\n\t\treturn (lum2 + 0.05) / (lum1 + 0.05);\n\t},\n\n\tlevel: function (color2) {\n\t\tvar contrastRatio = this.contrast(color2);\n\t\tif (contrastRatio >= 7.1) {\n\t\t\treturn 'AAA';\n\t\t}\n\n\t\treturn (contrastRatio >= 4.5) ? 'AA' : '';\n\t},\n\n\tisDark: function () {\n\t\t// YIQ equation from http://24ways.org/2010/calculating-color-contrast\n\t\tvar rgb = this.rgb().color;\n\t\tvar yiq = (rgb[0] * 299 + rgb[1] * 587 + rgb[2] * 114) / 1000;\n\t\treturn yiq < 128;\n\t},\n\n\tisLight: function () {\n\t\treturn !this.isDark();\n\t},\n\n\tnegate: function () {\n\t\tvar rgb = this.rgb();\n\t\tfor (var i = 0; i < 3; i++) {\n\t\t\trgb.color[i] = 255 - rgb.color[i];\n\t\t}\n\t\treturn rgb;\n\t},\n\n\tlighten: function (ratio) {\n\t\tvar hsl = this.hsl();\n\t\thsl.color[2] += hsl.color[2] * ratio;\n\t\treturn hsl;\n\t},\n\n\tdarken: function (ratio) {\n\t\tvar hsl = this.hsl();\n\t\thsl.color[2] -= hsl.color[2] * ratio;\n\t\treturn hsl;\n\t},\n\n\tsaturate: function (ratio) {\n\t\tvar hsl = this.hsl();\n\t\thsl.color[1] += hsl.color[1] * ratio;\n\t\treturn hsl;\n\t},\n\n\tdesaturate: function (ratio) {\n\t\tvar hsl = this.hsl();\n\t\thsl.color[1] -= hsl.color[1] * ratio;\n\t\treturn hsl;\n\t},\n\n\twhiten: function (ratio) {\n\t\tvar hwb = this.hwb();\n\t\thwb.color[1] += hwb.color[1] * ratio;\n\t\treturn hwb;\n\t},\n\n\tblacken: function (ratio) {\n\t\tvar hwb = this.hwb();\n\t\thwb.color[2] += hwb.color[2] * ratio;\n\t\treturn hwb;\n\t},\n\n\tgrayscale: function () {\n\t\t// http://en.wikipedia.org/wiki/Grayscale#Converting_color_to_grayscale\n\t\tvar rgb = this.rgb().color;\n\t\tvar val = rgb[0] * 0.3 + rgb[1] * 0.59 + rgb[2] * 0.11;\n\t\treturn Color.rgb(val, val, val);\n\t},\n\n\tfade: function (ratio) {\n\t\treturn this.alpha(this.valpha - (this.valpha * ratio));\n\t},\n\n\topaquer: function (ratio) {\n\t\treturn this.alpha(this.valpha + (this.valpha * ratio));\n\t},\n\n\trotate: function (degrees) {\n\t\tvar hsl = this.hsl();\n\t\tvar hue = hsl.color[0];\n\t\thue = (hue + degrees) % 360;\n\t\thue = hue < 0 ? 360 + hue : hue;\n\t\thsl.color[0] = hue;\n\t\treturn hsl;\n\t},\n\n\tmix: function (mixinColor, weight) {\n\t\t// ported from sass implementation in C\n\t\t// https://github.com/sass/libsass/blob/0e6b4a2850092356aa3ece07c6b249f0221caced/functions.cpp#L209\n\t\tif (!mixinColor || !mixinColor.rgb) {\n\t\t\tthrow new Error('Argument to \"mix\" was not a Color instance, but rather an instance of ' + typeof mixinColor);\n\t\t}\n\t\tvar color1 = mixinColor.rgb();\n\t\tvar color2 = this.rgb();\n\t\tvar p = weight === undefined ? 0.5 : weight;\n\n\t\tvar w = 2 * p - 1;\n\t\tvar a = color1.alpha() - color2.alpha();\n\n\t\tvar w1 = (((w * a === -1) ? w : (w + a) / (1 + w * a)) + 1) / 2.0;\n\t\tvar w2 = 1 - w1;\n\n\t\treturn Color.rgb(\n\t\t\t\tw1 * color1.red() + w2 * color2.red(),\n\t\t\t\tw1 * color1.green() + w2 * color2.green(),\n\t\t\t\tw1 * color1.blue() + w2 * color2.blue(),\n\t\t\t\tcolor1.alpha() * p + color2.alpha() * (1 - p));\n\t}\n};\n\n// model conversion methods and static constructors\nObject.keys(convert).forEach(function (model) {\n\tif (skippedModels.indexOf(model) !== -1) {\n\t\treturn;\n\t}\n\n\tvar channels = convert[model].channels;\n\n\t// conversion methods\n\tColor.prototype[model] = function () {\n\t\tif (this.model === model) {\n\t\t\treturn new Color(this);\n\t\t}\n\n\t\tif (arguments.length) {\n\t\t\treturn new Color(arguments, model);\n\t\t}\n\n\t\tvar newAlpha = typeof arguments[channels] === 'number' ? channels : this.valpha;\n\t\treturn new Color(assertArray(convert[this.model][model].raw(this.color)).concat(newAlpha), model);\n\t};\n\n\t// 'static' construction methods\n\tColor[model] = function (color) {\n\t\tif (typeof color === 'number') {\n\t\t\tcolor = zeroArray(_slice.call(arguments), channels);\n\t\t}\n\t\treturn new Color(color, model);\n\t};\n});\n\nfunction roundTo(num, places) {\n\treturn Number(num.toFixed(places));\n}\n\nfunction roundToPlace(places) {\n\treturn function (num) {\n\t\treturn roundTo(num, places);\n\t};\n}\n\nfunction getset(model, channel, modifier) {\n\tmodel = Array.isArray(model) ? model : [model];\n\n\tmodel.forEach(function (m) {\n\t\t(limiters[m] || (limiters[m] = []))[channel] = modifier;\n\t});\n\n\tmodel = model[0];\n\n\treturn function (val) {\n\t\tvar result;\n\n\t\tif (arguments.length) {\n\t\t\tif (modifier) {\n\t\t\t\tval = modifier(val);\n\t\t\t}\n\n\t\t\tresult = this[model]();\n\t\t\tresult.color[channel] = val;\n\t\t\treturn result;\n\t\t}\n\n\t\tresult = this[model]().color[channel];\n\t\tif (modifier) {\n\t\t\tresult = modifier(result);\n\t\t}\n\n\t\treturn result;\n\t};\n}\n\nfunction maxfn(max) {\n\treturn function (v) {\n\t\treturn Math.max(0, Math.min(max, v));\n\t};\n}\n\nfunction assertArray(val) {\n\treturn Array.isArray(val) ? val : [val];\n}\n\nfunction zeroArray(arr, length) {\n\tfor (var i = 0; i < length; i++) {\n\t\tif (typeof arr[i] !== 'number') {\n\t\t\tarr[i] = 0;\n\t\t}\n\t}\n\n\treturn arr;\n}\n\nmodule.exports = Color;\n","'use strict'\r\n\r\nmodule.exports = {\r\n\t\"aliceblue\": [240, 248, 255],\r\n\t\"antiquewhite\": [250, 235, 215],\r\n\t\"aqua\": [0, 255, 255],\r\n\t\"aquamarine\": [127, 255, 212],\r\n\t\"azure\": [240, 255, 255],\r\n\t\"beige\": [245, 245, 220],\r\n\t\"bisque\": [255, 228, 196],\r\n\t\"black\": [0, 0, 0],\r\n\t\"blanchedalmond\": [255, 235, 205],\r\n\t\"blue\": [0, 0, 255],\r\n\t\"blueviolet\": [138, 43, 226],\r\n\t\"brown\": [165, 42, 42],\r\n\t\"burlywood\": [222, 184, 135],\r\n\t\"cadetblue\": [95, 158, 160],\r\n\t\"chartreuse\": [127, 255, 0],\r\n\t\"chocolate\": [210, 105, 30],\r\n\t\"coral\": [255, 127, 80],\r\n\t\"cornflowerblue\": [100, 149, 237],\r\n\t\"cornsilk\": [255, 248, 220],\r\n\t\"crimson\": [220, 20, 60],\r\n\t\"cyan\": [0, 255, 255],\r\n\t\"darkblue\": [0, 0, 139],\r\n\t\"darkcyan\": [0, 139, 139],\r\n\t\"darkgoldenrod\": [184, 134, 11],\r\n\t\"darkgray\": [169, 169, 169],\r\n\t\"darkgreen\": [0, 100, 0],\r\n\t\"darkgrey\": [169, 169, 169],\r\n\t\"darkkhaki\": [189, 183, 107],\r\n\t\"darkmagenta\": [139, 0, 139],\r\n\t\"darkolivegreen\": [85, 107, 47],\r\n\t\"darkorange\": [255, 140, 0],\r\n\t\"darkorchid\": [153, 50, 204],\r\n\t\"darkred\": [139, 0, 0],\r\n\t\"darksalmon\": [233, 150, 122],\r\n\t\"darkseagreen\": [143, 188, 143],\r\n\t\"darkslateblue\": [72, 61, 139],\r\n\t\"darkslategray\": [47, 79, 79],\r\n\t\"darkslategrey\": [47, 79, 79],\r\n\t\"darkturquoise\": [0, 206, 209],\r\n\t\"darkviolet\": [148, 0, 211],\r\n\t\"deeppink\": [255, 20, 147],\r\n\t\"deepskyblue\": [0, 191, 255],\r\n\t\"dimgray\": [105, 105, 105],\r\n\t\"dimgrey\": [105, 105, 105],\r\n\t\"dodgerblue\": [30, 144, 255],\r\n\t\"firebrick\": [178, 34, 34],\r\n\t\"floralwhite\": [255, 250, 240],\r\n\t\"forestgreen\": [34, 139, 34],\r\n\t\"fuchsia\": [255, 0, 255],\r\n\t\"gainsboro\": [220, 220, 220],\r\n\t\"ghostwhite\": [248, 248, 255],\r\n\t\"gold\": [255, 215, 0],\r\n\t\"goldenrod\": [218, 165, 32],\r\n\t\"gray\": [128, 128, 128],\r\n\t\"green\": [0, 128, 0],\r\n\t\"greenyellow\": [173, 255, 47],\r\n\t\"grey\": [128, 128, 128],\r\n\t\"honeydew\": [240, 255, 240],\r\n\t\"hotpink\": [255, 105, 180],\r\n\t\"indianred\": [205, 92, 92],\r\n\t\"indigo\": [75, 0, 130],\r\n\t\"ivory\": [255, 255, 240],\r\n\t\"khaki\": [240, 230, 140],\r\n\t\"lavender\": [230, 230, 250],\r\n\t\"lavenderblush\": [255, 240, 245],\r\n\t\"lawngreen\": [124, 252, 0],\r\n\t\"lemonchiffon\": [255, 250, 205],\r\n\t\"lightblue\": [173, 216, 230],\r\n\t\"lightcoral\": [240, 128, 128],\r\n\t\"lightcyan\": [224, 255, 255],\r\n\t\"lightgoldenrodyellow\": [250, 250, 210],\r\n\t\"lightgray\": [211, 211, 211],\r\n\t\"lightgreen\": [144, 238, 144],\r\n\t\"lightgrey\": [211, 211, 211],\r\n\t\"lightpink\": [255, 182, 193],\r\n\t\"lightsalmon\": [255, 160, 122],\r\n\t\"lightseagreen\": [32, 178, 170],\r\n\t\"lightskyblue\": [135, 206, 250],\r\n\t\"lightslategray\": [119, 136, 153],\r\n\t\"lightslategrey\": [119, 136, 153],\r\n\t\"lightsteelblue\": [176, 196, 222],\r\n\t\"lightyellow\": [255, 255, 224],\r\n\t\"lime\": [0, 255, 0],\r\n\t\"limegreen\": [50, 205, 50],\r\n\t\"linen\": [250, 240, 230],\r\n\t\"magenta\": [255, 0, 255],\r\n\t\"maroon\": [128, 0, 0],\r\n\t\"mediumaquamarine\": [102, 205, 170],\r\n\t\"mediumblue\": [0, 0, 205],\r\n\t\"mediumorchid\": [186, 85, 211],\r\n\t\"mediumpurple\": [147, 112, 219],\r\n\t\"mediumseagreen\": [60, 179, 113],\r\n\t\"mediumslateblue\": [123, 104, 238],\r\n\t\"mediumspringgreen\": [0, 250, 154],\r\n\t\"mediumturquoise\": [72, 209, 204],\r\n\t\"mediumvioletred\": [199, 21, 133],\r\n\t\"midnightblue\": [25, 25, 112],\r\n\t\"mintcream\": [245, 255, 250],\r\n\t\"mistyrose\": [255, 228, 225],\r\n\t\"moccasin\": [255, 228, 181],\r\n\t\"navajowhite\": [255, 222, 173],\r\n\t\"navy\": [0, 0, 128],\r\n\t\"oldlace\": [253, 245, 230],\r\n\t\"olive\": [128, 128, 0],\r\n\t\"olivedrab\": [107, 142, 35],\r\n\t\"orange\": [255, 165, 0],\r\n\t\"orangered\": [255, 69, 0],\r\n\t\"orchid\": [218, 112, 214],\r\n\t\"palegoldenrod\": [238, 232, 170],\r\n\t\"palegreen\": [152, 251, 152],\r\n\t\"paleturquoise\": [175, 238, 238],\r\n\t\"palevioletred\": [219, 112, 147],\r\n\t\"papayawhip\": [255, 239, 213],\r\n\t\"peachpuff\": [255, 218, 185],\r\n\t\"peru\": [205, 133, 63],\r\n\t\"pink\": [255, 192, 203],\r\n\t\"plum\": [221, 160, 221],\r\n\t\"powderblue\": [176, 224, 230],\r\n\t\"purple\": [128, 0, 128],\r\n\t\"rebeccapurple\": [102, 51, 153],\r\n\t\"red\": [255, 0, 0],\r\n\t\"rosybrown\": [188, 143, 143],\r\n\t\"royalblue\": [65, 105, 225],\r\n\t\"saddlebrown\": [139, 69, 19],\r\n\t\"salmon\": [250, 128, 114],\r\n\t\"sandybrown\": [244, 164, 96],\r\n\t\"seagreen\": [46, 139, 87],\r\n\t\"seashell\": [255, 245, 238],\r\n\t\"sienna\": [160, 82, 45],\r\n\t\"silver\": [192, 192, 192],\r\n\t\"skyblue\": [135, 206, 235],\r\n\t\"slateblue\": [106, 90, 205],\r\n\t\"slategray\": [112, 128, 144],\r\n\t\"slategrey\": [112, 128, 144],\r\n\t\"snow\": [255, 250, 250],\r\n\t\"springgreen\": [0, 255, 127],\r\n\t\"steelblue\": [70, 130, 180],\r\n\t\"tan\": [210, 180, 140],\r\n\t\"teal\": [0, 128, 128],\r\n\t\"thistle\": [216, 191, 216],\r\n\t\"tomato\": [255, 99, 71],\r\n\t\"turquoise\": [64, 224, 208],\r\n\t\"violet\": [238, 130, 238],\r\n\t\"wheat\": [245, 222, 179],\r\n\t\"white\": [255, 255, 255],\r\n\t\"whitesmoke\": [245, 245, 245],\r\n\t\"yellow\": [255, 255, 0],\r\n\t\"yellowgreen\": [154, 205, 50]\r\n};\r\n","/* MIT license */\nvar cssKeywords = require('color-name');\n\n// NOTE: conversions should only return primitive values (i.e. arrays, or\n//       values that give correct `typeof` results).\n//       do not use box values types (i.e. Number(), String(), etc.)\n\nvar reverseKeywords = {};\nfor (var key in cssKeywords) {\n\tif (cssKeywords.hasOwnProperty(key)) {\n\t\treverseKeywords[cssKeywords[key]] = key;\n\t}\n}\n\nvar convert = module.exports = {\n\trgb: {channels: 3, labels: 'rgb'},\n\thsl: {channels: 3, labels: 'hsl'},\n\thsv: {channels: 3, labels: 'hsv'},\n\thwb: {channels: 3, labels: 'hwb'},\n\tcmyk: {channels: 4, labels: 'cmyk'},\n\txyz: {channels: 3, labels: 'xyz'},\n\tlab: {channels: 3, labels: 'lab'},\n\tlch: {channels: 3, labels: 'lch'},\n\thex: {channels: 1, labels: ['hex']},\n\tkeyword: {channels: 1, labels: ['keyword']},\n\tansi16: {channels: 1, labels: ['ansi16']},\n\tansi256: {channels: 1, labels: ['ansi256']},\n\thcg: {channels: 3, labels: ['h', 'c', 'g']},\n\tapple: {channels: 3, labels: ['r16', 'g16', 'b16']},\n\tgray: {channels: 1, labels: ['gray']}\n};\n\n// hide .channels and .labels properties\nfor (var model in convert) {\n\tif (convert.hasOwnProperty(model)) {\n\t\tif (!('channels' in convert[model])) {\n\t\t\tthrow new Error('missing channels property: ' + model);\n\t\t}\n\n\t\tif (!('labels' in convert[model])) {\n\t\t\tthrow new Error('missing channel labels property: ' + model);\n\t\t}\n\n\t\tif (convert[model].labels.length !== convert[model].channels) {\n\t\t\tthrow new Error('channel and label counts mismatch: ' + model);\n\t\t}\n\n\t\tvar channels = convert[model].channels;\n\t\tvar labels = convert[model].labels;\n\t\tdelete convert[model].channels;\n\t\tdelete convert[model].labels;\n\t\tObject.defineProperty(convert[model], 'channels', {value: channels});\n\t\tObject.defineProperty(convert[model], 'labels', {value: labels});\n\t}\n}\n\nconvert.rgb.hsl = function (rgb) {\n\tvar r = rgb[0] / 255;\n\tvar g = rgb[1] / 255;\n\tvar b = rgb[2] / 255;\n\tvar min = Math.min(r, g, b);\n\tvar max = Math.max(r, g, b);\n\tvar delta = max - min;\n\tvar h;\n\tvar s;\n\tvar l;\n\n\tif (max === min) {\n\t\th = 0;\n\t} else if (r === max) {\n\t\th = (g - b) / delta;\n\t} else if (g === max) {\n\t\th = 2 + (b - r) / delta;\n\t} else if (b === max) {\n\t\th = 4 + (r - g) / delta;\n\t}\n\n\th = Math.min(h * 60, 360);\n\n\tif (h < 0) {\n\t\th += 360;\n\t}\n\n\tl = (min + max) / 2;\n\n\tif (max === min) {\n\t\ts = 0;\n\t} else if (l <= 0.5) {\n\t\ts = delta / (max + min);\n\t} else {\n\t\ts = delta / (2 - max - min);\n\t}\n\n\treturn [h, s * 100, l * 100];\n};\n\nconvert.rgb.hsv = function (rgb) {\n\tvar rdif;\n\tvar gdif;\n\tvar bdif;\n\tvar h;\n\tvar s;\n\n\tvar r = rgb[0] / 255;\n\tvar g = rgb[1] / 255;\n\tvar b = rgb[2] / 255;\n\tvar v = Math.max(r, g, b);\n\tvar diff = v - Math.min(r, g, b);\n\tvar diffc = function (c) {\n\t\treturn (v - c) / 6 / diff + 1 / 2;\n\t};\n\n\tif (diff === 0) {\n\t\th = s = 0;\n\t} else {\n\t\ts = diff / v;\n\t\trdif = diffc(r);\n\t\tgdif = diffc(g);\n\t\tbdif = diffc(b);\n\n\t\tif (r === v) {\n\t\t\th = bdif - gdif;\n\t\t} else if (g === v) {\n\t\t\th = (1 / 3) + rdif - bdif;\n\t\t} else if (b === v) {\n\t\t\th = (2 / 3) + gdif - rdif;\n\t\t}\n\t\tif (h < 0) {\n\t\t\th += 1;\n\t\t} else if (h > 1) {\n\t\t\th -= 1;\n\t\t}\n\t}\n\n\treturn [\n\t\th * 360,\n\t\ts * 100,\n\t\tv * 100\n\t];\n};\n\nconvert.rgb.hwb = function (rgb) {\n\tvar r = rgb[0];\n\tvar g = rgb[1];\n\tvar b = rgb[2];\n\tvar h = convert.rgb.hsl(rgb)[0];\n\tvar w = 1 / 255 * Math.min(r, Math.min(g, b));\n\n\tb = 1 - 1 / 255 * Math.max(r, Math.max(g, b));\n\n\treturn [h, w * 100, b * 100];\n};\n\nconvert.rgb.cmyk = function (rgb) {\n\tvar r = rgb[0] / 255;\n\tvar g = rgb[1] / 255;\n\tvar b = rgb[2] / 255;\n\tvar c;\n\tvar m;\n\tvar y;\n\tvar k;\n\n\tk = Math.min(1 - r, 1 - g, 1 - b);\n\tc = (1 - r - k) / (1 - k) || 0;\n\tm = (1 - g - k) / (1 - k) || 0;\n\ty = (1 - b - k) / (1 - k) || 0;\n\n\treturn [c * 100, m * 100, y * 100, k * 100];\n};\n\n/**\n * See https://en.m.wikipedia.org/wiki/Euclidean_distance#Squared_Euclidean_distance\n * */\nfunction comparativeDistance(x, y) {\n\treturn (\n\t\tMath.pow(x[0] - y[0], 2) +\n\t\tMath.pow(x[1] - y[1], 2) +\n\t\tMath.pow(x[2] - y[2], 2)\n\t);\n}\n\nconvert.rgb.keyword = function (rgb) {\n\tvar reversed = reverseKeywords[rgb];\n\tif (reversed) {\n\t\treturn reversed;\n\t}\n\n\tvar currentClosestDistance = Infinity;\n\tvar currentClosestKeyword;\n\n\tfor (var keyword in cssKeywords) {\n\t\tif (cssKeywords.hasOwnProperty(keyword)) {\n\t\t\tvar value = cssKeywords[keyword];\n\n\t\t\t// Compute comparative distance\n\t\t\tvar distance = comparativeDistance(rgb, value);\n\n\t\t\t// Check if its less, if so set as closest\n\t\t\tif (distance < currentClosestDistance) {\n\t\t\t\tcurrentClosestDistance = distance;\n\t\t\t\tcurrentClosestKeyword = keyword;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn currentClosestKeyword;\n};\n\nconvert.keyword.rgb = function (keyword) {\n\treturn cssKeywords[keyword];\n};\n\nconvert.rgb.xyz = function (rgb) {\n\tvar r = rgb[0] / 255;\n\tvar g = rgb[1] / 255;\n\tvar b = rgb[2] / 255;\n\n\t// assume sRGB\n\tr = r > 0.04045 ? Math.pow(((r + 0.055) / 1.055), 2.4) : (r / 12.92);\n\tg = g > 0.04045 ? Math.pow(((g + 0.055) / 1.055), 2.4) : (g / 12.92);\n\tb = b > 0.04045 ? Math.pow(((b + 0.055) / 1.055), 2.4) : (b / 12.92);\n\n\tvar x = (r * 0.4124) + (g * 0.3576) + (b * 0.1805);\n\tvar y = (r * 0.2126) + (g * 0.7152) + (b * 0.0722);\n\tvar z = (r * 0.0193) + (g * 0.1192) + (b * 0.9505);\n\n\treturn [x * 100, y * 100, z * 100];\n};\n\nconvert.rgb.lab = function (rgb) {\n\tvar xyz = convert.rgb.xyz(rgb);\n\tvar x = xyz[0];\n\tvar y = xyz[1];\n\tvar z = xyz[2];\n\tvar l;\n\tvar a;\n\tvar b;\n\n\tx /= 95.047;\n\ty /= 100;\n\tz /= 108.883;\n\n\tx = x > 0.008856 ? Math.pow(x, 1 / 3) : (7.787 * x) + (16 / 116);\n\ty = y > 0.008856 ? Math.pow(y, 1 / 3) : (7.787 * y) + (16 / 116);\n\tz = z > 0.008856 ? Math.pow(z, 1 / 3) : (7.787 * z) + (16 / 116);\n\n\tl = (116 * y) - 16;\n\ta = 500 * (x - y);\n\tb = 200 * (y - z);\n\n\treturn [l, a, b];\n};\n\nconvert.hsl.rgb = function (hsl) {\n\tvar h = hsl[0] / 360;\n\tvar s = hsl[1] / 100;\n\tvar l = hsl[2] / 100;\n\tvar t1;\n\tvar t2;\n\tvar t3;\n\tvar rgb;\n\tvar val;\n\n\tif (s === 0) {\n\t\tval = l * 255;\n\t\treturn [val, val, val];\n\t}\n\n\tif (l < 0.5) {\n\t\tt2 = l * (1 + s);\n\t} else {\n\t\tt2 = l + s - l * s;\n\t}\n\n\tt1 = 2 * l - t2;\n\n\trgb = [0, 0, 0];\n\tfor (var i = 0; i < 3; i++) {\n\t\tt3 = h + 1 / 3 * -(i - 1);\n\t\tif (t3 < 0) {\n\t\t\tt3++;\n\t\t}\n\t\tif (t3 > 1) {\n\t\t\tt3--;\n\t\t}\n\n\t\tif (6 * t3 < 1) {\n\t\t\tval = t1 + (t2 - t1) * 6 * t3;\n\t\t} else if (2 * t3 < 1) {\n\t\t\tval = t2;\n\t\t} else if (3 * t3 < 2) {\n\t\t\tval = t1 + (t2 - t1) * (2 / 3 - t3) * 6;\n\t\t} else {\n\t\t\tval = t1;\n\t\t}\n\n\t\trgb[i] = val * 255;\n\t}\n\n\treturn rgb;\n};\n\nconvert.hsl.hsv = function (hsl) {\n\tvar h = hsl[0];\n\tvar s = hsl[1] / 100;\n\tvar l = hsl[2] / 100;\n\tvar smin = s;\n\tvar lmin = Math.max(l, 0.01);\n\tvar sv;\n\tvar v;\n\n\tl *= 2;\n\ts *= (l <= 1) ? l : 2 - l;\n\tsmin *= lmin <= 1 ? lmin : 2 - lmin;\n\tv = (l + s) / 2;\n\tsv = l === 0 ? (2 * smin) / (lmin + smin) : (2 * s) / (l + s);\n\n\treturn [h, sv * 100, v * 100];\n};\n\nconvert.hsv.rgb = function (hsv) {\n\tvar h = hsv[0] / 60;\n\tvar s = hsv[1] / 100;\n\tvar v = hsv[2] / 100;\n\tvar hi = Math.floor(h) % 6;\n\n\tvar f = h - Math.floor(h);\n\tvar p = 255 * v * (1 - s);\n\tvar q = 255 * v * (1 - (s * f));\n\tvar t = 255 * v * (1 - (s * (1 - f)));\n\tv *= 255;\n\n\tswitch (hi) {\n\t\tcase 0:\n\t\t\treturn [v, t, p];\n\t\tcase 1:\n\t\t\treturn [q, v, p];\n\t\tcase 2:\n\t\t\treturn [p, v, t];\n\t\tcase 3:\n\t\t\treturn [p, q, v];\n\t\tcase 4:\n\t\t\treturn [t, p, v];\n\t\tcase 5:\n\t\t\treturn [v, p, q];\n\t}\n};\n\nconvert.hsv.hsl = function (hsv) {\n\tvar h = hsv[0];\n\tvar s = hsv[1] / 100;\n\tvar v = hsv[2] / 100;\n\tvar vmin = Math.max(v, 0.01);\n\tvar lmin;\n\tvar sl;\n\tvar l;\n\n\tl = (2 - s) * v;\n\tlmin = (2 - s) * vmin;\n\tsl = s * vmin;\n\tsl /= (lmin <= 1) ? lmin : 2 - lmin;\n\tsl = sl || 0;\n\tl /= 2;\n\n\treturn [h, sl * 100, l * 100];\n};\n\n// http://dev.w3.org/csswg/css-color/#hwb-to-rgb\nconvert.hwb.rgb = function (hwb) {\n\tvar h = hwb[0] / 360;\n\tvar wh = hwb[1] / 100;\n\tvar bl = hwb[2] / 100;\n\tvar ratio = wh + bl;\n\tvar i;\n\tvar v;\n\tvar f;\n\tvar n;\n\n\t// wh + bl cant be > 1\n\tif (ratio > 1) {\n\t\twh /= ratio;\n\t\tbl /= ratio;\n\t}\n\n\ti = Math.floor(6 * h);\n\tv = 1 - bl;\n\tf = 6 * h - i;\n\n\tif ((i & 0x01) !== 0) {\n\t\tf = 1 - f;\n\t}\n\n\tn = wh + f * (v - wh); // linear interpolation\n\n\tvar r;\n\tvar g;\n\tvar b;\n\tswitch (i) {\n\t\tdefault:\n\t\tcase 6:\n\t\tcase 0: r = v; g = n; b = wh; break;\n\t\tcase 1: r = n; g = v; b = wh; break;\n\t\tcase 2: r = wh; g = v; b = n; break;\n\t\tcase 3: r = wh; g = n; b = v; break;\n\t\tcase 4: r = n; g = wh; b = v; break;\n\t\tcase 5: r = v; g = wh; b = n; break;\n\t}\n\n\treturn [r * 255, g * 255, b * 255];\n};\n\nconvert.cmyk.rgb = function (cmyk) {\n\tvar c = cmyk[0] / 100;\n\tvar m = cmyk[1] / 100;\n\tvar y = cmyk[2] / 100;\n\tvar k = cmyk[3] / 100;\n\tvar r;\n\tvar g;\n\tvar b;\n\n\tr = 1 - Math.min(1, c * (1 - k) + k);\n\tg = 1 - Math.min(1, m * (1 - k) + k);\n\tb = 1 - Math.min(1, y * (1 - k) + k);\n\n\treturn [r * 255, g * 255, b * 255];\n};\n\nconvert.xyz.rgb = function (xyz) {\n\tvar x = xyz[0] / 100;\n\tvar y = xyz[1] / 100;\n\tvar z = xyz[2] / 100;\n\tvar r;\n\tvar g;\n\tvar b;\n\n\tr = (x * 3.2406) + (y * -1.5372) + (z * -0.4986);\n\tg = (x * -0.9689) + (y * 1.8758) + (z * 0.0415);\n\tb = (x * 0.0557) + (y * -0.2040) + (z * 1.0570);\n\n\t// assume sRGB\n\tr = r > 0.0031308\n\t\t? ((1.055 * Math.pow(r, 1.0 / 2.4)) - 0.055)\n\t\t: r * 12.92;\n\n\tg = g > 0.0031308\n\t\t? ((1.055 * Math.pow(g, 1.0 / 2.4)) - 0.055)\n\t\t: g * 12.92;\n\n\tb = b > 0.0031308\n\t\t? ((1.055 * Math.pow(b, 1.0 / 2.4)) - 0.055)\n\t\t: b * 12.92;\n\n\tr = Math.min(Math.max(0, r), 1);\n\tg = Math.min(Math.max(0, g), 1);\n\tb = Math.min(Math.max(0, b), 1);\n\n\treturn [r * 255, g * 255, b * 255];\n};\n\nconvert.xyz.lab = function (xyz) {\n\tvar x = xyz[0];\n\tvar y = xyz[1];\n\tvar z = xyz[2];\n\tvar l;\n\tvar a;\n\tvar b;\n\n\tx /= 95.047;\n\ty /= 100;\n\tz /= 108.883;\n\n\tx = x > 0.008856 ? Math.pow(x, 1 / 3) : (7.787 * x) + (16 / 116);\n\ty = y > 0.008856 ? Math.pow(y, 1 / 3) : (7.787 * y) + (16 / 116);\n\tz = z > 0.008856 ? Math.pow(z, 1 / 3) : (7.787 * z) + (16 / 116);\n\n\tl = (116 * y) - 16;\n\ta = 500 * (x - y);\n\tb = 200 * (y - z);\n\n\treturn [l, a, b];\n};\n\nconvert.lab.xyz = function (lab) {\n\tvar l = lab[0];\n\tvar a = lab[1];\n\tvar b = lab[2];\n\tvar x;\n\tvar y;\n\tvar z;\n\n\ty = (l + 16) / 116;\n\tx = a / 500 + y;\n\tz = y - b / 200;\n\n\tvar y2 = Math.pow(y, 3);\n\tvar x2 = Math.pow(x, 3);\n\tvar z2 = Math.pow(z, 3);\n\ty = y2 > 0.008856 ? y2 : (y - 16 / 116) / 7.787;\n\tx = x2 > 0.008856 ? x2 : (x - 16 / 116) / 7.787;\n\tz = z2 > 0.008856 ? z2 : (z - 16 / 116) / 7.787;\n\n\tx *= 95.047;\n\ty *= 100;\n\tz *= 108.883;\n\n\treturn [x, y, z];\n};\n\nconvert.lab.lch = function (lab) {\n\tvar l = lab[0];\n\tvar a = lab[1];\n\tvar b = lab[2];\n\tvar hr;\n\tvar h;\n\tvar c;\n\n\thr = Math.atan2(b, a);\n\th = hr * 360 / 2 / Math.PI;\n\n\tif (h < 0) {\n\t\th += 360;\n\t}\n\n\tc = Math.sqrt(a * a + b * b);\n\n\treturn [l, c, h];\n};\n\nconvert.lch.lab = function (lch) {\n\tvar l = lch[0];\n\tvar c = lch[1];\n\tvar h = lch[2];\n\tvar a;\n\tvar b;\n\tvar hr;\n\n\thr = h / 360 * 2 * Math.PI;\n\ta = c * Math.cos(hr);\n\tb = c * Math.sin(hr);\n\n\treturn [l, a, b];\n};\n\nconvert.rgb.ansi16 = function (args) {\n\tvar r = args[0];\n\tvar g = args[1];\n\tvar b = args[2];\n\tvar value = 1 in arguments ? arguments[1] : convert.rgb.hsv(args)[2]; // hsv -> ansi16 optimization\n\n\tvalue = Math.round(value / 50);\n\n\tif (value === 0) {\n\t\treturn 30;\n\t}\n\n\tvar ansi = 30\n\t\t+ ((Math.round(b / 255) << 2)\n\t\t| (Math.round(g / 255) << 1)\n\t\t| Math.round(r / 255));\n\n\tif (value === 2) {\n\t\tansi += 60;\n\t}\n\n\treturn ansi;\n};\n\nconvert.hsv.ansi16 = function (args) {\n\t// optimization here; we already know the value and don't need to get\n\t// it converted for us.\n\treturn convert.rgb.ansi16(convert.hsv.rgb(args), args[2]);\n};\n\nconvert.rgb.ansi256 = function (args) {\n\tvar r = args[0];\n\tvar g = args[1];\n\tvar b = args[2];\n\n\t// we use the extended greyscale palette here, with the exception of\n\t// black and white. normal palette only has 4 greyscale shades.\n\tif (r === g && g === b) {\n\t\tif (r < 8) {\n\t\t\treturn 16;\n\t\t}\n\n\t\tif (r > 248) {\n\t\t\treturn 231;\n\t\t}\n\n\t\treturn Math.round(((r - 8) / 247) * 24) + 232;\n\t}\n\n\tvar ansi = 16\n\t\t+ (36 * Math.round(r / 255 * 5))\n\t\t+ (6 * Math.round(g / 255 * 5))\n\t\t+ Math.round(b / 255 * 5);\n\n\treturn ansi;\n};\n\nconvert.ansi16.rgb = function (args) {\n\tvar color = args % 10;\n\n\t// handle greyscale\n\tif (color === 0 || color === 7) {\n\t\tif (args > 50) {\n\t\t\tcolor += 3.5;\n\t\t}\n\n\t\tcolor = color / 10.5 * 255;\n\n\t\treturn [color, color, color];\n\t}\n\n\tvar mult = (~~(args > 50) + 1) * 0.5;\n\tvar r = ((color & 1) * mult) * 255;\n\tvar g = (((color >> 1) & 1) * mult) * 255;\n\tvar b = (((color >> 2) & 1) * mult) * 255;\n\n\treturn [r, g, b];\n};\n\nconvert.ansi256.rgb = function (args) {\n\t// handle greyscale\n\tif (args >= 232) {\n\t\tvar c = (args - 232) * 10 + 8;\n\t\treturn [c, c, c];\n\t}\n\n\targs -= 16;\n\n\tvar rem;\n\tvar r = Math.floor(args / 36) / 5 * 255;\n\tvar g = Math.floor((rem = args % 36) / 6) / 5 * 255;\n\tvar b = (rem % 6) / 5 * 255;\n\n\treturn [r, g, b];\n};\n\nconvert.rgb.hex = function (args) {\n\tvar integer = ((Math.round(args[0]) & 0xFF) << 16)\n\t\t+ ((Math.round(args[1]) & 0xFF) << 8)\n\t\t+ (Math.round(args[2]) & 0xFF);\n\n\tvar string = integer.toString(16).toUpperCase();\n\treturn '000000'.substring(string.length) + string;\n};\n\nconvert.hex.rgb = function (args) {\n\tvar match = args.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);\n\tif (!match) {\n\t\treturn [0, 0, 0];\n\t}\n\n\tvar colorString = match[0];\n\n\tif (match[0].length === 3) {\n\t\tcolorString = colorString.split('').map(function (char) {\n\t\t\treturn char + char;\n\t\t}).join('');\n\t}\n\n\tvar integer = parseInt(colorString, 16);\n\tvar r = (integer >> 16) & 0xFF;\n\tvar g = (integer >> 8) & 0xFF;\n\tvar b = integer & 0xFF;\n\n\treturn [r, g, b];\n};\n\nconvert.rgb.hcg = function (rgb) {\n\tvar r = rgb[0] / 255;\n\tvar g = rgb[1] / 255;\n\tvar b = rgb[2] / 255;\n\tvar max = Math.max(Math.max(r, g), b);\n\tvar min = Math.min(Math.min(r, g), b);\n\tvar chroma = (max - min);\n\tvar grayscale;\n\tvar hue;\n\n\tif (chroma < 1) {\n\t\tgrayscale = min / (1 - chroma);\n\t} else {\n\t\tgrayscale = 0;\n\t}\n\n\tif (chroma <= 0) {\n\t\thue = 0;\n\t} else\n\tif (max === r) {\n\t\thue = ((g - b) / chroma) % 6;\n\t} else\n\tif (max === g) {\n\t\thue = 2 + (b - r) / chroma;\n\t} else {\n\t\thue = 4 + (r - g) / chroma + 4;\n\t}\n\n\thue /= 6;\n\thue %= 1;\n\n\treturn [hue * 360, chroma * 100, grayscale * 100];\n};\n\nconvert.hsl.hcg = function (hsl) {\n\tvar s = hsl[1] / 100;\n\tvar l = hsl[2] / 100;\n\tvar c = 1;\n\tvar f = 0;\n\n\tif (l < 0.5) {\n\t\tc = 2.0 * s * l;\n\t} else {\n\t\tc = 2.0 * s * (1.0 - l);\n\t}\n\n\tif (c < 1.0) {\n\t\tf = (l - 0.5 * c) / (1.0 - c);\n\t}\n\n\treturn [hsl[0], c * 100, f * 100];\n};\n\nconvert.hsv.hcg = function (hsv) {\n\tvar s = hsv[1] / 100;\n\tvar v = hsv[2] / 100;\n\n\tvar c = s * v;\n\tvar f = 0;\n\n\tif (c < 1.0) {\n\t\tf = (v - c) / (1 - c);\n\t}\n\n\treturn [hsv[0], c * 100, f * 100];\n};\n\nconvert.hcg.rgb = function (hcg) {\n\tvar h = hcg[0] / 360;\n\tvar c = hcg[1] / 100;\n\tvar g = hcg[2] / 100;\n\n\tif (c === 0.0) {\n\t\treturn [g * 255, g * 255, g * 255];\n\t}\n\n\tvar pure = [0, 0, 0];\n\tvar hi = (h % 1) * 6;\n\tvar v = hi % 1;\n\tvar w = 1 - v;\n\tvar mg = 0;\n\n\tswitch (Math.floor(hi)) {\n\t\tcase 0:\n\t\t\tpure[0] = 1; pure[1] = v; pure[2] = 0; break;\n\t\tcase 1:\n\t\t\tpure[0] = w; pure[1] = 1; pure[2] = 0; break;\n\t\tcase 2:\n\t\t\tpure[0] = 0; pure[1] = 1; pure[2] = v; break;\n\t\tcase 3:\n\t\t\tpure[0] = 0; pure[1] = w; pure[2] = 1; break;\n\t\tcase 4:\n\t\t\tpure[0] = v; pure[1] = 0; pure[2] = 1; break;\n\t\tdefault:\n\t\t\tpure[0] = 1; pure[1] = 0; pure[2] = w;\n\t}\n\n\tmg = (1.0 - c) * g;\n\n\treturn [\n\t\t(c * pure[0] + mg) * 255,\n\t\t(c * pure[1] + mg) * 255,\n\t\t(c * pure[2] + mg) * 255\n\t];\n};\n\nconvert.hcg.hsv = function (hcg) {\n\tvar c = hcg[1] / 100;\n\tvar g = hcg[2] / 100;\n\n\tvar v = c + g * (1.0 - c);\n\tvar f = 0;\n\n\tif (v > 0.0) {\n\t\tf = c / v;\n\t}\n\n\treturn [hcg[0], f * 100, v * 100];\n};\n\nconvert.hcg.hsl = function (hcg) {\n\tvar c = hcg[1] / 100;\n\tvar g = hcg[2] / 100;\n\n\tvar l = g * (1.0 - c) + 0.5 * c;\n\tvar s = 0;\n\n\tif (l > 0.0 && l < 0.5) {\n\t\ts = c / (2 * l);\n\t} else\n\tif (l >= 0.5 && l < 1.0) {\n\t\ts = c / (2 * (1 - l));\n\t}\n\n\treturn [hcg[0], s * 100, l * 100];\n};\n\nconvert.hcg.hwb = function (hcg) {\n\tvar c = hcg[1] / 100;\n\tvar g = hcg[2] / 100;\n\tvar v = c + g * (1.0 - c);\n\treturn [hcg[0], (v - c) * 100, (1 - v) * 100];\n};\n\nconvert.hwb.hcg = function (hwb) {\n\tvar w = hwb[1] / 100;\n\tvar b = hwb[2] / 100;\n\tvar v = 1 - b;\n\tvar c = v - w;\n\tvar g = 0;\n\n\tif (c < 1) {\n\t\tg = (v - c) / (1 - c);\n\t}\n\n\treturn [hwb[0], c * 100, g * 100];\n};\n\nconvert.apple.rgb = function (apple) {\n\treturn [(apple[0] / 65535) * 255, (apple[1] / 65535) * 255, (apple[2] / 65535) * 255];\n};\n\nconvert.rgb.apple = function (rgb) {\n\treturn [(rgb[0] / 255) * 65535, (rgb[1] / 255) * 65535, (rgb[2] / 255) * 65535];\n};\n\nconvert.gray.rgb = function (args) {\n\treturn [args[0] / 100 * 255, args[0] / 100 * 255, args[0] / 100 * 255];\n};\n\nconvert.gray.hsl = convert.gray.hsv = function (args) {\n\treturn [0, 0, args[0]];\n};\n\nconvert.gray.hwb = function (gray) {\n\treturn [0, 100, gray[0]];\n};\n\nconvert.gray.cmyk = function (gray) {\n\treturn [0, 0, 0, gray[0]];\n};\n\nconvert.gray.lab = function (gray) {\n\treturn [gray[0], 0, 0];\n};\n\nconvert.gray.hex = function (gray) {\n\tvar val = Math.round(gray[0] / 100 * 255) & 0xFF;\n\tvar integer = (val << 16) + (val << 8) + val;\n\n\tvar string = integer.toString(16).toUpperCase();\n\treturn '000000'.substring(string.length) + string;\n};\n\nconvert.rgb.gray = function (rgb) {\n\tvar val = (rgb[0] + rgb[1] + rgb[2]) / 3;\n\treturn [val / 255 * 100];\n};\n","import { ContentEditFeatureSettings } from 'roosterjs-editor-types';\nimport { getAllFeatures } from 'roosterjs-editor-plugins/lib/ContentEdit';\n\nexport default function getDefaultContentEditFeatureSettings() {\n    const allFeatures = getAllFeatures();\n    return Object.keys(allFeatures).reduce(\n        (settings: ContentEditFeatureSettings, key: keyof ContentEditFeatureSettings) => {\n            settings[key] = !allFeatures[key].defaultDisabled;\n            return settings;\n        },\n        <ContentEditFeatureSettings>{}\n    );\n}\n","import BuildInPluginState from '../../../BuildInPluginState';\nimport ButtonsCode from './ButtonsCode';\nimport CodeElement from './CodeElement';\nimport DarkModeCode from './DarkModeCode';\nimport DefaultFormatCode from './DefaultFormatCode';\nimport ExperimentalFeaturesCode from './ExperimentalFeaturesCode';\nimport PluginsCode from './PluginsCode';\n\nexport default class EditorCode extends CodeElement {\n    private plugins: PluginsCode;\n    private defaultFormat: DefaultFormatCode;\n    private buttons: ButtonsCode;\n    private experimentalFeatures: ExperimentalFeaturesCode;\n    private darkMode: DarkModeCode;\n\n    constructor(state: BuildInPluginState) {\n        super();\n\n        this.plugins = new PluginsCode(state);\n        this.defaultFormat = new DefaultFormatCode(state.defaultFormat);\n        this.buttons = state.showRibbon ? new ButtonsCode(state.supportDarkMode) : null;\n        this.experimentalFeatures = new ExperimentalFeaturesCode(state.experimentalFeatures);\n        this.darkMode = new DarkModeCode(state.supportDarkMode);\n    }\n\n    getCode() {\n        let defaultFormat = this.defaultFormat.getCode();\n        let expermientalFeatures = this.experimentalFeatures.getCode();\n        let darkMode = this.darkMode.getCode();\n        let code = \"let contentDiv = document.getElementById('contentDiv') as HTMLDivElement;\\n\";\n        code += `let plugins = ${this.plugins.getCode()};\\n`;\n        code += defaultFormat ? `let defaultFormat: DefaultFormat = ${defaultFormat};\\n` : '';\n        code += 'let options: roosterjs.EditorOptions = {\\n';\n        code += this.indent('plugins: plugins,\\n');\n        code += defaultFormat ? this.indent('defaultFormat: defaultFormat,\\n') : '';\n        code += expermientalFeatures\n            ? this.indent(`experimentalFeatures: [\\n${expermientalFeatures}],\\n`)\n            : '';\n        code += darkMode ? this.indent(`getDarkColor: ${darkMode},\\n`) : '';\n        code += '};\\n';\n        code += 'let editor = new roosterjs.Editor(contentDiv, options);\\n';\n        code += this.buttons ? this.buttons.getCode() : '';\n\n        return code;\n    }\n}\n","import CodeElement from './CodeElement';\n\nexport default class DarkModeCode extends CodeElement {\n    constructor(private darkModeSupported: boolean) {\n        super();\n    }\n\n    getCode() {\n        return this.darkModeSupported ? 'roosterjs.getDarkColor' : null;\n    }\n}\n","import CodeElement from './CodeElement';\nimport { DefaultFormat } from 'roosterjs-editor-types';\n\nexport default class DefaultFormatCode extends CodeElement {\n    constructor(private defaultFormat: DefaultFormat) {\n        super();\n    }\n\n    getCode() {\n        let {\n            bold,\n            italic,\n            underline,\n            fontFamily,\n            fontSize,\n            textColor,\n            backgroundColor,\n        } = this.defaultFormat;\n        let lines = [\n            bold ? 'bold: true,\\n' : null,\n            italic ? 'italic: true,\\n' : null,\n            underline ? 'underline: true,\\n' : null,\n            fontFamily ? `fontFamily: '${this.encode(fontFamily)}',\\n` : null,\n            fontSize ? `fontSize: '${this.encode(fontSize)}',\\n` : null,\n            textColor ? `textColor: '${this.encode(textColor)}',\\n` : null,\n            backgroundColor ? `backgroundColor: '${this.encode(backgroundColor)}',\\n` : null,\n        ].filter(line => !!line);\n\n        return lines.length > 0 ? '{\\n' + this.indent(lines.join('')) + '}' : '';\n    }\n}\n","import CodeElement from './CodeElement';\nimport { ExperimentalFeatures } from 'roosterjs-editor-types';\n\nexport default class ExperimentalFeaturesCode extends CodeElement {\n    constructor(private experimentalFeatures: ExperimentalFeatures[]) {\n        super();\n    }\n\n    getCode() {\n        return (this.experimentalFeatures || [])\n            .map(name => this.indent(\"'\" + name + \"',\"))\n            .join('\\n');\n    }\n}\n","import BuildInPluginState from '../../../BuildInPluginState';\nimport CodeElement from './CodeElement';\nimport ContentEditCode from './ContentEditCode';\nimport HyperLinkCode from './HyperLinkCode';\nimport PickerPluginCode from './PickerPluginCode';\nimport TableCellSelectionCode from './TableCellSelectionCode';\nimport WatermarkCode from './WatermarkCode';\nimport {\n    CustomReplaceCode,\n    CutPasteListChainCode,\n    ImageEditCode,\n    PasteCode,\n    TableResizeCode,\n} from './SimplePluginCode';\n\nexport default class PluginsCode extends CodeElement {\n    private plugins: CodeElement[];\n\n    constructor(private state: BuildInPluginState, private additionalPlugins?: string[]) {\n        super();\n\n        let pluginList = state.pluginList;\n        this.plugins = [\n            pluginList.contentEdit && new ContentEditCode(state.contentEditFeatures),\n            pluginList.hyperlink && new HyperLinkCode(state.linkTitle),\n            pluginList.paste && new PasteCode(),\n            pluginList.watermark && new WatermarkCode(this.state.watermarkText),\n            pluginList.imageEdit && new ImageEditCode(),\n            pluginList.cutPasteListChain && new CutPasteListChainCode(),\n            pluginList.tableResize && new TableResizeCode(),\n            pluginList.pickerPlugin && new PickerPluginCode(),\n            pluginList.customReplace && new CustomReplaceCode(),\n            pluginList.tableCellSelection && new TableCellSelectionCode(),\n        ].filter(plugin => !!plugin);\n    }\n\n    getCode() {\n        let code = '[\\n';\n        code += this.indent(this.plugins.map(plugin => plugin.getCode() + ',\\n').join(''));\n\n        if (this.additionalPlugins) {\n            code += this.indent(this.additionalPlugins.map(p => p + ',\\n').join(''));\n        }\n        code += ']';\n        return code;\n    }\n}\n","/**\n * Update mode for UpdateContentPlugins\n */\nexport enum UpdateMode {\n    /**\n     * Force update, triggered from UpdateContentPlugin.forceUpdate()\n     */\n    Force = 0,\n\n    /**\n     * Update when editor is initialized\n     */\n    OnInitialize = 1,\n\n    /**\n     * Update when editor is about to be disposed\n     */\n    OnDispose = 2,\n\n    /**\n     * Update when user input in editor\n     */\n    OnUserInput = 4,\n\n    /**\n     * Update when ContentChangedEvent is triggered from a plugin\n     */\n    OnContentChangedEvent = 8,\n\n    /**\n     * Update when editor loses focus\n     */\n    OnBlur = 16,\n}\n","/**\n * Keys of known ribbon buttons (buttons included in roosterjs-react)\n */\nexport enum KnownRibbonButtonKey {\n    /**\n     * \"Bold\" button on the format ribbon\n     */\n    Bold,\n\n    /**\n     * \"Italic\" button on the format ribbon\n     */\n    Italic,\n\n    /**\n     * \"Underline\" button on the format ribbon\n     */\n    Underline,\n\n    /**\n     * \"Font\" button on the format ribbon\n     */\n    Font,\n\n    /**\n     * \"FontSize\" button on the format ribbon\n     */\n    FontSize,\n\n    /**\n     * \"IncreaseFontSize\" button on the format ribbon\n     */\n    IncreaseFontSize,\n\n    /**\n     * \"DecreaseFontSize\" button on the format ribbon\n     */\n    DecreaseFontSize,\n\n    /**\n     * \"TextColor\" button on the format ribbon\n     */\n    TextColor,\n\n    /**\n     * \"BackgroundColor\" button on the format ribbon\n     */\n    BackgroundColor,\n\n    /**\n     * \"BulletedList\" button on the format ribbon\n     */\n    BulletedList,\n\n    /**\n     * \"NumberedList\" button on the format ribbon\n     */\n    NumberedList,\n\n    /**\n     * \"DecreaseIndent\" button on the format ribbon\n     */\n    DecreaseIndent,\n\n    /**\n     * \"IncreaseIndent\" button on the format ribbon\n     */\n    IncreaseIndent,\n\n    /**\n     * \"Quote\" button on the format ribbon\n     */\n    Quote,\n\n    /**\n     * \"AlignLeft\" button on the format ribbon\n     */\n    AlignLeft,\n\n    /**\n     * \"AlignCenter\" button on the format ribbon\n     */\n    AlignCenter,\n\n    /**\n     * \"AlignRight\" button on the format ribbon\n     */\n    AlignRight,\n\n    /**\n     * \"InsertLink\" button on the format ribbon\n     */\n    InsertLink,\n\n    /**\n     * \"RemoveLink\" button on the format ribbon\n     */\n    RemoveLink,\n\n    /**\n     * \"InsertTable\" button on the format ribbon\n     */\n    InsertTable,\n\n    /**\n     * \"InsertImage\" button on the format ribbon\n     */\n    InsertImage,\n\n    /**\n     * \"Superscript\" button on the format ribbon\n     */\n    Superscript,\n\n    /**\n     * \"Subscript\" button on the format ribbon\n     */\n    Subscript,\n\n    /**\n     * \"Strikethrough\" button on the format ribbon\n     */\n    Strikethrough,\n\n    /**\n     * \"Header\" button on the format ribbon\n     */\n    Header,\n\n    /**\n     * \"Code\" button on the format ribbon\n     */\n    Code,\n\n    /**\n     * \"Ltr\" button on the format ribbon\n     */\n    Ltr,\n\n    /**\n     * \"Rtl\" button on the format ribbon\n     */\n    Rtl,\n\n    /**\n     * \"Undo\" button on the format ribbon\n     */\n    Undo,\n\n    /**\n     * \"Redo\" button on the format ribbon\n     */\n    Redo,\n\n    /**\n     * \"ClearFormat\" button on the format ribbon\n     */\n    ClearFormat,\n}\n","import * as React from 'react';\nimport RibbonButtonDropDown from '../../type/RibbonButtonDropDown';\nimport { BackgroundColorKeys, TextColorKeys } from '../../type/RibbonButtonStringKeys';\nimport { mergeStyleSets } from '@fluentui/react/lib/Styling';\nimport { ModeIndependentColor } from 'roosterjs-editor-types';\n\n/**\n * @internal\n * List of colors in drop down list\n */\nexport const BackgroundColorDropDownItems: Record<BackgroundColorKeys, string> = {\n    backgroundColorCyan: 'Cyan',\n    backgroundColorGreen: 'Green',\n    backgroundColorYellow: 'Yellow',\n    backgroundColorOrange: 'Orange',\n    backgroundColorRed: 'Red',\n    backgroundColorMagenta: 'Magenta',\n    backgroundColorLightCyan: 'Light cyan',\n    backgroundColorLightGreen: 'Light green',\n    backgroundColorLightYellow: 'Light yellow',\n    backgroundColorLightOrange: 'Light orange',\n    backgroundColorLightRed: 'Light red',\n    backgroundColorLightMagenta: 'Light magenta',\n    backgroundColorWhite: 'White',\n    backgroundColorLightGray: 'Light gray',\n    backgroundColorGray: 'Gray',\n    backgroundColorDarkGray: 'Dark gray',\n    backgroundColorDarkerGray: 'Darker gray',\n    backgroundColorBlack: 'Black',\n};\n\nconst classNames = mergeStyleSets({\n    colorPickerContainer: {\n        width: '192px',\n        padding: '8px',\n        overflow: 'hidden',\n        '& ul': {\n            width: '192px',\n            overflow: 'hidden',\n        },\n    },\n    colorMenuItem: {\n        display: 'inline-block',\n        width: '32px',\n        height: '32px',\n        '& button': {\n            padding: '0px',\n            minWidth: '0px',\n            background: 'transparent',\n            border: 'none',\n        },\n    },\n    colorSquare: {\n        width: '20px',\n        height: '20px',\n        margin: '4px',\n        borderStyle: 'solid',\n        borderWidth: '2px',\n        '&:hover': {\n            borderColor: 'red',\n        },\n    },\n    colorSquareBorder: {\n        borderColor: 'transparent',\n    },\n    colorSquareBorderWhite: {\n        borderColor: '#bebebe',\n    },\n});\n\n/**\n * @internal\n */\nconst TextColors: { [key in TextColorKeys]: ModeIndependentColor } = {\n    textColorLightBlue: { lightModeColor: '#51a7f9', darkModeColor: '#0075c2' },\n    textColorLightGreen: { lightModeColor: '#6fc040', darkModeColor: '#207a00' },\n    textColorLightYellow: { lightModeColor: '#f5d427', darkModeColor: '#5d4d00' },\n    textColorLightOrange: { lightModeColor: '#f3901d', darkModeColor: '#ab5500' },\n    textColorLightRed: { lightModeColor: '#ed5c57', darkModeColor: '#df504d' },\n    textColorLightPurple: { lightModeColor: '#b36ae2', darkModeColor: '#ab63da' },\n    textColorBlue: { lightModeColor: '#0c64c0', darkModeColor: '#6da0ff' },\n    textColorGreen: { lightModeColor: '#0c882a', darkModeColor: '#3da848' },\n    textColorYellow: { lightModeColor: '#dcbe22', darkModeColor: '#6d5c00' },\n    textColorOrange: { lightModeColor: '#de6a19', darkModeColor: '#d3610c' },\n    textColorRed: { lightModeColor: '#c82613', darkModeColor: '#ff6847' },\n    textColorPurple: { lightModeColor: '#763e9b', darkModeColor: '#d394f9' },\n    textColorDarkBlue: { lightModeColor: '#174e86', darkModeColor: '#93b8f9' },\n    textColorDarkGreen: { lightModeColor: '#0f5c1a', darkModeColor: '#7fc57b' },\n    textColorDarkYellow: { lightModeColor: '#c3971d', darkModeColor: '#946f00' },\n    textColorDarkOrange: { lightModeColor: '#be5b17', darkModeColor: '#de7633' },\n    textColorDarkRed: { lightModeColor: '#861106', darkModeColor: '#ff9b7c' },\n    textColorDarkPurple: { lightModeColor: '#5e327c', darkModeColor: '#dea9fd' },\n    textColorDarkerBlue: { lightModeColor: '#002451', darkModeColor: '#cedbff' },\n    textColorDarkerGreen: { lightModeColor: '#06400c', darkModeColor: '#a3da9b' },\n    textColorDarkerYellow: { lightModeColor: '#a37519', darkModeColor: '#b5852a' },\n    textColorDarkerOrange: { lightModeColor: '#934511', darkModeColor: '#ef935c' },\n    textColorDarkerRed: { lightModeColor: '#570606', darkModeColor: '#ffc0b1' },\n    textColorDarkerPurple: { lightModeColor: '#3b204d', darkModeColor: '#eecaff' },\n    textColorWhite: { lightModeColor: '#ffffff', darkModeColor: '#333333' },\n    textColorLightGray: { lightModeColor: '#cccccc', darkModeColor: '#535353' },\n    textColorGray: { lightModeColor: '#999999', darkModeColor: '#777777' },\n    textColorDarkGray: { lightModeColor: '#666666', darkModeColor: '#a0a0a0' },\n    textColorDarkerGray: { lightModeColor: '#333333', darkModeColor: '#cfcfcf' },\n    textColorBlack: { lightModeColor: '#000000', darkModeColor: '#ffffff' },\n};\n\n/**\n * @internal\n */\nconst BackgroundColors: { [key in BackgroundColorKeys]: ModeIndependentColor } = {\n    backgroundColorCyan: { lightModeColor: '#00ffff', darkModeColor: '#005357' },\n    backgroundColorGreen: { lightModeColor: '#00ff00', darkModeColor: '#005e00' },\n    backgroundColorYellow: { lightModeColor: '#ffff00', darkModeColor: '#383e00' },\n    backgroundColorOrange: { lightModeColor: '#ff8000', darkModeColor: '#bf4c00' },\n    backgroundColorRed: { lightModeColor: '#ff0000', darkModeColor: '#ff2711' },\n    backgroundColorMagenta: { lightModeColor: '#ff00ff', darkModeColor: '#e700e8' },\n    backgroundColorLightCyan: { lightModeColor: '#80ffff', darkModeColor: '#004c4f' },\n    backgroundColorLightGreen: { lightModeColor: '#80ff80', darkModeColor: '#005400' },\n    backgroundColorLightYellow: { lightModeColor: '#ffff80', darkModeColor: '#343c00' },\n    backgroundColorLightOrange: { lightModeColor: '#ffc080', darkModeColor: '#77480b' },\n    backgroundColorLightRed: { lightModeColor: '#ff8080', darkModeColor: '#bc454a' },\n    backgroundColorLightMagenta: { lightModeColor: '#ff80ff', darkModeColor: '#aa2bad' },\n    backgroundColorWhite: { lightModeColor: '#ffffff', darkModeColor: '#333333' },\n    backgroundColorLightGray: { lightModeColor: '#cccccc', darkModeColor: '#535353' },\n    backgroundColorGray: { lightModeColor: '#999999', darkModeColor: '#777777' },\n    backgroundColorDarkGray: { lightModeColor: '#666666', darkModeColor: '#a0a0a0' },\n    backgroundColorDarkerGray: { lightModeColor: '#333333', darkModeColor: '#cfcfcf' },\n    backgroundColorBlack: { lightModeColor: '#000000', darkModeColor: '#ffffff' },\n};\n\n/**\n * @internal\n */\ntype AllColorKeys = TextColorKeys | BackgroundColorKeys;\n\nconst AllColors: { [key in AllColorKeys]: ModeIndependentColor } = {\n    ...TextColors,\n    ...BackgroundColors,\n};\n\n/**\n * @internal\n * Common part of a color picker button\n */\nfunction getColorPickerDropDown(items: Record<string, string>): RibbonButtonDropDown {\n    return {\n        items,\n        itemClassName: classNames.colorMenuItem,\n        allowLivePreview: true,\n        itemRender: (item, onClick) => {\n            const key = item.key as AllColorKeys;\n            const buttonColor = AllColors[key].lightModeColor;\n            return (\n                <button onClick={e => onClick(e, item)} title={item.text}>\n                    <div\n                        className={\n                            classNames.colorSquare +\n                            ' ' +\n                            (key == 'textColorWhite' || key == 'backgroundColorWhite'\n                                ? classNames.colorSquareBorderWhite\n                                : classNames.colorSquareBorder)\n                        }\n                        style={{\n                            backgroundColor: buttonColor,\n                        }}></div>\n                </button>\n            );\n        },\n        commandBarSubMenuProperties: {\n            className: classNames.colorPickerContainer,\n        },\n    };\n}\n\nexport { TextColors, BackgroundColors, getColorPickerDropDown };\n","import { PasteOptionButtonKeys } from '../type/PasteOptionStringKeys';\n\n/**\n * @internal\n */\nexport interface PasteOptionButtonType {\n    unlocalizedText: string;\n    shortcut: string;\n    icon: string;\n}\n\n/**\n * @internal\n */\nexport const Buttons: Record<PasteOptionButtonKeys, PasteOptionButtonType> = {\n    pasteOptionPasteAsIs: {\n        unlocalizedText: 'Paste as is',\n        shortcut: 'P',\n        icon: 'Paste',\n    },\n    pasteOptionPasteText: {\n        unlocalizedText: 'Paste text',\n        shortcut: 'T',\n        icon: 'PasteAsText',\n    },\n    pasteOptionMergeFormat: {\n        unlocalizedText: 'Paste text and merge format',\n        shortcut: 'M',\n        icon: 'ClipboardList',\n    },\n};\n\n/**\n * @internal\n */\nexport const ButtonKeys: PasteOptionButtonKeys[] = Object.keys(Buttons) as PasteOptionButtonKeys[];\n","import { mount } from './controls/MainPane';\n\nmount(document.getElementById('mainPane'));\n","import * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport ApiPlaygroundPlugin from './sidePane/apiPlayground/ApiPlaygroundPlugin';\nimport BuildInPluginState from './BuildInPluginState';\nimport EditorOptionsPlugin from './sidePane/editorOptions/EditorOptionsPlugin';\nimport EventViewPlugin from './sidePane/eventViewer/EventViewPlugin';\nimport FormatStatePlugin from './sidePane/formatState/FormatStatePlugin';\nimport getToggleablePlugins from './getToggleablePlugins';\nimport MainPaneBase from './MainPaneBase';\nimport SidePane from './sidePane/SidePane';\nimport SnapshotPlugin from './sidePane/snapshot/SnapshotPlugin';\nimport TitleBar from './titleBar/TitleBar';\nimport { arrayPush } from 'roosterjs-editor-dom';\nimport { darkMode, DarkModeButtonStringKey } from './ribbonButtons/darkMode';\nimport { Editor } from 'roosterjs-editor-core';\nimport { EditorOptions, EditorPlugin } from 'roosterjs-editor-types';\nimport { ExportButtonStringKey, exportContent } from './ribbonButtons/export';\nimport { getDarkColor } from 'roosterjs-color-utils';\nimport { PartialTheme, ThemeProvider } from '@fluentui/react/lib/Theme';\nimport { popout, PopoutButtonStringKey } from './ribbonButtons/popout';\nimport { registerWindowForCss, unregisterWindowForCss } from '../utils/cssMonitor';\nimport { tableEdit, TableEditOperationsStringKey } from './ribbonButtons/tableEditOperations';\nimport { trustedHTMLHandler } from '../utils/trustedHTMLHandler';\nimport { WindowProvider } from '@fluentui/react/lib/WindowProvider';\nimport { zoom, ZoomButtonStringKey } from './ribbonButtons/zoom';\nimport {\n    AllButtonStringKeys,\n    createRibbonPlugin,\n    createUpdateContentPlugin,\n    getButtons,\n    RibbonPlugin,\n    Ribbon,\n    RibbonButton,\n    Rooster,\n    UpdateContentPlugin,\n    UpdateMode,\n    AllButtonKeys,\n    createPasteOptionPlugin,\n} from 'roosterjs-react';\nimport {\n    tableAlign,\n    TableAlignmentOperationsStringKey,\n} from './ribbonButtons/tableAlignmentOperations';\n\nconst styles = require('./MainPane.scss');\nconst PopoutRoot = 'mainPane';\nconst POPOUT_HTML = `<!doctype html><html><head><title>RoosterJs Demo Page PopOut</title></head><body><div id=${PopoutRoot}></div></body></html>`;\nconst POPOUT_FEATURES = 'menubar=no,statusbar=no,width=1200,height=800';\nconst POPOUT_URL = 'about:blank';\nconst POPOUT_TARGET = '_blank';\n\nconst LightTheme: PartialTheme = {\n    palette: {\n        themePrimary: '#0099aa',\n        themeLighterAlt: '#f2fbfc',\n        themeLighter: '#cbeef2',\n        themeLight: '#a1dfe6',\n        themeTertiary: '#52c0cd',\n        themeSecondary: '#16a5b5',\n        themeDarkAlt: '#008a9a',\n        themeDark: '#007582',\n        themeDarker: '#005660',\n        neutralLighterAlt: '#faf9f8',\n        neutralLighter: '#f3f2f1',\n        neutralLight: '#edebe9',\n        neutralQuaternaryAlt: '#e1dfdd',\n        neutralQuaternary: '#d0d0d0',\n        neutralTertiaryAlt: '#c8c6c4',\n        neutralTertiary: '#a19f9d',\n        neutralSecondary: '#605e5c',\n        neutralPrimaryAlt: '#3b3a39',\n        neutralPrimary: '#323130',\n        neutralDark: '#201f1e',\n        black: '#000000',\n        white: '#ffffff',\n    },\n};\n\nconst DarkTheme: PartialTheme = {\n    palette: {\n        themePrimary: '#0091A1',\n        themeLighterAlt: '#f1fafb',\n        themeLighter: '#caecf0',\n        themeLight: '#9fdce3',\n        themeTertiary: '#4fbac6',\n        themeSecondary: '#159dac',\n        themeDarkAlt: '#008291',\n        themeDark: '#006e7a',\n        themeDarker: '#00515a',\n        neutralLighterAlt: '#3c3c3c',\n        neutralLighter: '#444444',\n        neutralLight: '#515151',\n        neutralQuaternaryAlt: '#595959',\n        neutralQuaternary: '#5f5f5f',\n        neutralTertiaryAlt: '#7a7a7a',\n        neutralTertiary: '#c8c8c8',\n        neutralSecondary: '#d0d0d0',\n        neutralPrimaryAlt: '#dadada',\n        neutralPrimary: '#ffffff',\n        neutralDark: '#f4f4f4',\n        black: '#f8f8f8',\n        white: '#333333',\n    },\n};\n\ntype RibbonStringKeys =\n    | AllButtonStringKeys\n    | DarkModeButtonStringKey\n    | ZoomButtonStringKey\n    | ExportButtonStringKey\n    | PopoutButtonStringKey\n    | TableEditOperationsStringKey\n    | TableAlignmentOperationsStringKey;\n\nclass MainPane extends MainPaneBase {\n    private mouseX: number;\n    private popoutRoot: HTMLElement;\n    private themeMatch = window.matchMedia?.('(prefers-color-scheme: dark)');\n\n    private formatStatePlugin: FormatStatePlugin;\n    private editorOptionPlugin: EditorOptionsPlugin;\n    private eventViewPlugin: EventViewPlugin;\n    private apiPlaygroundPlugin: ApiPlaygroundPlugin;\n    private snapshotPlugin: SnapshotPlugin;\n    private ribbonPlugin: RibbonPlugin;\n    private pasteOptionPlugin: EditorPlugin;\n    private updateContentPlugin: UpdateContentPlugin;\n    private toggleablePlugins: EditorPlugin[] | null = null;\n    private mainWindowButtons: RibbonButton<RibbonStringKeys>[];\n    private popoutWindowButtons: RibbonButton<RibbonStringKeys>[];\n\n    private content: string = '';\n\n    private sidePane = React.createRef<SidePane>();\n\n    constructor(props: {}) {\n        super(props);\n\n        this.formatStatePlugin = new FormatStatePlugin();\n        this.editorOptionPlugin = new EditorOptionsPlugin();\n        this.eventViewPlugin = new EventViewPlugin();\n        this.apiPlaygroundPlugin = new ApiPlaygroundPlugin();\n        this.snapshotPlugin = new SnapshotPlugin();\n        this.ribbonPlugin = createRibbonPlugin();\n        this.pasteOptionPlugin = createPasteOptionPlugin();\n        this.updateContentPlugin = createUpdateContentPlugin(UpdateMode.OnDispose, this.onUpdate);\n        this.mainWindowButtons = getButtons([\n            ...AllButtonKeys,\n            darkMode,\n            zoom,\n            exportContent,\n            popout,\n            tableEdit,\n            tableAlign,\n        ]);\n        this.popoutWindowButtons = getButtons([...AllButtonKeys, darkMode, zoom, exportContent]);\n        this.state = {\n            showSidePane: window.location.hash != '',\n            showRibbon: true,\n            popoutWindow: null,\n            initState: this.editorOptionPlugin.getBuildInPluginState(),\n            supportDarkMode: true,\n            scale: 1,\n            isDarkMode: this.themeMatch?.matches || false,\n            editorCreator: null,\n            isRtl: false,\n        };\n    }\n\n    render() {\n        return (\n            <ThemeProvider\n                applyTo=\"body\"\n                theme={this.state.isDarkMode ? DarkTheme : LightTheme}\n                className={styles.mainPane}>\n                <TitleBar className={styles.noGrow} />\n                {this.state.showRibbon &&\n                    !this.state.popoutWindow &&\n                    this.renderRibbon(false /*isPopout*/)}\n                <div className={styles.body}>\n                    {this.state.popoutWindow ? this.renderPopout() : this.renderMainPane()}\n                </div>\n            </ThemeProvider>\n        );\n    }\n\n    resetEditorPlugin(pluginState: BuildInPluginState) {\n        this.updateContentPlugin.forceUpdate();\n        this.setState({\n            initState: pluginState,\n        });\n\n        this.resetEditor();\n    }\n\n    updateFormatState() {\n        this.formatStatePlugin.updateFormatState();\n    }\n\n    setIsRibbonShown(isShown: boolean) {\n        this.setState({\n            showRibbon: isShown,\n        });\n    }\n\n    setIsDarkModeSupported(isSupported: boolean) {\n        this.setState({\n            supportDarkMode: isSupported,\n        });\n    }\n\n    isDarkModeSupported() {\n        return this.state.supportDarkMode;\n    }\n\n    popout() {\n        this.updateContentPlugin.forceUpdate();\n\n        const win = window.open(POPOUT_URL, POPOUT_TARGET, POPOUT_FEATURES);\n        win.document.write(trustedHTMLHandler(POPOUT_HTML));\n        win.addEventListener('beforeunload', () => {\n            this.updateContentPlugin.forceUpdate();\n\n            unregisterWindowForCss(win);\n            this.setState({ popoutWindow: null });\n        });\n\n        registerWindowForCss(win);\n\n        this.popoutRoot = win.document.getElementById(PopoutRoot);\n        this.setState({\n            popoutWindow: win,\n        });\n    }\n\n    setScale(scale: number): void {\n        this.setState({\n            scale: scale,\n        });\n    }\n\n    toggleDarkMode(): void {\n        this.setState({\n            isDarkMode: !this.state.isDarkMode,\n        });\n    }\n\n    setPageDirection(isRtl: boolean): void {\n        this.setState({ isRtl: isRtl });\n        [window, this.state.popoutWindow].forEach(win => {\n            if (win) {\n                win.document.body.dir = isRtl ? 'rtl' : 'ltr';\n            }\n        });\n    }\n\n    componentDidMount() {\n        this.themeMatch?.addEventListener('change', this.onThemeChange);\n    }\n\n    componentWillUnmount() {\n        this.themeMatch?.removeEventListener('change', this.onThemeChange);\n    }\n\n    private onThemeChange = () => {\n        this.setState({\n            isDarkMode: this.themeMatch?.matches || false,\n        });\n    };\n\n    private onMouseDown = (e: React.MouseEvent<EventTarget>) => {\n        document.addEventListener('mousemove', this.onMouseMove, true);\n        document.addEventListener('mouseup', this.onMouseUp, true);\n        document.body.style.userSelect = 'none';\n        this.mouseX = e.pageX;\n    };\n\n    private onMouseMove = (e: MouseEvent) => {\n        this.sidePane.current.changeWidth(this.mouseX - e.pageX);\n        this.mouseX = e.pageX;\n    };\n\n    private onMouseUp = (e: MouseEvent) => {\n        document.removeEventListener('mousemove', this.onMouseMove, true);\n        document.removeEventListener('mouseup', this.onMouseUp, true);\n        document.body.style.userSelect = '';\n    };\n\n    private onShowSidePane = () => {\n        this.setState({\n            showSidePane: true,\n        });\n        this.resetEditor();\n    };\n\n    private onHideSidePane = () => {\n        this.setState({\n            showSidePane: false,\n        });\n        this.resetEditor();\n        window.location.hash = '';\n    };\n\n    private onUpdate = (content: string) => {\n        this.content = content;\n    };\n\n    private renderRibbon(isPopout: boolean) {\n        return (\n            <Ribbon\n                buttons={isPopout ? this.popoutWindowButtons : this.mainWindowButtons}\n                plugin={this.ribbonPlugin}\n                dir={this.state.isRtl ? 'rtl' : 'ltr'}\n            />\n        );\n    }\n\n    private renderPopout() {\n        return (\n            <>\n                {this.renderSidePane(true /*fullWidth*/)}\n                {ReactDOM.createPortal(\n                    <WindowProvider window={this.state.popoutWindow}>\n                        <ThemeProvider\n                            applyTo=\"body\"\n                            theme={this.state.isDarkMode ? DarkTheme : LightTheme}>\n                            <div className={styles.mainPane}>\n                                {this.renderRibbon(true /*isPopout*/)}\n                                <div className={styles.body}>{this.renderEditor()}</div>\n                            </div>\n                        </ThemeProvider>\n                    </WindowProvider>,\n                    this.popoutRoot\n                )}\n            </>\n        );\n    }\n\n    private renderMainPane() {\n        return (\n            <>\n                {this.renderEditor()}\n                {this.state.showSidePane ? (\n                    <>\n                        <div className={styles.resizer} onMouseDown={this.onMouseDown} />\n                        {this.renderSidePane(false /*fullWidth*/)}\n                        {this.renderSidePaneButton()}\n                    </>\n                ) : (\n                    this.renderSidePaneButton()\n                )}\n            </>\n        );\n    }\n\n    private renderSidePane(fullWidth: boolean) {\n        return (\n            <SidePane\n                ref={this.sidePane}\n                plugins={this.getSidePanePlugins()}\n                className={`main-pane ${styles.sidePane} ${\n                    fullWidth ? styles.sidePaneFullWidth : ''\n                }`}\n            />\n        );\n    }\n\n    private renderEditor() {\n        const allPlugins = this.getPlugins();\n        const editorStyles = {\n            transform: `scale(${this.state.scale})`,\n            transformOrigin: this.state.isRtl ? 'right top' : 'left top',\n            height: `calc(${100 / this.state.scale}%)`,\n            width: `calc(${100 / this.state.scale}%)`,\n        };\n\n        this.updateContentPlugin.forceUpdate();\n\n        return (\n            <div className={styles.editorContainer}>\n                <div style={editorStyles}>\n                    <Rooster\n                        className={styles.editor}\n                        plugins={allPlugins}\n                        defaultFormat={this.state.initState.defaultFormat}\n                        inDarkMode={this.state.isDarkMode}\n                        getDarkColor={getDarkColor}\n                        experimentalFeatures={this.state.initState.experimentalFeatures}\n                        undoMetadataSnapshotService={this.snapshotPlugin.getSnapshotService()}\n                        trustedHTMLHandler={trustedHTMLHandler}\n                        zoomScale={this.state.scale}\n                        initialContent={this.content}\n                        editorCreator={this.state.editorCreator}\n                        dir={this.state.isRtl ? 'rtl' : 'ltr'}\n                    />\n                </div>\n            </div>\n        );\n    }\n\n    private renderSidePaneButton() {\n        return (\n            <button\n                className={`side-pane-toggle ${this.state.showSidePane ? 'open' : 'close'} ${\n                    styles.showSidePane\n                }`}\n                onClick={this.state.showSidePane ? this.onHideSidePane : this.onShowSidePane}>\n                <div>{this.state.showSidePane ? 'Hide side pane' : 'Show side pane'}</div>\n            </button>\n        );\n    }\n\n    private getSidePanePlugins() {\n        return [\n            this.formatStatePlugin,\n            this.editorOptionPlugin,\n            this.eventViewPlugin,\n            this.apiPlaygroundPlugin,\n            this.snapshotPlugin,\n        ];\n    }\n\n    private getPlugins() {\n        this.toggleablePlugins =\n            this.toggleablePlugins || getToggleablePlugins(this.state.initState);\n\n        const plugins = [...this.toggleablePlugins, this.ribbonPlugin, this.pasteOptionPlugin];\n\n        if (this.state.showSidePane || this.state.popoutWindow) {\n            arrayPush(plugins, this.getSidePanePlugins());\n        }\n\n        plugins.push(this.updateContentPlugin);\n\n        return plugins;\n    }\n\n    private resetEditor() {\n        this.toggleablePlugins = null;\n        this.setState({\n            editorCreator: (div: HTMLDivElement, options: EditorOptions) =>\n                new Editor(div, options),\n        });\n    }\n}\n\nexport function mount(parent: HTMLElement) {\n    ReactDOM.render(<MainPane />, parent);\n}\n","import ApiPaneProps from './ApiPaneProps';\nimport ApiPlaygroundPane from './ApiPlaygroundPane';\nimport SidePanePluginImpl from '../SidePanePluginImpl';\nimport { PluginEvent } from 'roosterjs-editor-types';\nimport { SidePaneElementProps } from '../SidePaneElement';\n\nexport default class ApiPlaygroundPlugin extends SidePanePluginImpl<\n    ApiPlaygroundPane,\n    ApiPaneProps\n> {\n    constructor() {\n        super(ApiPlaygroundPane, 'api', 'API Playground');\n    }\n\n    getComponentProps(base: SidePaneElementProps) {\n        return {\n            ...base,\n            getEditor: () => {\n                return this.editor;\n            },\n        };\n    }\n\n    onPluginEvent(e: PluginEvent) {\n        this.getComponent(component => component.onPluginEvent(e));\n    }\n}\n","import * as React from 'react';\nimport apiEntries, { ApiPlaygroundReactComponent } from './apiEntries';\nimport ApiPaneProps from './ApiPaneProps';\nimport { PluginEvent } from 'roosterjs-editor-types';\nimport { SidePaneElement } from '../SidePaneElement';\n\nconst styles = require('./ApiPlaygroundPane.scss');\n\nexport interface ApiPlaygroundPaneState {\n    current: string;\n}\n\nexport default class ApiPlaygroundPane extends React.Component<ApiPaneProps, ApiPlaygroundPaneState>\n    implements SidePaneElement {\n    private select = React.createRef<HTMLSelectElement>();\n    private pane = React.createRef<ApiPlaygroundReactComponent>();\n    constructor(props: ApiPaneProps) {\n        super(props);\n        this.state = { current: 'empty' };\n    }\n\n    render() {\n        let componentClass = apiEntries[this.state.current].component;\n        let pane: JSX.Element = null;\n        if (componentClass) {\n            pane = React.createElement(componentClass, { ...this.props, ref: this.pane });\n        }\n\n        return (\n            <>\n                <div className={styles.header}>\n                    <h3>Select an API to try</h3>\n\n                    <select ref={this.select} value={this.state.current} onChange={this.onChange}>\n                        {Object.keys(apiEntries).map(key => (\n                            <option value={key} key={key}>\n                                {apiEntries[key].name}\n                            </option>\n                        ))}\n                    </select>\n                </div>\n                {pane}\n            </>\n        );\n    }\n\n    onPluginEvent(e: PluginEvent) {\n        if (this.pane.current && this.pane.current.onPluginEvent) {\n            this.pane.current.onPluginEvent(e);\n        }\n    }\n\n    setHashPath(path: string[]) {\n        let paneName = path && Object.keys(apiEntries).indexOf(path[0]) >= 0 ? path[0] : null;\n\n        if (paneName && paneName != this.state.current) {\n            this.setState({\n                current: paneName,\n            });\n        } else {\n            this.props.updateHash(null, [this.state.current]);\n        }\n    }\n\n    private onChange = () => {\n        this.props.updateHash(null, [this.select.current.value]);\n    };\n}\n","import * as React from 'react';\nimport ApiPaneProps, { ApiPlaygroundComponent } from './ApiPaneProps';\nimport BlockElementsPane from './blockElements/BlockElementsPane';\nimport GetDarkColorPane from './darkColor/GetDarkColorPane';\nimport GetSelectedRegionsPane from './region/GetSelectedRegionsPane';\nimport InsertContentPane from './insertContent/InsertContentPane';\nimport InsertEntityPane from './insertEntity/InsertEntityPane';\nimport MatchLinkPane from './matchLink/MatchLinkPane';\nimport SanitizerPane from './sanitizer/SanitizerPane';\nimport VListPane from './vlist/VListPane';\nimport VTablePane from './vtable/VTablePane';\n\nexport interface ApiPlaygroundReactComponent\n    extends React.Component<ApiPaneProps, any>,\n        ApiPlaygroundComponent {}\n\ninterface ApiEntry {\n    name: string;\n    component?: { new (prpos: ApiPaneProps): ApiPlaygroundReactComponent };\n}\n\nconst apiEntries: { [key: string]: ApiEntry } = {\n    empty: {\n        name: 'Please select',\n    },\n    block: {\n        name: 'Block Elements',\n        component: BlockElementsPane,\n    },\n    sanitizer: {\n        name: 'HTML Sanitizer',\n        component: SanitizerPane,\n    },\n    matchlink: {\n        name: 'Match Link',\n        component: MatchLinkPane,\n    },\n    insertContent: {\n        name: 'Insert Content',\n        component: InsertContentPane,\n    },\n    region: {\n        name: 'Get Selected Regions',\n        component: GetSelectedRegionsPane,\n    },\n    entity: {\n        name: 'Insert Entity',\n        component: InsertEntityPane,\n    },\n    vlist: {\n        name: 'VList',\n        component: VListPane,\n    },\n    vtable: {\n        name: 'VTable',\n        component: VTablePane,\n    },\n    getDarkColor: {\n        name: 'getDarkColor',\n        component: GetDarkColorPane,\n    },\n    more: {\n        name: 'Coming soon...',\n    },\n};\n\nexport default apiEntries;\n","import * as React from 'react';\nimport ApiPaneProps from '../ApiPaneProps';\nimport { BlockElement, PluginEvent, PluginEventType, PositionType } from 'roosterjs-editor-types';\nimport { createRange, isBlockElement } from 'roosterjs-editor-dom';\n\nconst styles = require('./BlockElementsPane.scss');\n\nexport interface BlockElementPaneState {\n    blocks: BlockElement[];\n}\n\nexport default class BlockElementsPane extends React.Component<\n    ApiPaneProps,\n    BlockElementPaneState\n> {\n    private checkGetBlocks = React.createRef<HTMLInputElement>();\n\n    constructor(props: ApiPaneProps) {\n        super(props);\n        this.state = {\n            blocks: [],\n        };\n    }\n\n    render() {\n        return (\n            <div>\n                <button onClick={this.onGetBlocks}>Get blocks</button>\n                <input\n                    type=\"checkbox\"\n                    id=\"checkGetBlocks\"\n                    ref={this.checkGetBlocks}\n                    onClick={this.update}\n                />\n                <label htmlFor=\"checkGetBlocks\">Auto refresh</label>\n                {this.state.blocks.map((block, index) => (\n                    <pre\n                        key={index}\n                        className={styles.block}\n                        onMouseOver={() => this.onMouseOver(block)}>\n                        {isNodeBlockElement(block) ? (\n                            this.renderBlock(block)\n                        ) : (\n                            <i onDoubleClick={() => this.collapse(block)}>\n                                {this.renderBlock(block)}\n                            </i>\n                        )}\n                    </pre>\n                ))}\n            </div>\n        );\n    }\n\n    onPluginEvent(e: PluginEvent) {\n        if (\n            e.eventType == PluginEventType.KeyPress ||\n            e.eventType == PluginEventType.ContentChanged\n        ) {\n            if (this.checkGetBlocks.current.checked) {\n                this.update();\n            } else {\n                this.setBlocks([]);\n            }\n        }\n    }\n\n    private update = () => {\n        this.props.getEditor().runAsync(this.onGetBlocks);\n    };\n\n    private collapse(block: BlockElement) {\n        block.collapseToSingleElement();\n        this.props.getEditor().triggerContentChangedEvent();\n        if (!this.checkGetBlocks.current.checked) {\n            this.onGetBlocks();\n        }\n    }\n\n    private renderBlock(block: BlockElement): JSX.Element {\n        let isNodeBlock = isNodeBlockElement(block);\n        return (\n            <div\n                onDoubleClick={!isNodeBlock && (() => this.collapse(block))}\n                title={\n                    isNodeBlock\n                        ? 'This is a NodeBlockElement'\n                        : 'This is a StartEndBlockElement, double to collapse'\n                }\n                style={{ fontStyle: isNodeBlock ? 'normal' : 'italic' }}>\n                {getTextContent(block) || '<NO CONTENT>'}\n            </div>\n        );\n    }\n\n    private setBlocks(blocks: BlockElement[]) {\n        this.setState({\n            blocks: blocks,\n        });\n    }\n\n    private onGetBlocks = () => {\n        let traverser = this.props.getEditor().getBodyTraverser();\n        let block = traverser && traverser.currentBlockElement;\n        let blocks: BlockElement[] = [];\n\n        while (block) {\n            blocks.push(block);\n            block = traverser.getNextBlockElement();\n        }\n\n        this.setBlocks(blocks);\n    };\n\n    private onMouseOver = (block: BlockElement) => {\n        this.props\n            .getEditor()\n            .select(block.getStartNode(), 0, block.getEndNode(), PositionType.End);\n    };\n}\n\nfunction getTextContent(block: BlockElement): string {\n    return block.getStartNode() == block.getEndNode()\n        ? block.getStartNode().textContent\n        : createRange(block.getStartNode(), block.getEndNode()).toString();\n}\n\nfunction isNodeBlockElement(block: BlockElement): boolean {\n    return block.getStartNode() == block.getEndNode() && isBlockElement(block.getStartNode());\n}\n","var content = require(\"!!../../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../../node_modules/sass-loader/dist/cjs.js!./BlockElementsPane.scss\");\nvar loader = require(\"/home/runner/work/roosterjs/roosterjs/node_modules/@microsoft/loader-load-themed-styles/node_modules/@microsoft/load-themed-styles/lib/index.js\");\n\nif(typeof content === \"string\") content = [[module.id, content]];\n\n// add the styles to the DOM\nfor (var i = 0; i < content.length; i++) loader.loadStyles(content[i][1], false);\n\nif(content.locals) module.exports = content.locals;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"._1_jgBU84mPgcYlpMVPoqWE{overflow:hidden;text-overflow:ellipsis;cursor:pointer;margin:3px 0;white-space:nowrap}._1_jgBU84mPgcYlpMVPoqWE:hover{background-color:#eee}\", \"\"]);\n// Exports\nexports.locals = {\n\t\"block\": \"_1_jgBU84mPgcYlpMVPoqWE\"\n};\nmodule.exports = exports;\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","import * as React from 'react';\nimport ApiPaneProps from '../ApiPaneProps';\nimport { getDarkColor } from 'roosterjs-color-utils';\n\ninterface GetDarkColorPaneState {\n    lightColor: string;\n    darkColor: string;\n}\n\nconst styles = require('./GetDarkColorPane.scss');\n\nexport default class GetDarkColorPane extends React.Component<ApiPaneProps, GetDarkColorPaneState> {\n    private lightColor = React.createRef<HTMLInputElement>();\n\n    constructor(props: ApiPaneProps) {\n        super(props);\n        this.state = {\n            lightColor: '',\n            darkColor: '',\n        };\n    }\n\n    render() {\n        return (\n            <>\n                <div>\n                    Light Color:{' '}\n                    <input\n                        type=\"input\"\n                        ref={this.lightColor}\n                        onChange={this.onInputChange}\n                        value={this.state.lightColor}\n                    />\n                </div>\n                <hr />\n                <div>\n                    Light Color:\n                    <div className={styles.lightBackground}>\n                        <div\n                            className={styles.result}\n                            style={{ backgroundColor: this.state.lightColor }}\n                        />\n                    </div>\n                </div>\n                <div>\n                    DarkColor: <span>{this.state.darkColor}</span>\n                    <div className={styles.darkBackground}>\n                        <div\n                            className={styles.result}\n                            style={{ backgroundColor: this.state.darkColor }}\n                        />\n                    </div>\n                </div>\n            </>\n        );\n    }\n\n    private onInputChange = () => {\n        let lightColor = this.lightColor.current.value;\n        let darkColor = '';\n\n        try {\n            darkColor = getDarkColor(lightColor);\n        } catch (e) {\n            darkColor = e;\n        }\n\n        this.setState({\n            lightColor: lightColor,\n            darkColor: darkColor,\n        });\n    };\n}\n","var content = require(\"!!../../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../../node_modules/sass-loader/dist/cjs.js!./GetDarkColorPane.scss\");\nvar loader = require(\"/home/runner/work/roosterjs/roosterjs/node_modules/@microsoft/loader-load-themed-styles/node_modules/@microsoft/load-themed-styles/lib/index.js\");\n\nif(typeof content === \"string\") content = [[module.id, content]];\n\n// add the styles to the DOM\nfor (var i = 0; i < content.length; i++) loader.loadStyles(content[i][1], false);\n\nif(content.locals) module.exports = content.locals;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"._2QN9z7UV4YLHwj9CQ-6ra6{position:absolute;left:25px;right:25px;top:25px;bottom:25px}.KAuwbJuev3yAQmPcrB-wl,._2r_v4LIS95O1jezeMfgUpS,.bIPZz2lZ0Dy0-dW2Poeua{position:relative;width:100px;height:100px;border:solid 1px #000}.bIPZz2lZ0Dy0-dW2Poeua{background-color:#fff}._2r_v4LIS95O1jezeMfgUpS{background-color:#333}\", \"\"]);\n// Exports\nexports.locals = {\n\t\"result\": \"_2QN9z7UV4YLHwj9CQ-6ra6\",\n\t\"backgroundBase\": \"KAuwbJuev3yAQmPcrB-wl\",\n\t\"darkBackground\": \"_2r_v4LIS95O1jezeMfgUpS\",\n\t\"lightBackground\": \"bIPZz2lZ0Dy0-dW2Poeua\"\n};\nmodule.exports = exports;\n","import * as React from 'react';\nimport ApiPaneProps from '../ApiPaneProps';\nimport { IEditor, PositionType, Region } from 'roosterjs-editor-types';\nimport {\n    createRange,\n    getSelectedBlockElementsInRegion,\n    getTagOfNode,\n    safeInstanceOf,\n} from 'roosterjs-editor-dom';\n\nconst styles = require('./GetSelectedRegionsPane.scss');\n\ninterface GetSelectedRegionsPaneState {\n    regions: Region[];\n}\n\nexport default class GetSelectedRegionsPane extends React.Component<\n    ApiPaneProps,\n    GetSelectedRegionsPaneState\n> {\n    constructor(props: ApiPaneProps) {\n        super(props);\n        this.state = { regions: [] };\n    }\n\n    render() {\n        const editor = this.props.getEditor();\n        return (\n            <>\n                <div>\n                    <button onClick={this.getSelectedRegions}>Get Selected Regions</button>&nbsp;\n                    <button onClick={this.clearAll}>Clear</button>\n                </div>\n                <div>\n                    {this.state.regions.map((region, i) => (\n                        <Region key={i} region={region} editor={editor} index={i} />\n                    ))}\n                </div>\n            </>\n        );\n    }\n\n    private getSelectedRegions = () => {\n        this.setState({\n            regions: this.props.getEditor().getSelectedRegions(),\n        });\n    };\n\n    private clearAll = () => {\n        this.setState({\n            regions: [],\n        });\n    };\n}\n\nfunction Region({ region, editor, index }: { region: Region; editor: IEditor; index: number }) {\n    const selectRegion = React.useCallback(() => {\n        const blocks = getSelectedBlockElementsInRegion(region);\n        if (blocks.length > 0) {\n            const range = createRange(\n                blocks[0].getStartNode(),\n                PositionType.Begin,\n                blocks[blocks.length - 1].getEndNode(),\n                PositionType.End\n            );\n            editor.focus();\n            editor.select(range);\n        }\n    }, [region]);\n\n    return (\n        <div>\n            <hr />\n            <div>\n                <b>Region {index}</b>\n            </div>\n            <div>\n                Root node: <NodeName node={region.rootNode} />\n            </div>\n            <div>\n                Node Before: <NodeName node={region.nodeBefore} />\n            </div>\n            <div>\n                Node After: <NodeName node={region.nodeAfter} />\n            </div>\n            <div>\n                Selected blocks: <button onClick={selectRegion}>Select</button>\n            </div>\n        </div>\n    );\n}\n\nfunction NodeName({ node }: { node: Node }) {\n    const mouseOver = React.useCallback(() => {\n        if (safeInstanceOf(node, 'HTMLElement')) {\n            node.className += ' ' + styles.hover;\n        }\n    }, [node]);\n\n    const mouseOut = React.useCallback(() => {\n        if (safeInstanceOf(node, 'HTMLElement')) {\n            let classNames = node.className.split(' ');\n            classNames = classNames.filter(name => name != styles.hover);\n            node.className = classNames.join(' ').trim();\n        }\n    }, [node]);\n\n    return node ? (\n        safeInstanceOf(node, 'HTMLElement') ? (\n            <span onMouseOver={mouseOver} onMouseOut={mouseOut} className={styles.regionNode}>\n                {getTagOfNode(node)}#{node.id}\n            </span>\n        ) : (\n            <span className={styles.regionNode}>{node.nodeValue.substr(0, 10)}</span>\n        )\n    ) : null;\n}\n","var content = require(\"!!../../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../../node_modules/sass-loader/dist/cjs.js!./GetSelectedRegionsPane.scss\");\nvar loader = require(\"/home/runner/work/roosterjs/roosterjs/node_modules/@microsoft/loader-load-themed-styles/node_modules/@microsoft/load-themed-styles/lib/index.js\");\n\nif(typeof content === \"string\") content = [[module.id, content]];\n\n// add the styles to the DOM\nfor (var i = 0; i < content.length; i++) loader.loadStyles(content[i][1], false);\n\nif(content.locals) module.exports = content.locals;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"@media(prefers-color-scheme: dark){button{background-color:#0091a1;color:#aaf7ff;border:solid 1px #007b8b}select,input,textarea{background-color:#333;color:#aaf7ff;border:solid 1px #007b8b}}.deySpGrN2RNEpBoMFR8Uh{font-weight:bold;background-color:#aaf7ff}._2mBGUX8vWQF-5jynECLtGD{background-color:#00b0c4;border:solid 2px #09a}@media(prefers-color-scheme: dark){.deySpGrN2RNEpBoMFR8Uh{background-color:#a1f6ff}._2mBGUX8vWQF-5jynECLtGD{background-color:#00a8bb;border:solid 2px #0091a1}}\", \"\"]);\n// Exports\nexports.locals = {\n\t\"regionNode\": \"deySpGrN2RNEpBoMFR8Uh\",\n\t\"hover\": \"_2mBGUX8vWQF-5jynECLtGD\"\n};\nmodule.exports = exports;\n","import * as React from 'react';\nimport ApiPaneProps from '../ApiPaneProps';\nimport { ContentPosition, InsertOptionBasic } from 'roosterjs-editor-types';\n\nconst styles = require('./InsertContentPane.scss');\n\nexport interface InsertContentPaneState {\n    content: string;\n    position: ContentPosition;\n    updateCursor: boolean;\n    replaceSelection: boolean;\n    insertOnNewLine: boolean;\n}\n\nexport default class InsertContentPane extends React.Component<\n    ApiPaneProps,\n    InsertContentPaneState\n> {\n    private html = React.createRef<HTMLTextAreaElement>();\n\n    constructor(props: ApiPaneProps) {\n        super(props);\n        this.state = {\n            content: '',\n            position: ContentPosition.SelectionStart,\n            updateCursor: true,\n            replaceSelection: true,\n            insertOnNewLine: false,\n        };\n    }\n\n    render() {\n        return (\n            <table>\n                <tr>\n                    <td>HTML Content</td>\n                    <td>\n                        <textarea\n                            className={styles.text}\n                            ref={this.html}\n                            value={this.state.content}\n                            onChange={() => this.setState({ content: this.html.current.value })}\n                        />\n                    </td>\n                </tr>\n                <tr>\n                    <td>Insert at</td>\n                    <td>\n                        <div>\n                            <input\n                                type=\"radio\"\n                                name=\"position\"\n                                checked={this.state.position == ContentPosition.Begin}\n                                id=\"insertBegin\"\n                                onClick={() => this.setPosition(ContentPosition.Begin)}\n                            />\n                            <label htmlFor=\"insertBegin\">Begin</label>\n                        </div>\n                        <div>\n                            <input\n                                type=\"radio\"\n                                name=\"position\"\n                                checked={this.state.position == ContentPosition.End}\n                                id=\"insertEnd\"\n                                onClick={() => this.setPosition(ContentPosition.End)}\n                            />\n                            <label htmlFor=\"insertEnd\">End</label>\n                        </div>\n                        <div>\n                            <input\n                                type=\"radio\"\n                                name=\"position\"\n                                checked={this.state.position == ContentPosition.SelectionStart}\n                                id=\"insertSelectionStart\"\n                                onClick={() => this.setPosition(ContentPosition.SelectionStart)}\n                            />\n                            <label htmlFor=\"insertSelectionStart\">SelectionStart</label>\n                        </div>\n                        <div>\n                            <input\n                                type=\"radio\"\n                                name=\"position\"\n                                checked={this.state.position == ContentPosition.Outside}\n                                id=\"insertOutside\"\n                                onClick={() => this.setPosition(ContentPosition.Outside)}\n                            />\n                            <label htmlFor=\"insertOutside\">Outside</label>\n                        </div>\n                    </td>\n                </tr>\n                <tr>\n                    <td>Cursor option</td>\n                    <td>\n                        <input\n                            type=\"checkbox\"\n                            id=\"insertUpdateCursor\"\n                            checked={this.state.updateCursor}\n                            onClick={() =>\n                                this.setState({ updateCursor: !this.state.updateCursor })\n                            }\n                        />\n                        <label htmlFor=\"insertUpdateCursor\">Update cursor</label>\n                    </td>\n                </tr>\n                <tr>\n                    <td>Replace option</td>\n                    <td>\n                        <input\n                            type=\"checkbox\"\n                            id=\"insertReplaceSelection\"\n                            checked={this.state.replaceSelection}\n                            onClick={() =>\n                                this.setState({ replaceSelection: !this.state.replaceSelection })\n                            }\n                        />\n                        <label htmlFor=\"insertReplaceSelection\">Replace selection</label>\n                    </td>\n                </tr>\n                <tr>\n                    <td>New line option</td>\n                    <td>\n                        <input\n                            type=\"checkbox\"\n                            id=\"insertOnNewLine\"\n                            checked={this.state.insertOnNewLine}\n                            onClick={() =>\n                                this.setState({ insertOnNewLine: !this.state.insertOnNewLine })\n                            }\n                        />\n                        <label htmlFor=\"insertOnNewLine\">Insert on new line</label>\n                    </td>\n                </tr>\n                <tr>\n                    <td colSpan={2} className={styles.buttonRow}>\n                        <button onClick={this.onClick}>Insert Content</button>\n                    </td>\n                </tr>\n            </table>\n        );\n    }\n\n    private setPosition(position: ContentPosition) {\n        this.setState({\n            position: position,\n        });\n    }\n\n    private onClick = () => {\n        let editor = this.props.getEditor();\n        if (this.state.position != ContentPosition.Range) {\n            const inputOption: InsertOptionBasic = {\n                position: this.state.position,\n                updateCursor: this.state.updateCursor,\n                replaceSelection: this.state.replaceSelection,\n                insertOnNewLine: this.state.insertOnNewLine,\n            };\n            editor.addUndoSnapshot(() => editor.insertContent(this.state.content, inputOption));\n        }\n    };\n}\n","var content = require(\"!!../../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../../node_modules/sass-loader/dist/cjs.js!./InsertContentPane.scss\");\nvar loader = require(\"/home/runner/work/roosterjs/roosterjs/node_modules/@microsoft/loader-load-themed-styles/node_modules/@microsoft/load-themed-styles/lib/index.js\");\n\nif(typeof content === \"string\") content = [[module.id, content]];\n\n// add the styles to the DOM\nfor (var i = 0; i < content.length; i++) loader.loadStyles(content[i][1], false);\n\nif(content.locals) module.exports = content.locals;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"._3zqjTFVESq7ErkoLCRZ-6U{resize:none;min-height:100px;max-height:200px}._3eEmGG3kPCcFFRLXYSrjlt{text-align:center}\", \"\"]);\n// Exports\nexports.locals = {\n\t\"text\": \"_3zqjTFVESq7ErkoLCRZ-6U\",\n\t\"buttonRow\": \"_3eEmGG3kPCcFFRLXYSrjlt\"\n};\nmodule.exports = exports;\n","import * as React from 'react';\nimport ApiPaneProps from '../ApiPaneProps';\nimport { Entity } from 'roosterjs-editor-types';\nimport { getEntityFromElement, getEntitySelector } from 'roosterjs-editor-dom';\nimport { insertEntity } from 'roosterjs-editor-api';\nimport { trustedHTMLHandler } from '../../../../utils/trustedHTMLHandler';\n\nconst styles = require('./InsertEntityPane.scss');\n\ninterface InsertEntityPaneState {\n    entities: Entity[];\n}\n\nexport default class InsertEntityPane extends React.Component<ApiPaneProps, InsertEntityPaneState> {\n    private entityType = React.createRef<HTMLInputElement>();\n    private html = React.createRef<HTMLTextAreaElement>();\n    private hydratedHtml = React.createRef<HTMLTextAreaElement>();\n    private styleInline = React.createRef<HTMLInputElement>();\n    private styleBlock = React.createRef<HTMLInputElement>();\n    private isReadonly = React.createRef<HTMLInputElement>();\n\n    constructor(props: ApiPaneProps) {\n        super(props);\n        this.state = {\n            entities: [],\n        };\n    }\n\n    render() {\n        return (\n            <>\n                <div>\n                    Type: <input type=\"input\" ref={this.entityType} />\n                </div>\n                <div>\n                    HTML: <textarea className={styles.textarea} ref={this.html}></textarea>\n                </div>\n                <div>\n                    Hydrated HTML:\n                    <textarea className={styles.textarea} ref={this.hydratedHtml}></textarea>\n                </div>\n                <div>\n                    Style:\n                    <input\n                        type=\"radio\"\n                        name=\"entityStyle\"\n                        ref={this.styleInline}\n                        id=\"styleInline\"\n                    />\n                    <label htmlFor=\"styleInline\">Inline</label>{' '}\n                    <input type=\"radio\" name=\"entityStyle\" ref={this.styleBlock} id=\"styleBlock\" />\n                    <label htmlFor=\"styleBlock\">Block</label>\n                </div>\n                <div>\n                    Readonly: <input type=\"checkbox\" ref={this.isReadonly} />\n                </div>\n                <div>\n                    <button onClick={this.insertEntity}>Insert Entity</button>\n                </div>\n                <hr />\n                <div>\n                    <button onClick={this.onGetEntities}>Get all entities</button>\n                </div>\n                <div>\n                    {this.state.entities.map(entity => (\n                        <EntityButton key={entity.id} entity={entity} />\n                    ))}\n                </div>\n            </>\n        );\n    }\n\n    private insertEntity = () => {\n        const entityType = this.entityType.current.value;\n        const node = document.createElement('span');\n        node.innerHTML = trustedHTMLHandler(this.html.current.value);\n        node.dataset.hydratedHtml = this.hydratedHtml.current.value.trim();\n        const isBlock = this.styleBlock.current.checked;\n        const isReadonly = this.isReadonly.current.checked;\n\n        if (node) {\n            insertEntity(this.props.getEditor(), entityType, node, isBlock, isReadonly);\n        }\n    };\n\n    private onGetEntities = () => {\n        const selector = getEntitySelector();\n        const nodes = this.props.getEditor().queryElements(selector);\n        const allEntities = nodes.map(node => getEntityFromElement(node));\n\n        this.setState({\n            entities: allEntities.filter(e => !!e),\n        });\n    };\n}\n\nfunction EntityButton({ entity }: { entity: Entity }) {\n    let background = '';\n    const onMouseOver = React.useCallback(() => {\n        background = entity.wrapper.style.backgroundColor;\n        entity.wrapper.style.backgroundColor = 'blue';\n    }, [entity]);\n\n    const onMouseOut = React.useCallback(() => {\n        entity.wrapper.style.backgroundColor = background;\n    }, [entity]);\n\n    return (\n        <div onMouseOver={onMouseOver} onMouseOut={onMouseOut}>\n            Type: {entity.type}\n            <br />\n            Id: {entity.id}\n            <br />\n            Readonly: {entity.isReadonly ? 'True' : 'False'}\n            <br />\n            IsShadowEntity: {!!entity.wrapper.shadowRoot}\n            <br />\n            <br />\n        </div>\n    );\n}\n","/*! @license DOMPurify 2.3.0 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.3.0/LICENSE */\n\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = global || self, global.DOMPurify = factory());\n}(this, function () { 'use strict';\n\n  function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\n  var hasOwnProperty = Object.hasOwnProperty,\n      setPrototypeOf = Object.setPrototypeOf,\n      isFrozen = Object.isFrozen,\n      getPrototypeOf = Object.getPrototypeOf,\n      getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n  var freeze = Object.freeze,\n      seal = Object.seal,\n      create = Object.create; // eslint-disable-line import/no-mutable-exports\n\n  var _ref = typeof Reflect !== 'undefined' && Reflect,\n      apply = _ref.apply,\n      construct = _ref.construct;\n\n  if (!apply) {\n    apply = function apply(fun, thisValue, args) {\n      return fun.apply(thisValue, args);\n    };\n  }\n\n  if (!freeze) {\n    freeze = function freeze(x) {\n      return x;\n    };\n  }\n\n  if (!seal) {\n    seal = function seal(x) {\n      return x;\n    };\n  }\n\n  if (!construct) {\n    construct = function construct(Func, args) {\n      return new (Function.prototype.bind.apply(Func, [null].concat(_toConsumableArray(args))))();\n    };\n  }\n\n  var arrayForEach = unapply(Array.prototype.forEach);\n  var arrayPop = unapply(Array.prototype.pop);\n  var arrayPush = unapply(Array.prototype.push);\n\n  var stringToLowerCase = unapply(String.prototype.toLowerCase);\n  var stringMatch = unapply(String.prototype.match);\n  var stringReplace = unapply(String.prototype.replace);\n  var stringIndexOf = unapply(String.prototype.indexOf);\n  var stringTrim = unapply(String.prototype.trim);\n\n  var regExpTest = unapply(RegExp.prototype.test);\n\n  var typeErrorCreate = unconstruct(TypeError);\n\n  function unapply(func) {\n    return function (thisArg) {\n      for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n      }\n\n      return apply(func, thisArg, args);\n    };\n  }\n\n  function unconstruct(func) {\n    return function () {\n      for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n\n      return construct(func, args);\n    };\n  }\n\n  /* Add properties to a lookup table */\n  function addToSet(set, array) {\n    if (setPrototypeOf) {\n      // Make 'in' and truthy checks like Boolean(set.constructor)\n      // independent of any properties defined on Object.prototype.\n      // Prevent prototype setters from intercepting set as a this value.\n      setPrototypeOf(set, null);\n    }\n\n    var l = array.length;\n    while (l--) {\n      var element = array[l];\n      if (typeof element === 'string') {\n        var lcElement = stringToLowerCase(element);\n        if (lcElement !== element) {\n          // Config presets (e.g. tags.js, attrs.js) are immutable.\n          if (!isFrozen(array)) {\n            array[l] = lcElement;\n          }\n\n          element = lcElement;\n        }\n      }\n\n      set[element] = true;\n    }\n\n    return set;\n  }\n\n  /* Shallow clone an object */\n  function clone(object) {\n    var newObject = create(null);\n\n    var property = void 0;\n    for (property in object) {\n      if (apply(hasOwnProperty, object, [property])) {\n        newObject[property] = object[property];\n      }\n    }\n\n    return newObject;\n  }\n\n  /* IE10 doesn't support __lookupGetter__ so lets'\n   * simulate it. It also automatically checks\n   * if the prop is function or getter and behaves\n   * accordingly. */\n  function lookupGetter(object, prop) {\n    while (object !== null) {\n      var desc = getOwnPropertyDescriptor(object, prop);\n      if (desc) {\n        if (desc.get) {\n          return unapply(desc.get);\n        }\n\n        if (typeof desc.value === 'function') {\n          return unapply(desc.value);\n        }\n      }\n\n      object = getPrototypeOf(object);\n    }\n\n    function fallbackValue(element) {\n      console.warn('fallback value for', element);\n      return null;\n    }\n\n    return fallbackValue;\n  }\n\n  var html = freeze(['a', 'abbr', 'acronym', 'address', 'area', 'article', 'aside', 'audio', 'b', 'bdi', 'bdo', 'big', 'blink', 'blockquote', 'body', 'br', 'button', 'canvas', 'caption', 'center', 'cite', 'code', 'col', 'colgroup', 'content', 'data', 'datalist', 'dd', 'decorator', 'del', 'details', 'dfn', 'dialog', 'dir', 'div', 'dl', 'dt', 'element', 'em', 'fieldset', 'figcaption', 'figure', 'font', 'footer', 'form', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'head', 'header', 'hgroup', 'hr', 'html', 'i', 'img', 'input', 'ins', 'kbd', 'label', 'legend', 'li', 'main', 'map', 'mark', 'marquee', 'menu', 'menuitem', 'meter', 'nav', 'nobr', 'ol', 'optgroup', 'option', 'output', 'p', 'picture', 'pre', 'progress', 'q', 'rp', 'rt', 'ruby', 's', 'samp', 'section', 'select', 'shadow', 'small', 'source', 'spacer', 'span', 'strike', 'strong', 'style', 'sub', 'summary', 'sup', 'table', 'tbody', 'td', 'template', 'textarea', 'tfoot', 'th', 'thead', 'time', 'tr', 'track', 'tt', 'u', 'ul', 'var', 'video', 'wbr']);\n\n  // SVG\n  var svg = freeze(['svg', 'a', 'altglyph', 'altglyphdef', 'altglyphitem', 'animatecolor', 'animatemotion', 'animatetransform', 'circle', 'clippath', 'defs', 'desc', 'ellipse', 'filter', 'font', 'g', 'glyph', 'glyphref', 'hkern', 'image', 'line', 'lineargradient', 'marker', 'mask', 'metadata', 'mpath', 'path', 'pattern', 'polygon', 'polyline', 'radialgradient', 'rect', 'stop', 'style', 'switch', 'symbol', 'text', 'textpath', 'title', 'tref', 'tspan', 'view', 'vkern']);\n\n  var svgFilters = freeze(['feBlend', 'feColorMatrix', 'feComponentTransfer', 'feComposite', 'feConvolveMatrix', 'feDiffuseLighting', 'feDisplacementMap', 'feDistantLight', 'feFlood', 'feFuncA', 'feFuncB', 'feFuncG', 'feFuncR', 'feGaussianBlur', 'feMerge', 'feMergeNode', 'feMorphology', 'feOffset', 'fePointLight', 'feSpecularLighting', 'feSpotLight', 'feTile', 'feTurbulence']);\n\n  // List of SVG elements that are disallowed by default.\n  // We still need to know them so that we can do namespace\n  // checks properly in case one wants to add them to\n  // allow-list.\n  var svgDisallowed = freeze(['animate', 'color-profile', 'cursor', 'discard', 'fedropshadow', 'feimage', 'font-face', 'font-face-format', 'font-face-name', 'font-face-src', 'font-face-uri', 'foreignobject', 'hatch', 'hatchpath', 'mesh', 'meshgradient', 'meshpatch', 'meshrow', 'missing-glyph', 'script', 'set', 'solidcolor', 'unknown', 'use']);\n\n  var mathMl = freeze(['math', 'menclose', 'merror', 'mfenced', 'mfrac', 'mglyph', 'mi', 'mlabeledtr', 'mmultiscripts', 'mn', 'mo', 'mover', 'mpadded', 'mphantom', 'mroot', 'mrow', 'ms', 'mspace', 'msqrt', 'mstyle', 'msub', 'msup', 'msubsup', 'mtable', 'mtd', 'mtext', 'mtr', 'munder', 'munderover']);\n\n  // Similarly to SVG, we want to know all MathML elements,\n  // even those that we disallow by default.\n  var mathMlDisallowed = freeze(['maction', 'maligngroup', 'malignmark', 'mlongdiv', 'mscarries', 'mscarry', 'msgroup', 'mstack', 'msline', 'msrow', 'semantics', 'annotation', 'annotation-xml', 'mprescripts', 'none']);\n\n  var text = freeze(['#text']);\n\n  var html$1 = freeze(['accept', 'action', 'align', 'alt', 'autocapitalize', 'autocomplete', 'autopictureinpicture', 'autoplay', 'background', 'bgcolor', 'border', 'capture', 'cellpadding', 'cellspacing', 'checked', 'cite', 'class', 'clear', 'color', 'cols', 'colspan', 'controls', 'controlslist', 'coords', 'crossorigin', 'datetime', 'decoding', 'default', 'dir', 'disabled', 'disablepictureinpicture', 'disableremoteplayback', 'download', 'draggable', 'enctype', 'enterkeyhint', 'face', 'for', 'headers', 'height', 'hidden', 'high', 'href', 'hreflang', 'id', 'inputmode', 'integrity', 'ismap', 'kind', 'label', 'lang', 'list', 'loading', 'loop', 'low', 'max', 'maxlength', 'media', 'method', 'min', 'minlength', 'multiple', 'muted', 'name', 'noshade', 'novalidate', 'nowrap', 'open', 'optimum', 'pattern', 'placeholder', 'playsinline', 'poster', 'preload', 'pubdate', 'radiogroup', 'readonly', 'rel', 'required', 'rev', 'reversed', 'role', 'rows', 'rowspan', 'spellcheck', 'scope', 'selected', 'shape', 'size', 'sizes', 'span', 'srclang', 'start', 'src', 'srcset', 'step', 'style', 'summary', 'tabindex', 'title', 'translate', 'type', 'usemap', 'valign', 'value', 'width', 'xmlns', 'slot']);\n\n  var svg$1 = freeze(['accent-height', 'accumulate', 'additive', 'alignment-baseline', 'ascent', 'attributename', 'attributetype', 'azimuth', 'basefrequency', 'baseline-shift', 'begin', 'bias', 'by', 'class', 'clip', 'clippathunits', 'clip-path', 'clip-rule', 'color', 'color-interpolation', 'color-interpolation-filters', 'color-profile', 'color-rendering', 'cx', 'cy', 'd', 'dx', 'dy', 'diffuseconstant', 'direction', 'display', 'divisor', 'dur', 'edgemode', 'elevation', 'end', 'fill', 'fill-opacity', 'fill-rule', 'filter', 'filterunits', 'flood-color', 'flood-opacity', 'font-family', 'font-size', 'font-size-adjust', 'font-stretch', 'font-style', 'font-variant', 'font-weight', 'fx', 'fy', 'g1', 'g2', 'glyph-name', 'glyphref', 'gradientunits', 'gradienttransform', 'height', 'href', 'id', 'image-rendering', 'in', 'in2', 'k', 'k1', 'k2', 'k3', 'k4', 'kerning', 'keypoints', 'keysplines', 'keytimes', 'lang', 'lengthadjust', 'letter-spacing', 'kernelmatrix', 'kernelunitlength', 'lighting-color', 'local', 'marker-end', 'marker-mid', 'marker-start', 'markerheight', 'markerunits', 'markerwidth', 'maskcontentunits', 'maskunits', 'max', 'mask', 'media', 'method', 'mode', 'min', 'name', 'numoctaves', 'offset', 'operator', 'opacity', 'order', 'orient', 'orientation', 'origin', 'overflow', 'paint-order', 'path', 'pathlength', 'patterncontentunits', 'patterntransform', 'patternunits', 'points', 'preservealpha', 'preserveaspectratio', 'primitiveunits', 'r', 'rx', 'ry', 'radius', 'refx', 'refy', 'repeatcount', 'repeatdur', 'restart', 'result', 'rotate', 'scale', 'seed', 'shape-rendering', 'specularconstant', 'specularexponent', 'spreadmethod', 'startoffset', 'stddeviation', 'stitchtiles', 'stop-color', 'stop-opacity', 'stroke-dasharray', 'stroke-dashoffset', 'stroke-linecap', 'stroke-linejoin', 'stroke-miterlimit', 'stroke-opacity', 'stroke', 'stroke-width', 'style', 'surfacescale', 'systemlanguage', 'tabindex', 'targetx', 'targety', 'transform', 'text-anchor', 'text-decoration', 'text-rendering', 'textlength', 'type', 'u1', 'u2', 'unicode', 'values', 'viewbox', 'visibility', 'version', 'vert-adv-y', 'vert-origin-x', 'vert-origin-y', 'width', 'word-spacing', 'wrap', 'writing-mode', 'xchannelselector', 'ychannelselector', 'x', 'x1', 'x2', 'xmlns', 'y', 'y1', 'y2', 'z', 'zoomandpan']);\n\n  var mathMl$1 = freeze(['accent', 'accentunder', 'align', 'bevelled', 'close', 'columnsalign', 'columnlines', 'columnspan', 'denomalign', 'depth', 'dir', 'display', 'displaystyle', 'encoding', 'fence', 'frame', 'height', 'href', 'id', 'largeop', 'length', 'linethickness', 'lspace', 'lquote', 'mathbackground', 'mathcolor', 'mathsize', 'mathvariant', 'maxsize', 'minsize', 'movablelimits', 'notation', 'numalign', 'open', 'rowalign', 'rowlines', 'rowspacing', 'rowspan', 'rspace', 'rquote', 'scriptlevel', 'scriptminsize', 'scriptsizemultiplier', 'selection', 'separator', 'separators', 'stretchy', 'subscriptshift', 'supscriptshift', 'symmetric', 'voffset', 'width', 'xmlns']);\n\n  var xml = freeze(['xlink:href', 'xml:id', 'xlink:title', 'xml:space', 'xmlns:xlink']);\n\n  // eslint-disable-next-line unicorn/better-regex\n  var MUSTACHE_EXPR = seal(/\\{\\{[\\s\\S]*|[\\s\\S]*\\}\\}/gm); // Specify template detection regex for SAFE_FOR_TEMPLATES mode\n  var ERB_EXPR = seal(/<%[\\s\\S]*|[\\s\\S]*%>/gm);\n  var DATA_ATTR = seal(/^data-[\\-\\w.\\u00B7-\\uFFFF]/); // eslint-disable-line no-useless-escape\n  var ARIA_ATTR = seal(/^aria-[\\-\\w]+$/); // eslint-disable-line no-useless-escape\n  var IS_ALLOWED_URI = seal(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\\-]+(?:[^a-z+.\\-:]|$))/i // eslint-disable-line no-useless-escape\n  );\n  var IS_SCRIPT_OR_DATA = seal(/^(?:\\w+script|data):/i);\n  var ATTR_WHITESPACE = seal(/[\\u0000-\\u0020\\u00A0\\u1680\\u180E\\u2000-\\u2029\\u205F\\u3000]/g // eslint-disable-line no-control-regex\n  );\n\n  var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n  function _toConsumableArray$1(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\n  var getGlobal = function getGlobal() {\n    return typeof window === 'undefined' ? null : window;\n  };\n\n  /**\n   * Creates a no-op policy for internal use only.\n   * Don't export this function outside this module!\n   * @param {?TrustedTypePolicyFactory} trustedTypes The policy factory.\n   * @param {Document} document The document object (to determine policy name suffix)\n   * @return {?TrustedTypePolicy} The policy created (or null, if Trusted Types\n   * are not supported).\n   */\n  var _createTrustedTypesPolicy = function _createTrustedTypesPolicy(trustedTypes, document) {\n    if ((typeof trustedTypes === 'undefined' ? 'undefined' : _typeof(trustedTypes)) !== 'object' || typeof trustedTypes.createPolicy !== 'function') {\n      return null;\n    }\n\n    // Allow the callers to control the unique policy name\n    // by adding a data-tt-policy-suffix to the script element with the DOMPurify.\n    // Policy creation with duplicate names throws in Trusted Types.\n    var suffix = null;\n    var ATTR_NAME = 'data-tt-policy-suffix';\n    if (document.currentScript && document.currentScript.hasAttribute(ATTR_NAME)) {\n      suffix = document.currentScript.getAttribute(ATTR_NAME);\n    }\n\n    var policyName = 'dompurify' + (suffix ? '#' + suffix : '');\n\n    try {\n      return trustedTypes.createPolicy(policyName, {\n        createHTML: function createHTML(html$$1) {\n          return html$$1;\n        }\n      });\n    } catch (_) {\n      // Policy creation failed (most likely another DOMPurify script has\n      // already run). Skip creating the policy, as this will only cause errors\n      // if TT are enforced.\n      console.warn('TrustedTypes policy ' + policyName + ' could not be created.');\n      return null;\n    }\n  };\n\n  function createDOMPurify() {\n    var window = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : getGlobal();\n\n    var DOMPurify = function DOMPurify(root) {\n      return createDOMPurify(root);\n    };\n\n    /**\n     * Version label, exposed for easier checks\n     * if DOMPurify is up to date or not\n     */\n    DOMPurify.version = '2.3.0';\n\n    /**\n     * Array of elements that DOMPurify removed during sanitation.\n     * Empty if nothing was removed.\n     */\n    DOMPurify.removed = [];\n\n    if (!window || !window.document || window.document.nodeType !== 9) {\n      // Not running in a browser, provide a factory function\n      // so that you can pass your own Window\n      DOMPurify.isSupported = false;\n\n      return DOMPurify;\n    }\n\n    var originalDocument = window.document;\n\n    var document = window.document;\n    var DocumentFragment = window.DocumentFragment,\n        HTMLTemplateElement = window.HTMLTemplateElement,\n        Node = window.Node,\n        Element = window.Element,\n        NodeFilter = window.NodeFilter,\n        _window$NamedNodeMap = window.NamedNodeMap,\n        NamedNodeMap = _window$NamedNodeMap === undefined ? window.NamedNodeMap || window.MozNamedAttrMap : _window$NamedNodeMap,\n        Text = window.Text,\n        Comment = window.Comment,\n        DOMParser = window.DOMParser,\n        trustedTypes = window.trustedTypes;\n\n\n    var ElementPrototype = Element.prototype;\n\n    var cloneNode = lookupGetter(ElementPrototype, 'cloneNode');\n    var getNextSibling = lookupGetter(ElementPrototype, 'nextSibling');\n    var getChildNodes = lookupGetter(ElementPrototype, 'childNodes');\n    var getParentNode = lookupGetter(ElementPrototype, 'parentNode');\n\n    // As per issue #47, the web-components registry is inherited by a\n    // new document created via createHTMLDocument. As per the spec\n    // (http://w3c.github.io/webcomponents/spec/custom/#creating-and-passing-registries)\n    // a new empty registry is used when creating a template contents owner\n    // document, so we use that as our parent document to ensure nothing\n    // is inherited.\n    if (typeof HTMLTemplateElement === 'function') {\n      var template = document.createElement('template');\n      if (template.content && template.content.ownerDocument) {\n        document = template.content.ownerDocument;\n      }\n    }\n\n    var trustedTypesPolicy = _createTrustedTypesPolicy(trustedTypes, originalDocument);\n    var emptyHTML = trustedTypesPolicy && RETURN_TRUSTED_TYPE ? trustedTypesPolicy.createHTML('') : '';\n\n    var _document = document,\n        implementation = _document.implementation,\n        createNodeIterator = _document.createNodeIterator,\n        createDocumentFragment = _document.createDocumentFragment,\n        getElementsByTagName = _document.getElementsByTagName;\n    var importNode = originalDocument.importNode;\n\n\n    var documentMode = {};\n    try {\n      documentMode = clone(document).documentMode ? document.documentMode : {};\n    } catch (_) {}\n\n    var hooks = {};\n\n    /**\n     * Expose whether this browser supports running the full DOMPurify.\n     */\n    DOMPurify.isSupported = typeof getParentNode === 'function' && implementation && typeof implementation.createHTMLDocument !== 'undefined' && documentMode !== 9;\n\n    var MUSTACHE_EXPR$$1 = MUSTACHE_EXPR,\n        ERB_EXPR$$1 = ERB_EXPR,\n        DATA_ATTR$$1 = DATA_ATTR,\n        ARIA_ATTR$$1 = ARIA_ATTR,\n        IS_SCRIPT_OR_DATA$$1 = IS_SCRIPT_OR_DATA,\n        ATTR_WHITESPACE$$1 = ATTR_WHITESPACE;\n    var IS_ALLOWED_URI$$1 = IS_ALLOWED_URI;\n\n    /**\n     * We consider the elements and attributes below to be safe. Ideally\n     * don't add any new ones but feel free to remove unwanted ones.\n     */\n\n    /* allowed element names */\n\n    var ALLOWED_TAGS = null;\n    var DEFAULT_ALLOWED_TAGS = addToSet({}, [].concat(_toConsumableArray$1(html), _toConsumableArray$1(svg), _toConsumableArray$1(svgFilters), _toConsumableArray$1(mathMl), _toConsumableArray$1(text)));\n\n    /* Allowed attribute names */\n    var ALLOWED_ATTR = null;\n    var DEFAULT_ALLOWED_ATTR = addToSet({}, [].concat(_toConsumableArray$1(html$1), _toConsumableArray$1(svg$1), _toConsumableArray$1(mathMl$1), _toConsumableArray$1(xml)));\n\n    /* Explicitly forbidden tags (overrides ALLOWED_TAGS/ADD_TAGS) */\n    var FORBID_TAGS = null;\n\n    /* Explicitly forbidden attributes (overrides ALLOWED_ATTR/ADD_ATTR) */\n    var FORBID_ATTR = null;\n\n    /* Decide if ARIA attributes are okay */\n    var ALLOW_ARIA_ATTR = true;\n\n    /* Decide if custom data attributes are okay */\n    var ALLOW_DATA_ATTR = true;\n\n    /* Decide if unknown protocols are okay */\n    var ALLOW_UNKNOWN_PROTOCOLS = false;\n\n    /* Output should be safe for common template engines.\n     * This means, DOMPurify removes data attributes, mustaches and ERB\n     */\n    var SAFE_FOR_TEMPLATES = false;\n\n    /* Decide if document with <html>... should be returned */\n    var WHOLE_DOCUMENT = false;\n\n    /* Track whether config is already set on this instance of DOMPurify. */\n    var SET_CONFIG = false;\n\n    /* Decide if all elements (e.g. style, script) must be children of\n     * document.body. By default, browsers might move them to document.head */\n    var FORCE_BODY = false;\n\n    /* Decide if a DOM `HTMLBodyElement` should be returned, instead of a html\n     * string (or a TrustedHTML object if Trusted Types are supported).\n     * If `WHOLE_DOCUMENT` is enabled a `HTMLHtmlElement` will be returned instead\n     */\n    var RETURN_DOM = false;\n\n    /* Decide if a DOM `DocumentFragment` should be returned, instead of a html\n     * string  (or a TrustedHTML object if Trusted Types are supported) */\n    var RETURN_DOM_FRAGMENT = false;\n\n    /* If `RETURN_DOM` or `RETURN_DOM_FRAGMENT` is enabled, decide if the returned DOM\n     * `Node` is imported into the current `Document`. If this flag is not enabled the\n     * `Node` will belong (its ownerDocument) to a fresh `HTMLDocument`, created by\n     * DOMPurify.\n     *\n     * This defaults to `true` starting DOMPurify 2.2.0. Note that setting it to `false`\n     * might cause XSS from attacks hidden in closed shadowroots in case the browser\n     * supports Declarative Shadow: DOM https://web.dev/declarative-shadow-dom/\n     */\n    var RETURN_DOM_IMPORT = true;\n\n    /* Try to return a Trusted Type object instead of a string, return a string in\n     * case Trusted Types are not supported  */\n    var RETURN_TRUSTED_TYPE = false;\n\n    /* Output should be free from DOM clobbering attacks? */\n    var SANITIZE_DOM = true;\n\n    /* Keep element content when removing element? */\n    var KEEP_CONTENT = true;\n\n    /* If a `Node` is passed to sanitize(), then performs sanitization in-place instead\n     * of importing it into a new Document and returning a sanitized copy */\n    var IN_PLACE = false;\n\n    /* Allow usage of profiles like html, svg and mathMl */\n    var USE_PROFILES = {};\n\n    /* Tags to ignore content of when KEEP_CONTENT is true */\n    var FORBID_CONTENTS = addToSet({}, ['annotation-xml', 'audio', 'colgroup', 'desc', 'foreignobject', 'head', 'iframe', 'math', 'mi', 'mn', 'mo', 'ms', 'mtext', 'noembed', 'noframes', 'noscript', 'plaintext', 'script', 'style', 'svg', 'template', 'thead', 'title', 'video', 'xmp']);\n\n    /* Tags that are safe for data: URIs */\n    var DATA_URI_TAGS = null;\n    var DEFAULT_DATA_URI_TAGS = addToSet({}, ['audio', 'video', 'img', 'source', 'image', 'track']);\n\n    /* Attributes safe for values like \"javascript:\" */\n    var URI_SAFE_ATTRIBUTES = null;\n    var DEFAULT_URI_SAFE_ATTRIBUTES = addToSet({}, ['alt', 'class', 'for', 'id', 'label', 'name', 'pattern', 'placeholder', 'summary', 'title', 'value', 'style', 'xmlns']);\n\n    var MATHML_NAMESPACE = 'http://www.w3.org/1998/Math/MathML';\n    var SVG_NAMESPACE = 'http://www.w3.org/2000/svg';\n    var HTML_NAMESPACE = 'http://www.w3.org/1999/xhtml';\n    /* Document namespace */\n    var NAMESPACE = HTML_NAMESPACE;\n    var IS_EMPTY_INPUT = false;\n\n    /* Keep a reference to config to pass to hooks */\n    var CONFIG = null;\n\n    /* Ideally, do not touch anything below this line */\n    /* ______________________________________________ */\n\n    var formElement = document.createElement('form');\n\n    /**\n     * _parseConfig\n     *\n     * @param  {Object} cfg optional config literal\n     */\n    // eslint-disable-next-line complexity\n    var _parseConfig = function _parseConfig(cfg) {\n      if (CONFIG && CONFIG === cfg) {\n        return;\n      }\n\n      /* Shield configuration object from tampering */\n      if (!cfg || (typeof cfg === 'undefined' ? 'undefined' : _typeof(cfg)) !== 'object') {\n        cfg = {};\n      }\n\n      /* Shield configuration object from prototype pollution */\n      cfg = clone(cfg);\n\n      /* Set configuration parameters */\n      ALLOWED_TAGS = 'ALLOWED_TAGS' in cfg ? addToSet({}, cfg.ALLOWED_TAGS) : DEFAULT_ALLOWED_TAGS;\n      ALLOWED_ATTR = 'ALLOWED_ATTR' in cfg ? addToSet({}, cfg.ALLOWED_ATTR) : DEFAULT_ALLOWED_ATTR;\n      URI_SAFE_ATTRIBUTES = 'ADD_URI_SAFE_ATTR' in cfg ? addToSet(clone(DEFAULT_URI_SAFE_ATTRIBUTES), cfg.ADD_URI_SAFE_ATTR) : DEFAULT_URI_SAFE_ATTRIBUTES;\n      DATA_URI_TAGS = 'ADD_DATA_URI_TAGS' in cfg ? addToSet(clone(DEFAULT_DATA_URI_TAGS), cfg.ADD_DATA_URI_TAGS) : DEFAULT_DATA_URI_TAGS;\n      FORBID_TAGS = 'FORBID_TAGS' in cfg ? addToSet({}, cfg.FORBID_TAGS) : {};\n      FORBID_ATTR = 'FORBID_ATTR' in cfg ? addToSet({}, cfg.FORBID_ATTR) : {};\n      USE_PROFILES = 'USE_PROFILES' in cfg ? cfg.USE_PROFILES : false;\n      ALLOW_ARIA_ATTR = cfg.ALLOW_ARIA_ATTR !== false; // Default true\n      ALLOW_DATA_ATTR = cfg.ALLOW_DATA_ATTR !== false; // Default true\n      ALLOW_UNKNOWN_PROTOCOLS = cfg.ALLOW_UNKNOWN_PROTOCOLS || false; // Default false\n      SAFE_FOR_TEMPLATES = cfg.SAFE_FOR_TEMPLATES || false; // Default false\n      WHOLE_DOCUMENT = cfg.WHOLE_DOCUMENT || false; // Default false\n      RETURN_DOM = cfg.RETURN_DOM || false; // Default false\n      RETURN_DOM_FRAGMENT = cfg.RETURN_DOM_FRAGMENT || false; // Default false\n      RETURN_DOM_IMPORT = cfg.RETURN_DOM_IMPORT !== false; // Default true\n      RETURN_TRUSTED_TYPE = cfg.RETURN_TRUSTED_TYPE || false; // Default false\n      FORCE_BODY = cfg.FORCE_BODY || false; // Default false\n      SANITIZE_DOM = cfg.SANITIZE_DOM !== false; // Default true\n      KEEP_CONTENT = cfg.KEEP_CONTENT !== false; // Default true\n      IN_PLACE = cfg.IN_PLACE || false; // Default false\n      IS_ALLOWED_URI$$1 = cfg.ALLOWED_URI_REGEXP || IS_ALLOWED_URI$$1;\n      NAMESPACE = cfg.NAMESPACE || HTML_NAMESPACE;\n      if (SAFE_FOR_TEMPLATES) {\n        ALLOW_DATA_ATTR = false;\n      }\n\n      if (RETURN_DOM_FRAGMENT) {\n        RETURN_DOM = true;\n      }\n\n      /* Parse profile info */\n      if (USE_PROFILES) {\n        ALLOWED_TAGS = addToSet({}, [].concat(_toConsumableArray$1(text)));\n        ALLOWED_ATTR = [];\n        if (USE_PROFILES.html === true) {\n          addToSet(ALLOWED_TAGS, html);\n          addToSet(ALLOWED_ATTR, html$1);\n        }\n\n        if (USE_PROFILES.svg === true) {\n          addToSet(ALLOWED_TAGS, svg);\n          addToSet(ALLOWED_ATTR, svg$1);\n          addToSet(ALLOWED_ATTR, xml);\n        }\n\n        if (USE_PROFILES.svgFilters === true) {\n          addToSet(ALLOWED_TAGS, svgFilters);\n          addToSet(ALLOWED_ATTR, svg$1);\n          addToSet(ALLOWED_ATTR, xml);\n        }\n\n        if (USE_PROFILES.mathMl === true) {\n          addToSet(ALLOWED_TAGS, mathMl);\n          addToSet(ALLOWED_ATTR, mathMl$1);\n          addToSet(ALLOWED_ATTR, xml);\n        }\n      }\n\n      /* Merge configuration parameters */\n      if (cfg.ADD_TAGS) {\n        if (ALLOWED_TAGS === DEFAULT_ALLOWED_TAGS) {\n          ALLOWED_TAGS = clone(ALLOWED_TAGS);\n        }\n\n        addToSet(ALLOWED_TAGS, cfg.ADD_TAGS);\n      }\n\n      if (cfg.ADD_ATTR) {\n        if (ALLOWED_ATTR === DEFAULT_ALLOWED_ATTR) {\n          ALLOWED_ATTR = clone(ALLOWED_ATTR);\n        }\n\n        addToSet(ALLOWED_ATTR, cfg.ADD_ATTR);\n      }\n\n      if (cfg.ADD_URI_SAFE_ATTR) {\n        addToSet(URI_SAFE_ATTRIBUTES, cfg.ADD_URI_SAFE_ATTR);\n      }\n\n      /* Add #text in case KEEP_CONTENT is set to true */\n      if (KEEP_CONTENT) {\n        ALLOWED_TAGS['#text'] = true;\n      }\n\n      /* Add html, head and body to ALLOWED_TAGS in case WHOLE_DOCUMENT is true */\n      if (WHOLE_DOCUMENT) {\n        addToSet(ALLOWED_TAGS, ['html', 'head', 'body']);\n      }\n\n      /* Add tbody to ALLOWED_TAGS in case tables are permitted, see #286, #365 */\n      if (ALLOWED_TAGS.table) {\n        addToSet(ALLOWED_TAGS, ['tbody']);\n        delete FORBID_TAGS.tbody;\n      }\n\n      // Prevent further manipulation of configuration.\n      // Not available in IE8, Safari 5, etc.\n      if (freeze) {\n        freeze(cfg);\n      }\n\n      CONFIG = cfg;\n    };\n\n    var MATHML_TEXT_INTEGRATION_POINTS = addToSet({}, ['mi', 'mo', 'mn', 'ms', 'mtext']);\n\n    var HTML_INTEGRATION_POINTS = addToSet({}, ['foreignobject', 'desc', 'title', 'annotation-xml']);\n\n    /* Keep track of all possible SVG and MathML tags\n     * so that we can perform the namespace checks\n     * correctly. */\n    var ALL_SVG_TAGS = addToSet({}, svg);\n    addToSet(ALL_SVG_TAGS, svgFilters);\n    addToSet(ALL_SVG_TAGS, svgDisallowed);\n\n    var ALL_MATHML_TAGS = addToSet({}, mathMl);\n    addToSet(ALL_MATHML_TAGS, mathMlDisallowed);\n\n    /**\n     *\n     *\n     * @param  {Element} element a DOM element whose namespace is being checked\n     * @returns {boolean} Return false if the element has a\n     *  namespace that a spec-compliant parser would never\n     *  return. Return true otherwise.\n     */\n    var _checkValidNamespace = function _checkValidNamespace(element) {\n      var parent = getParentNode(element);\n\n      // In JSDOM, if we're inside shadow DOM, then parentNode\n      // can be null. We just simulate parent in this case.\n      if (!parent || !parent.tagName) {\n        parent = {\n          namespaceURI: HTML_NAMESPACE,\n          tagName: 'template'\n        };\n      }\n\n      var tagName = stringToLowerCase(element.tagName);\n      var parentTagName = stringToLowerCase(parent.tagName);\n\n      if (element.namespaceURI === SVG_NAMESPACE) {\n        // The only way to switch from HTML namespace to SVG\n        // is via <svg>. If it happens via any other tag, then\n        // it should be killed.\n        if (parent.namespaceURI === HTML_NAMESPACE) {\n          return tagName === 'svg';\n        }\n\n        // The only way to switch from MathML to SVG is via\n        // svg if parent is either <annotation-xml> or MathML\n        // text integration points.\n        if (parent.namespaceURI === MATHML_NAMESPACE) {\n          return tagName === 'svg' && (parentTagName === 'annotation-xml' || MATHML_TEXT_INTEGRATION_POINTS[parentTagName]);\n        }\n\n        // We only allow elements that are defined in SVG\n        // spec. All others are disallowed in SVG namespace.\n        return Boolean(ALL_SVG_TAGS[tagName]);\n      }\n\n      if (element.namespaceURI === MATHML_NAMESPACE) {\n        // The only way to switch from HTML namespace to MathML\n        // is via <math>. If it happens via any other tag, then\n        // it should be killed.\n        if (parent.namespaceURI === HTML_NAMESPACE) {\n          return tagName === 'math';\n        }\n\n        // The only way to switch from SVG to MathML is via\n        // <math> and HTML integration points\n        if (parent.namespaceURI === SVG_NAMESPACE) {\n          return tagName === 'math' && HTML_INTEGRATION_POINTS[parentTagName];\n        }\n\n        // We only allow elements that are defined in MathML\n        // spec. All others are disallowed in MathML namespace.\n        return Boolean(ALL_MATHML_TAGS[tagName]);\n      }\n\n      if (element.namespaceURI === HTML_NAMESPACE) {\n        // The only way to switch from SVG to HTML is via\n        // HTML integration points, and from MathML to HTML\n        // is via MathML text integration points\n        if (parent.namespaceURI === SVG_NAMESPACE && !HTML_INTEGRATION_POINTS[parentTagName]) {\n          return false;\n        }\n\n        if (parent.namespaceURI === MATHML_NAMESPACE && !MATHML_TEXT_INTEGRATION_POINTS[parentTagName]) {\n          return false;\n        }\n\n        // Certain elements are allowed in both SVG and HTML\n        // namespace. We need to specify them explicitly\n        // so that they don't get erronously deleted from\n        // HTML namespace.\n        var commonSvgAndHTMLElements = addToSet({}, ['title', 'style', 'font', 'a', 'script']);\n\n        // We disallow tags that are specific for MathML\n        // or SVG and should never appear in HTML namespace\n        return !ALL_MATHML_TAGS[tagName] && (commonSvgAndHTMLElements[tagName] || !ALL_SVG_TAGS[tagName]);\n      }\n\n      // The code should never reach this place (this means\n      // that the element somehow got namespace that is not\n      // HTML, SVG or MathML). Return false just in case.\n      return false;\n    };\n\n    /**\n     * _forceRemove\n     *\n     * @param  {Node} node a DOM node\n     */\n    var _forceRemove = function _forceRemove(node) {\n      arrayPush(DOMPurify.removed, { element: node });\n      try {\n        // eslint-disable-next-line unicorn/prefer-dom-node-remove\n        node.parentNode.removeChild(node);\n      } catch (_) {\n        try {\n          node.outerHTML = emptyHTML;\n        } catch (_) {\n          node.remove();\n        }\n      }\n    };\n\n    /**\n     * _removeAttribute\n     *\n     * @param  {String} name an Attribute name\n     * @param  {Node} node a DOM node\n     */\n    var _removeAttribute = function _removeAttribute(name, node) {\n      try {\n        arrayPush(DOMPurify.removed, {\n          attribute: node.getAttributeNode(name),\n          from: node\n        });\n      } catch (_) {\n        arrayPush(DOMPurify.removed, {\n          attribute: null,\n          from: node\n        });\n      }\n\n      node.removeAttribute(name);\n\n      // We void attribute values for unremovable \"is\"\" attributes\n      if (name === 'is' && !ALLOWED_ATTR[name]) {\n        if (RETURN_DOM || RETURN_DOM_FRAGMENT) {\n          try {\n            _forceRemove(node);\n          } catch (_) {}\n        } else {\n          try {\n            node.setAttribute(name, '');\n          } catch (_) {}\n        }\n      }\n    };\n\n    /**\n     * _initDocument\n     *\n     * @param  {String} dirty a string of dirty markup\n     * @return {Document} a DOM, filled with the dirty markup\n     */\n    var _initDocument = function _initDocument(dirty) {\n      /* Create a HTML document */\n      var doc = void 0;\n      var leadingWhitespace = void 0;\n\n      if (FORCE_BODY) {\n        dirty = '<remove></remove>' + dirty;\n      } else {\n        /* If FORCE_BODY isn't used, leading whitespace needs to be preserved manually */\n        var matches = stringMatch(dirty, /^[\\r\\n\\t ]+/);\n        leadingWhitespace = matches && matches[0];\n      }\n\n      var dirtyPayload = trustedTypesPolicy ? trustedTypesPolicy.createHTML(dirty) : dirty;\n      /*\n       * Use the DOMParser API by default, fallback later if needs be\n       * DOMParser not work for svg when has multiple root element.\n       */\n      if (NAMESPACE === HTML_NAMESPACE) {\n        try {\n          doc = new DOMParser().parseFromString(dirtyPayload, 'text/html');\n        } catch (_) {}\n      }\n\n      /* Use createHTMLDocument in case DOMParser is not available */\n      if (!doc || !doc.documentElement) {\n        doc = implementation.createDocument(NAMESPACE, 'template', null);\n        try {\n          doc.documentElement.innerHTML = IS_EMPTY_INPUT ? '' : dirtyPayload;\n        } catch (_) {\n          // Syntax error if dirtyPayload is invalid xml\n        }\n      }\n\n      var body = doc.body || doc.documentElement;\n\n      if (dirty && leadingWhitespace) {\n        body.insertBefore(document.createTextNode(leadingWhitespace), body.childNodes[0] || null);\n      }\n\n      /* Work on whole document or just its body */\n      if (NAMESPACE === HTML_NAMESPACE) {\n        return getElementsByTagName.call(doc, WHOLE_DOCUMENT ? 'html' : 'body')[0];\n      }\n\n      return WHOLE_DOCUMENT ? doc.documentElement : body;\n    };\n\n    /**\n     * _createIterator\n     *\n     * @param  {Document} root document/fragment to create iterator for\n     * @return {Iterator} iterator instance\n     */\n    var _createIterator = function _createIterator(root) {\n      return createNodeIterator.call(root.ownerDocument || root, root, NodeFilter.SHOW_ELEMENT | NodeFilter.SHOW_COMMENT | NodeFilter.SHOW_TEXT, null, false);\n    };\n\n    /**\n     * _isClobbered\n     *\n     * @param  {Node} elm element to check for clobbering attacks\n     * @return {Boolean} true if clobbered, false if safe\n     */\n    var _isClobbered = function _isClobbered(elm) {\n      if (elm instanceof Text || elm instanceof Comment) {\n        return false;\n      }\n\n      if (typeof elm.nodeName !== 'string' || typeof elm.textContent !== 'string' || typeof elm.removeChild !== 'function' || !(elm.attributes instanceof NamedNodeMap) || typeof elm.removeAttribute !== 'function' || typeof elm.setAttribute !== 'function' || typeof elm.namespaceURI !== 'string' || typeof elm.insertBefore !== 'function') {\n        return true;\n      }\n\n      return false;\n    };\n\n    /**\n     * _isNode\n     *\n     * @param  {Node} obj object to check whether it's a DOM node\n     * @return {Boolean} true is object is a DOM node\n     */\n    var _isNode = function _isNode(object) {\n      return (typeof Node === 'undefined' ? 'undefined' : _typeof(Node)) === 'object' ? object instanceof Node : object && (typeof object === 'undefined' ? 'undefined' : _typeof(object)) === 'object' && typeof object.nodeType === 'number' && typeof object.nodeName === 'string';\n    };\n\n    /**\n     * _executeHook\n     * Execute user configurable hooks\n     *\n     * @param  {String} entryPoint  Name of the hook's entry point\n     * @param  {Node} currentNode node to work on with the hook\n     * @param  {Object} data additional hook parameters\n     */\n    var _executeHook = function _executeHook(entryPoint, currentNode, data) {\n      if (!hooks[entryPoint]) {\n        return;\n      }\n\n      arrayForEach(hooks[entryPoint], function (hook) {\n        hook.call(DOMPurify, currentNode, data, CONFIG);\n      });\n    };\n\n    /**\n     * _sanitizeElements\n     *\n     * @protect nodeName\n     * @protect textContent\n     * @protect removeChild\n     *\n     * @param   {Node} currentNode to check for permission to exist\n     * @return  {Boolean} true if node was killed, false if left alive\n     */\n    var _sanitizeElements = function _sanitizeElements(currentNode) {\n      var content = void 0;\n\n      /* Execute a hook if present */\n      _executeHook('beforeSanitizeElements', currentNode, null);\n\n      /* Check if element is clobbered or can clobber */\n      if (_isClobbered(currentNode)) {\n        _forceRemove(currentNode);\n        return true;\n      }\n\n      /* Check if tagname contains Unicode */\n      if (stringMatch(currentNode.nodeName, /[\\u0080-\\uFFFF]/)) {\n        _forceRemove(currentNode);\n        return true;\n      }\n\n      /* Now let's check the element's type and name */\n      var tagName = stringToLowerCase(currentNode.nodeName);\n\n      /* Execute a hook if present */\n      _executeHook('uponSanitizeElement', currentNode, {\n        tagName: tagName,\n        allowedTags: ALLOWED_TAGS\n      });\n\n      /* Detect mXSS attempts abusing namespace confusion */\n      if (!_isNode(currentNode.firstElementChild) && (!_isNode(currentNode.content) || !_isNode(currentNode.content.firstElementChild)) && regExpTest(/<[/\\w]/g, currentNode.innerHTML) && regExpTest(/<[/\\w]/g, currentNode.textContent)) {\n        _forceRemove(currentNode);\n        return true;\n      }\n\n      /* Remove element if anything forbids its presence */\n      if (!ALLOWED_TAGS[tagName] || FORBID_TAGS[tagName]) {\n        /* Keep content except for bad-listed elements */\n        if (KEEP_CONTENT && !FORBID_CONTENTS[tagName]) {\n          var parentNode = getParentNode(currentNode) || currentNode.parentNode;\n          var childNodes = getChildNodes(currentNode) || currentNode.childNodes;\n\n          if (childNodes && parentNode) {\n            var childCount = childNodes.length;\n\n            for (var i = childCount - 1; i >= 0; --i) {\n              parentNode.insertBefore(cloneNode(childNodes[i], true), getNextSibling(currentNode));\n            }\n          }\n        }\n\n        _forceRemove(currentNode);\n        return true;\n      }\n\n      /* Check whether element has a valid namespace */\n      if (currentNode instanceof Element && !_checkValidNamespace(currentNode)) {\n        _forceRemove(currentNode);\n        return true;\n      }\n\n      if ((tagName === 'noscript' || tagName === 'noembed') && regExpTest(/<\\/no(script|embed)/i, currentNode.innerHTML)) {\n        _forceRemove(currentNode);\n        return true;\n      }\n\n      /* Sanitize element content to be template-safe */\n      if (SAFE_FOR_TEMPLATES && currentNode.nodeType === 3) {\n        /* Get the element's text content */\n        content = currentNode.textContent;\n        content = stringReplace(content, MUSTACHE_EXPR$$1, ' ');\n        content = stringReplace(content, ERB_EXPR$$1, ' ');\n        if (currentNode.textContent !== content) {\n          arrayPush(DOMPurify.removed, { element: currentNode.cloneNode() });\n          currentNode.textContent = content;\n        }\n      }\n\n      /* Execute a hook if present */\n      _executeHook('afterSanitizeElements', currentNode, null);\n\n      return false;\n    };\n\n    /**\n     * _isValidAttribute\n     *\n     * @param  {string} lcTag Lowercase tag name of containing element.\n     * @param  {string} lcName Lowercase attribute name.\n     * @param  {string} value Attribute value.\n     * @return {Boolean} Returns true if `value` is valid, otherwise false.\n     */\n    // eslint-disable-next-line complexity\n    var _isValidAttribute = function _isValidAttribute(lcTag, lcName, value) {\n      /* Make sure attribute cannot clobber */\n      if (SANITIZE_DOM && (lcName === 'id' || lcName === 'name') && (value in document || value in formElement)) {\n        return false;\n      }\n\n      /* Allow valid data-* attributes: At least one character after \"-\"\n          (https://html.spec.whatwg.org/multipage/dom.html#embedding-custom-non-visible-data-with-the-data-*-attributes)\n          XML-compatible (https://html.spec.whatwg.org/multipage/infrastructure.html#xml-compatible and http://www.w3.org/TR/xml/#d0e804)\n          We don't need to check the value; it's always URI safe. */\n      if (ALLOW_DATA_ATTR && !FORBID_ATTR[lcName] && regExpTest(DATA_ATTR$$1, lcName)) ; else if (ALLOW_ARIA_ATTR && regExpTest(ARIA_ATTR$$1, lcName)) ; else if (!ALLOWED_ATTR[lcName] || FORBID_ATTR[lcName]) {\n        return false;\n\n        /* Check value is safe. First, is attr inert? If so, is safe */\n      } else if (URI_SAFE_ATTRIBUTES[lcName]) ; else if (regExpTest(IS_ALLOWED_URI$$1, stringReplace(value, ATTR_WHITESPACE$$1, ''))) ; else if ((lcName === 'src' || lcName === 'xlink:href' || lcName === 'href') && lcTag !== 'script' && stringIndexOf(value, 'data:') === 0 && DATA_URI_TAGS[lcTag]) ; else if (ALLOW_UNKNOWN_PROTOCOLS && !regExpTest(IS_SCRIPT_OR_DATA$$1, stringReplace(value, ATTR_WHITESPACE$$1, ''))) ; else if (!value) ; else {\n        return false;\n      }\n\n      return true;\n    };\n\n    /**\n     * _sanitizeAttributes\n     *\n     * @protect attributes\n     * @protect nodeName\n     * @protect removeAttribute\n     * @protect setAttribute\n     *\n     * @param  {Node} currentNode to sanitize\n     */\n    var _sanitizeAttributes = function _sanitizeAttributes(currentNode) {\n      var attr = void 0;\n      var value = void 0;\n      var lcName = void 0;\n      var l = void 0;\n      /* Execute a hook if present */\n      _executeHook('beforeSanitizeAttributes', currentNode, null);\n\n      var attributes = currentNode.attributes;\n\n      /* Check if we have attributes; if not we might have a text node */\n\n      if (!attributes) {\n        return;\n      }\n\n      var hookEvent = {\n        attrName: '',\n        attrValue: '',\n        keepAttr: true,\n        allowedAttributes: ALLOWED_ATTR\n      };\n      l = attributes.length;\n\n      /* Go backwards over all attributes; safely remove bad ones */\n      while (l--) {\n        attr = attributes[l];\n        var _attr = attr,\n            name = _attr.name,\n            namespaceURI = _attr.namespaceURI;\n\n        value = stringTrim(attr.value);\n        lcName = stringToLowerCase(name);\n\n        /* Execute a hook if present */\n        hookEvent.attrName = lcName;\n        hookEvent.attrValue = value;\n        hookEvent.keepAttr = true;\n        hookEvent.forceKeepAttr = undefined; // Allows developers to see this is a property they can set\n        _executeHook('uponSanitizeAttribute', currentNode, hookEvent);\n        value = hookEvent.attrValue;\n        /* Did the hooks approve of the attribute? */\n        if (hookEvent.forceKeepAttr) {\n          continue;\n        }\n\n        /* Remove attribute */\n        _removeAttribute(name, currentNode);\n\n        /* Did the hooks approve of the attribute? */\n        if (!hookEvent.keepAttr) {\n          continue;\n        }\n\n        /* Work around a security issue in jQuery 3.0 */\n        if (regExpTest(/\\/>/i, value)) {\n          _removeAttribute(name, currentNode);\n          continue;\n        }\n\n        /* Sanitize attribute content to be template-safe */\n        if (SAFE_FOR_TEMPLATES) {\n          value = stringReplace(value, MUSTACHE_EXPR$$1, ' ');\n          value = stringReplace(value, ERB_EXPR$$1, ' ');\n        }\n\n        /* Is `value` valid for this attribute? */\n        var lcTag = currentNode.nodeName.toLowerCase();\n        if (!_isValidAttribute(lcTag, lcName, value)) {\n          continue;\n        }\n\n        /* Handle invalid data-* attribute set by try-catching it */\n        try {\n          if (namespaceURI) {\n            currentNode.setAttributeNS(namespaceURI, name, value);\n          } else {\n            /* Fallback to setAttribute() for browser-unrecognized namespaces e.g. \"x-schema\". */\n            currentNode.setAttribute(name, value);\n          }\n\n          arrayPop(DOMPurify.removed);\n        } catch (_) {}\n      }\n\n      /* Execute a hook if present */\n      _executeHook('afterSanitizeAttributes', currentNode, null);\n    };\n\n    /**\n     * _sanitizeShadowDOM\n     *\n     * @param  {DocumentFragment} fragment to iterate over recursively\n     */\n    var _sanitizeShadowDOM = function _sanitizeShadowDOM(fragment) {\n      var shadowNode = void 0;\n      var shadowIterator = _createIterator(fragment);\n\n      /* Execute a hook if present */\n      _executeHook('beforeSanitizeShadowDOM', fragment, null);\n\n      while (shadowNode = shadowIterator.nextNode()) {\n        /* Execute a hook if present */\n        _executeHook('uponSanitizeShadowNode', shadowNode, null);\n\n        /* Sanitize tags and elements */\n        if (_sanitizeElements(shadowNode)) {\n          continue;\n        }\n\n        /* Deep shadow DOM detected */\n        if (shadowNode.content instanceof DocumentFragment) {\n          _sanitizeShadowDOM(shadowNode.content);\n        }\n\n        /* Check attributes, sanitize if necessary */\n        _sanitizeAttributes(shadowNode);\n      }\n\n      /* Execute a hook if present */\n      _executeHook('afterSanitizeShadowDOM', fragment, null);\n    };\n\n    /**\n     * Sanitize\n     * Public method providing core sanitation functionality\n     *\n     * @param {String|Node} dirty string or DOM node\n     * @param {Object} configuration object\n     */\n    // eslint-disable-next-line complexity\n    DOMPurify.sanitize = function (dirty, cfg) {\n      var body = void 0;\n      var importedNode = void 0;\n      var currentNode = void 0;\n      var oldNode = void 0;\n      var returnNode = void 0;\n      /* Make sure we have a string to sanitize.\n        DO NOT return early, as this will return the wrong type if\n        the user has requested a DOM object rather than a string */\n      IS_EMPTY_INPUT = !dirty;\n      if (IS_EMPTY_INPUT) {\n        dirty = '<!-->';\n      }\n\n      /* Stringify, in case dirty is an object */\n      if (typeof dirty !== 'string' && !_isNode(dirty)) {\n        // eslint-disable-next-line no-negated-condition\n        if (typeof dirty.toString !== 'function') {\n          throw typeErrorCreate('toString is not a function');\n        } else {\n          dirty = dirty.toString();\n          if (typeof dirty !== 'string') {\n            throw typeErrorCreate('dirty is not a string, aborting');\n          }\n        }\n      }\n\n      /* Check we can run. Otherwise fall back or ignore */\n      if (!DOMPurify.isSupported) {\n        if (_typeof(window.toStaticHTML) === 'object' || typeof window.toStaticHTML === 'function') {\n          if (typeof dirty === 'string') {\n            return window.toStaticHTML(dirty);\n          }\n\n          if (_isNode(dirty)) {\n            return window.toStaticHTML(dirty.outerHTML);\n          }\n        }\n\n        return dirty;\n      }\n\n      /* Assign config vars */\n      if (!SET_CONFIG) {\n        _parseConfig(cfg);\n      }\n\n      /* Clean up removed elements */\n      DOMPurify.removed = [];\n\n      /* Check if dirty is correctly typed for IN_PLACE */\n      if (typeof dirty === 'string') {\n        IN_PLACE = false;\n      }\n\n      if (IN_PLACE) ; else if (dirty instanceof Node) {\n        /* If dirty is a DOM element, append to an empty document to avoid\n           elements being stripped by the parser */\n        body = _initDocument('<!---->');\n        importedNode = body.ownerDocument.importNode(dirty, true);\n        if (importedNode.nodeType === 1 && importedNode.nodeName === 'BODY') {\n          /* Node is already a body, use as is */\n          body = importedNode;\n        } else if (importedNode.nodeName === 'HTML') {\n          body = importedNode;\n        } else {\n          // eslint-disable-next-line unicorn/prefer-dom-node-append\n          body.appendChild(importedNode);\n        }\n      } else {\n        /* Exit directly if we have nothing to do */\n        if (!RETURN_DOM && !SAFE_FOR_TEMPLATES && !WHOLE_DOCUMENT &&\n        // eslint-disable-next-line unicorn/prefer-includes\n        dirty.indexOf('<') === -1) {\n          return trustedTypesPolicy && RETURN_TRUSTED_TYPE ? trustedTypesPolicy.createHTML(dirty) : dirty;\n        }\n\n        /* Initialize the document to work on */\n        body = _initDocument(dirty);\n\n        /* Check we have a DOM node from the data */\n        if (!body) {\n          return RETURN_DOM ? null : emptyHTML;\n        }\n      }\n\n      /* Remove first element node (ours) if FORCE_BODY is set */\n      if (body && FORCE_BODY) {\n        _forceRemove(body.firstChild);\n      }\n\n      /* Get node iterator */\n      var nodeIterator = _createIterator(IN_PLACE ? dirty : body);\n\n      /* Now start iterating over the created document */\n      while (currentNode = nodeIterator.nextNode()) {\n        /* Fix IE's strange behavior with manipulated textNodes #89 */\n        if (currentNode.nodeType === 3 && currentNode === oldNode) {\n          continue;\n        }\n\n        /* Sanitize tags and elements */\n        if (_sanitizeElements(currentNode)) {\n          continue;\n        }\n\n        /* Shadow DOM detected, sanitize it */\n        if (currentNode.content instanceof DocumentFragment) {\n          _sanitizeShadowDOM(currentNode.content);\n        }\n\n        /* Check attributes, sanitize if necessary */\n        _sanitizeAttributes(currentNode);\n\n        oldNode = currentNode;\n      }\n\n      oldNode = null;\n\n      /* If we sanitized `dirty` in-place, return it. */\n      if (IN_PLACE) {\n        return dirty;\n      }\n\n      /* Return sanitized string or DOM */\n      if (RETURN_DOM) {\n        if (RETURN_DOM_FRAGMENT) {\n          returnNode = createDocumentFragment.call(body.ownerDocument);\n\n          while (body.firstChild) {\n            // eslint-disable-next-line unicorn/prefer-dom-node-append\n            returnNode.appendChild(body.firstChild);\n          }\n        } else {\n          returnNode = body;\n        }\n\n        if (RETURN_DOM_IMPORT) {\n          /*\n            AdoptNode() is not used because internal state is not reset\n            (e.g. the past names map of a HTMLFormElement), this is safe\n            in theory but we would rather not risk another attack vector.\n            The state that is cloned by importNode() is explicitly defined\n            by the specs.\n          */\n          returnNode = importNode.call(originalDocument, returnNode, true);\n        }\n\n        return returnNode;\n      }\n\n      var serializedHTML = WHOLE_DOCUMENT ? body.outerHTML : body.innerHTML;\n\n      /* Sanitize final string template-safe */\n      if (SAFE_FOR_TEMPLATES) {\n        serializedHTML = stringReplace(serializedHTML, MUSTACHE_EXPR$$1, ' ');\n        serializedHTML = stringReplace(serializedHTML, ERB_EXPR$$1, ' ');\n      }\n\n      return trustedTypesPolicy && RETURN_TRUSTED_TYPE ? trustedTypesPolicy.createHTML(serializedHTML) : serializedHTML;\n    };\n\n    /**\n     * Public method to set the configuration once\n     * setConfig\n     *\n     * @param {Object} cfg configuration object\n     */\n    DOMPurify.setConfig = function (cfg) {\n      _parseConfig(cfg);\n      SET_CONFIG = true;\n    };\n\n    /**\n     * Public method to remove the configuration\n     * clearConfig\n     *\n     */\n    DOMPurify.clearConfig = function () {\n      CONFIG = null;\n      SET_CONFIG = false;\n    };\n\n    /**\n     * Public method to check if an attribute value is valid.\n     * Uses last set config, if any. Otherwise, uses config defaults.\n     * isValidAttribute\n     *\n     * @param  {string} tag Tag name of containing element.\n     * @param  {string} attr Attribute name.\n     * @param  {string} value Attribute value.\n     * @return {Boolean} Returns true if `value` is valid. Otherwise, returns false.\n     */\n    DOMPurify.isValidAttribute = function (tag, attr, value) {\n      /* Initialize shared config vars if necessary. */\n      if (!CONFIG) {\n        _parseConfig({});\n      }\n\n      var lcTag = stringToLowerCase(tag);\n      var lcName = stringToLowerCase(attr);\n      return _isValidAttribute(lcTag, lcName, value);\n    };\n\n    /**\n     * AddHook\n     * Public method to add DOMPurify hooks\n     *\n     * @param {String} entryPoint entry point for the hook to add\n     * @param {Function} hookFunction function to execute\n     */\n    DOMPurify.addHook = function (entryPoint, hookFunction) {\n      if (typeof hookFunction !== 'function') {\n        return;\n      }\n\n      hooks[entryPoint] = hooks[entryPoint] || [];\n      arrayPush(hooks[entryPoint], hookFunction);\n    };\n\n    /**\n     * RemoveHook\n     * Public method to remove a DOMPurify hook at a given entryPoint\n     * (pops it from the stack of hooks if more are present)\n     *\n     * @param {String} entryPoint entry point for the hook to remove\n     */\n    DOMPurify.removeHook = function (entryPoint) {\n      if (hooks[entryPoint]) {\n        arrayPop(hooks[entryPoint]);\n      }\n    };\n\n    /**\n     * RemoveHooks\n     * Public method to remove all DOMPurify hooks at a given entryPoint\n     *\n     * @param  {String} entryPoint entry point for the hooks to remove\n     */\n    DOMPurify.removeHooks = function (entryPoint) {\n      if (hooks[entryPoint]) {\n        hooks[entryPoint] = [];\n      }\n    };\n\n    /**\n     * RemoveAllHooks\n     * Public method to remove all DOMPurify hooks\n     *\n     */\n    DOMPurify.removeAllHooks = function () {\n      hooks = {};\n    };\n\n    return DOMPurify;\n  }\n\n  var purify = createDOMPurify();\n\n  return purify;\n\n}));\n//# sourceMappingURL=purify.js.map\n","var content = require(\"!!../../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../../node_modules/sass-loader/dist/cjs.js!./InsertEntityPane.scss\");\nvar loader = require(\"/home/runner/work/roosterjs/roosterjs/node_modules/@microsoft/loader-load-themed-styles/node_modules/@microsoft/load-themed-styles/lib/index.js\");\n\nif(typeof content === \"string\") content = [[module.id, content]];\n\n// add the styles to the DOM\nfor (var i = 0; i < content.length; i++) loader.loadStyles(content[i][1], false);\n\nif(content.locals) module.exports = content.locals;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"._3w8Hon1pjNxrKF0BoO_5HY{outline:none;resize:none;min-height:40px;width:90%}\", \"\"]);\n// Exports\nexports.locals = {\n\t\"textarea\": \"_3w8Hon1pjNxrKF0BoO_5HY\"\n};\nmodule.exports = exports;\n","import * as React from 'react';\nimport ApiPaneProps from '../ApiPaneProps';\nimport { LinkData } from 'roosterjs-editor-types';\nimport { matchLink } from 'roosterjs-editor-dom';\n\ninterface MatchLinkState {\n    linkData: LinkData;\n}\n\nexport default class MatchLinkPane extends React.Component<ApiPaneProps, MatchLinkState> {\n    private url = React.createRef<HTMLInputElement>();\n\n    constructor(props: ApiPaneProps) {\n        super(props);\n        this.state = { linkData: undefined };\n    }\n\n    render() {\n        let { scheme, originalUrl, normalizedUrl } = this.state.linkData || ({} as LinkData);\n        return (\n            <>\n                <div>\n                    Url: <input type=\"input\" ref={this.url} />{' '}\n                    <button onClick={this.onMatchLink}>Match Link</button>\n                </div>\n                {this.state.linkData === null ? (\n                    <div>Not matched</div>\n                ) : (\n                    <>\n                        <div>Schema: {scheme || ''}</div>\n                        <div>Original Url: {originalUrl || ''}</div>\n                        <div>Normalized Url: {normalizedUrl || ''}</div>\n                    </>\n                )}\n            </>\n        );\n    }\n\n    private onMatchLink = () => {\n        let match = matchLink(this.url.current.value);\n        this.setState({\n            linkData: match,\n        });\n    };\n}\n","import * as React from 'react';\nimport ApiPaneProps from '../ApiPaneProps';\nimport { HtmlSanitizer } from 'roosterjs-editor-dom';\nimport { trustedHTMLHandler } from '../../../../utils/trustedHTMLHandler';\n\nconst styles = require('./SanitizerPane.scss');\n\nexport default class SanitizerPane extends React.Component<ApiPaneProps, {}> {\n    private source = React.createRef<HTMLTextAreaElement>();\n    private result = React.createRef<HTMLTextAreaElement>();\n    private sanitizer = new HtmlSanitizer();\n\n    render() {\n        return (\n            <>\n                <h3>Input</h3>\n                <textarea className={styles.textarea} ref={this.source} />\n                <div>\n                    <button className={styles.button} onClick={this.inline}>\n                        Inline CSS\n                    </button>\n                    <button className={styles.button} onClick={this.sanitize}>\n                        Sanitize\n                    </button>\n                </div>\n                <h3>Result</h3>\n                <textarea className={styles.textarea} ref={this.result} />\n            </>\n        );\n    }\n\n    private inline = () => {\n        const doc = this.getDOMDocument();\n\n        if (doc?.body) {\n            this.sanitizer.convertGlobalCssToInlineCss(doc);\n            this.result.current.value = doc.body.innerHTML;\n        }\n    };\n\n    private sanitize = () => {\n        const doc = this.getDOMDocument();\n\n        if (doc?.body) {\n            this.sanitizer.sanitize(doc.body.firstChild);\n            this.result.current.value = doc.body.innerHTML;\n        }\n    };\n\n    private getDOMDocument(): Document {\n        const parser = new DOMParser();\n        const html = trustedHTMLHandler(this.source.current.value) || '';\n        const doc = parser.parseFromString(html, 'text/html');\n        return doc;\n    }\n}\n","var content = require(\"!!../../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../../node_modules/sass-loader/dist/cjs.js!./SanitizerPane.scss\");\nvar loader = require(\"/home/runner/work/roosterjs/roosterjs/node_modules/@microsoft/loader-load-themed-styles/node_modules/@microsoft/load-themed-styles/lib/index.js\");\n\nif(typeof content === \"string\") content = [[module.id, content]];\n\n// add the styles to the DOM\nfor (var i = 0; i < content.length; i++) loader.loadStyles(content[i][1], false);\n\nif(content.locals) module.exports = content.locals;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".z_Kjs2wjz5dWJBsuOtSYN{outline:none;resize:none;min-height:100px;height:300px}._1jzoyXnrzDHw1HFmidMaWi{margin:10px;height:35px;width:80px;flex:0 0 auto}\", \"\"]);\n// Exports\nexports.locals = {\n\t\"textarea\": \"z_Kjs2wjz5dWJBsuOtSYN\",\n\t\"button\": \"_1jzoyXnrzDHw1HFmidMaWi\"\n};\nmodule.exports = exports;\n","import * as React from 'react';\nimport ApiPaneProps from '../ApiPaneProps';\nimport VListItem from 'roosterjs-editor-dom/lib/list/VListItem';\nimport { createVListFromRegion, VList } from 'roosterjs-editor-dom';\nimport { IEditor, ListType, PositionType } from 'roosterjs-editor-types';\n\ninterface VListPaneState {\n    vlist: VList;\n}\n\nconst ListTypeToString = {\n    [ListType.None]: 'None',\n    [ListType.Ordered]: 'Ordered',\n    [ListType.Unordered]: 'Unordered',\n};\n\nfunction VListItemPane(props: { editor: IEditor; item: VListItem; onChange: () => void }) {\n    const { item, editor, onChange } = props;\n    const type = item.getListType();\n\n    const onMouseOver = React.useCallback(() => {\n        const node = item.getNode();\n        editor.select(node);\n    }, [props.item, editor]);\n\n    const onOrdered = React.useCallback(() => {\n        item.changeListType(ListType.Ordered);\n        onChange();\n    }, [props.item, editor]);\n    const onUnrdered = React.useCallback(() => {\n        item.changeListType(ListType.Unordered);\n        onChange();\n    }, [props.item, editor]);\n    const onIndent = React.useCallback(() => {\n        item.indent();\n        onChange();\n    }, [props.item, editor]);\n    const onOutdent = React.useCallback(() => {\n        item.outdent();\n        onChange();\n    }, [props.item, editor]);\n\n    return (\n        <div>\n            <button onClick={onOrdered}>1.</button>\n            <button onClick={onUnrdered}>*</button>\n            <button onClick={onOutdent}>&lt;-</button>\n            <button onClick={onIndent}>-&gt;</button>\n            <span\n                style={{\n                    marginLeft: item.getLevel() * 20 + 'px',\n                    display: 'inline-block',\n                    cursor: 'pointer',\n                }}\n                onMouseOver={onMouseOver}>\n                {ListTypeToString[type]}\n            </span>\n        </div>\n    );\n}\n\nexport default class VListPane extends React.Component<ApiPaneProps, VListPaneState> {\n    constructor(props: ApiPaneProps) {\n        super(props);\n        this.state = {\n            vlist: null,\n        };\n    }\n\n    render() {\n        const editor = this.props.getEditor();\n        return (\n            <>\n                <button onClick={this.createVList}>Create VList from cursor</button>\n                {this.state.vlist && (\n                    <>\n                        {this.state.vlist.items.map(item => (\n                            <VListItemPane item={item} editor={editor} onChange={this.onChange} />\n                        ))}\n                        <button onClick={this.onWriteback}>Write back</button>\n                    </>\n                )}\n            </>\n        );\n    }\n\n    private createVList = () => {\n        const editor = this.props.getEditor();\n        const node = editor.getElementAtCursor();\n        const region = editor.getSelectedRegions()[0];\n        const vlist = node\n            ? createVListFromRegion(region, false /*includingSiblingList*/, node)\n            : null;\n\n        this.setState({\n            vlist: vlist,\n        });\n    };\n\n    private onWriteback = () => {\n        const editor = this.props.getEditor();\n        editor.addUndoSnapshot(() => {\n            this.state.vlist?.writeBack();\n            editor.focus();\n            editor.select(this.state.vlist.items[0]?.getNode(), PositionType.Begin);\n        });\n        this.createVList();\n    };\n\n    private onChange = () => {\n        this.forceUpdate();\n    };\n}\n","import * as Color from 'color';\nimport * as React from 'react';\nimport ApiPaneProps from '../ApiPaneProps';\nimport ColorPicker from '../../../colorPicker/ColorPicker';\nimport { editTable, formatTable } from 'roosterjs-editor-api';\nimport { getTagOfNode, VTable } from 'roosterjs-editor-dom';\nimport {\n    IEditor,\n    PositionType,\n    TableBorderFormat,\n    TableFormat,\n    TableOperation,\n    VCell,\n} from 'roosterjs-editor-types';\n\nconst PREDEFINED_STYLES: Record<string, (color?: string, lightColor?: string) => TableFormat> = {\n    DEFAULT: (color, lightColor) =>\n        createTableFormat(\n            color /**topBorder */,\n            color /**bottomBorder */,\n            color /** verticalColors*/,\n            false /** bandedRows */,\n            false /** bandedColumns */,\n            false /** headerRow */,\n            false /** firstColumn */,\n            TableBorderFormat.DEFAULT /** tableBorderFormat */,\n            null /** bgColorEven */,\n            lightColor /** bgColorOdd */,\n            color /** headerRowColor */\n        ),\n    DEFAULT_WITH_BACKGROUND_COLOR: (color, lightColor) =>\n        createTableFormat(\n            color /**topBorder */,\n            color /**bottomBorder */,\n            color /** verticalColors*/,\n            false /** bandedRows */,\n            false /** bandedColumns */,\n            false /** headerRow */,\n            false /** firstColumn */,\n            TableBorderFormat.DEFAULT /** tableBorderFormat */,\n            null /** bgColorEven */,\n            lightColor /** bgColorOdd */,\n            color /** headerRowColor */\n        ),\n    GRID_WITHOUT_BORDER: (color, lightColor) =>\n        createTableFormat(\n            color /**topBorder */,\n            color /**bottomBorder */,\n            color /** verticalColors*/,\n            true /** bandedRows */,\n            false /** bandedColumns */,\n            false /** headerRow */,\n            false /** firstColumn */,\n            TableBorderFormat.NO_SIDE_BORDERS /** tableBorderFormat */,\n            null /** bgColorEven */,\n            lightColor /** bgColorOdd */,\n            color /** headerRowColor */\n        ),\n    LIST: (color, lightColor) =>\n        createTableFormat(\n            color /**topBorder */,\n            color /**bottomBorder */,\n            null /** verticalColors*/,\n            false /** bandedRows */,\n            false /** bandedColumns */,\n            false /** headerRow */,\n            false /** firstColumn */,\n            TableBorderFormat.DEFAULT /** tableBorderFormat */,\n            null /** bgColorEven */,\n            lightColor /** bgColorOdd */,\n            color /** headerRowColor */\n        ),\n    BANDED_ROWS_FIRST_COLUMN_NO_BORDER: (color, lightColor) =>\n        createTableFormat(\n            color /**topBorder */,\n            color /**bottomBorder */,\n            color /** verticalColors*/,\n            false /** bandedRows */,\n            false /** bandedColumns */,\n            false /** headerRow */,\n            false /** firstColumn */,\n            TableBorderFormat.FIRST_COLUMN_HEADER_EXTERNAL /** tableBorderFormat */,\n            null /** bgColorEven */,\n            lightColor /** bgColorOdd */,\n            color /** headerRowColor */\n        ),\n    EXTERNAL: (color, lightColor) =>\n        createTableFormat(\n            color /**topBorder */,\n            color /**bottomBorder */,\n            color /** verticalColors*/,\n            false /** bandedRows */,\n            false /** bandedColumns */,\n            false /** headerRow */,\n            false /** firstColumn */,\n            TableBorderFormat.LIST_WITH_SIDE_BORDERS /** tableBorderFormat */,\n            null /** bgColorEven */,\n            lightColor /** bgColorOdd */,\n            color /** headerRowColor */\n        ),\n    NO_HEADER_VERTICAL: (color, lightColor) =>\n        createTableFormat(\n            color /**topBorder */,\n            color /**bottomBorder */,\n            color /** verticalColors*/,\n            false /** bandedRows */,\n            false /** bandedColumns */,\n            false /** headerRow */,\n            false /** firstColumn */,\n            TableBorderFormat.NO_HEADER_BORDERS /** tableBorderFormat */,\n            null /** bgColorEven */,\n            lightColor /** bgColorOdd */,\n            color /** headerRowColor */\n        ),\n    ESPECIAL_TYPE_1: (color, lightColor) =>\n        createTableFormat(\n            color /**topBorder */,\n            color /**bottomBorder */,\n            color /** verticalColors*/,\n            false /** bandedRows */,\n            false /** bandedColumns */,\n            false /** headerRow */,\n            false /** firstColumn */,\n            TableBorderFormat.ESPECIAL_TYPE_1 /** tableBorderFormat */,\n            null /** bgColorEven */,\n            lightColor /** bgColorOdd */,\n            color /** headerRowColor */\n        ),\n    ESPECIAL_TYPE_2: (color, lightColor) =>\n        createTableFormat(\n            color /**topBorder */,\n            color /**bottomBorder */,\n            color /** verticalColors*/,\n            false /** bandedRows */,\n            false /** bandedColumns */,\n            false /** headerRow */,\n            false /** firstColumn */,\n            TableBorderFormat.ESPECIAL_TYPE_2 /** tableBorderFormat */,\n            null /** bgColorEven */,\n            lightColor /** bgColorOdd */,\n            color /** headerRowColor */\n        ),\n    ESPECIAL_TYPE_3: (color, lightColor) =>\n        createTableFormat(\n            color /**topBorder */,\n            color /**bottomBorder */,\n            color /** verticalColors*/,\n            false /** bandedRows */,\n            false /** bandedColumns */,\n            false /** headerRow */,\n            false /** firstColumn */,\n            TableBorderFormat.ESPECIAL_TYPE_3 /** tableBorderFormat */,\n            lightColor /** bgColorEven */,\n            null /** bgColorOdd */,\n            color /** headerRowColor */\n        ),\n    CLEAR: (color, lightColor) =>\n        createTableFormat(\n            color /**topBorder */,\n            color /**bottomBorder */,\n            color /** verticalColors*/,\n            false /** bandedRows */,\n            false /** bandedColumns */,\n            false /** headerRow */,\n            false /** firstColumn */,\n            TableBorderFormat.ESPECIAL_TYPE_3 /** tableBorderFormat */,\n            lightColor /** bgColorEven */,\n            null /** bgColorOdd */,\n            color /** headerRowColor */\n        ),\n};\n\nconst PREDEFINED_STYLES_KEYS = {\n    default: 'DEFAULT',\n    gridWithoutBorder: 'GRID_WITHOUT_BORDER',\n    list: 'LIST',\n    bandedRowsFirstColumnNoBorder: 'BANDED_ROWS_FIRST_COLUMN_NO_BORDER',\n    defaultWithBackgroundColor: 'DEFAULT_WITH_BACKGROUND_COLOR',\n    external: 'EXTERNAL',\n    noHeader: 'NO_HEADER_VERTICAL',\n    especialType1: 'ESPECIAL_TYPE_1',\n    especialType2: 'ESPECIAL_TYPE_2',\n    especialType3: 'ESPECIAL_TYPE_3',\n    clear: 'CLEAR',\n};\n\nconst TABLE_COLORS: Record<string, string> = {\n    transparent: 'transparent',\n    black: '#000000',\n    blue: '#0C64C0',\n    orange: '#DE6A19',\n    yellow: '#DCBE22',\n    red: '#ED5C57',\n    purple: '#B36AE2',\n    green: '#0C882A',\n};\n\ninterface VTablePaneState {\n    vtable: VTable;\n}\n\nconst styles = require('./VTablePane.scss');\n\nfunction TableCell(props: {\n    cell: VCell;\n    editor: IEditor;\n    isCurrent: boolean;\n    onClickCell: (td: HTMLTableCellElement) => void;\n}) {\n    const { cell, editor, isCurrent } = props;\n    const onMouseOver = React.useCallback(() => {\n        editor.select(cell.td);\n    }, [cell, editor]);\n    const onClick = React.useCallback(() => {\n        if (cell.td) {\n            props.onClickCell(cell.td);\n        }\n    }, [cell, editor]);\n\n    const text = cell.td\n        ? getTagOfNode(cell.td)\n        : cell.spanAbove && cell.spanLeft\n        ? '↖'\n        : cell.spanAbove\n        ? '↑'\n        : cell.spanLeft\n        ? '←'\n        : '';\n\n    return (\n        <div\n            style={{ cursor: 'pointer', border: isCurrent ? 'solid 2px black' : '' }}\n            onMouseOver={onMouseOver}\n            onClick={onClick}>\n            {text}\n        </div>\n    );\n}\n\nexport default class VTablePane extends React.Component<ApiPaneProps, VTablePaneState> {\n    private bgColor = React.createRef<HTMLInputElement>();\n    private topBorderColor = React.createRef<HTMLInputElement>();\n    private bottomBorderColor = React.createRef<HTMLInputElement>();\n    private verticalBorderColor = React.createRef<HTMLInputElement>();\n\n    constructor(props: ApiPaneProps) {\n        super(props);\n        this.state = {\n            vtable: null,\n        };\n    }\n\n    render() {\n        const editor = this.props.getEditor();\n        const currentTd = this.state.vtable?.getCurrentTd();\n        return (\n            <>\n                <button onClick={this.createVTable}>Create VTable from cursor</button>\n                {this.state.vtable && (\n                    <>\n                        <table\n                            style={{\n                                border: 'solid 1px black',\n                            }}>\n                            <tbody>\n                                {this.state.vtable.cells.map((row, rowIndex) => (\n                                    <tr key={'row' + rowIndex}>\n                                        {row.map((cell, cellIndex) => (\n                                            <td key={'cell' + cellIndex}>\n                                                <TableCell\n                                                    cell={cell}\n                                                    editor={editor}\n                                                    isCurrent={currentTd == cell.td}\n                                                    onClickCell={this.onClickCell}\n                                                />\n                                            </td>\n                                        ))}\n                                    </tr>\n                                ))}\n                            </tbody>\n                        </table>\n                        <table>\n                            <tbody>\n                                <tr>\n                                    <th colSpan={2}>Edit Table</th>\n                                </tr>\n                                <tr>\n                                    <td>Insert</td>\n                                    <td>\n                                        {this.renderEditTableButton(\n                                            editor,\n                                            'Above',\n                                            TableOperation.InsertAbove\n                                        )}\n                                        {this.renderEditTableButton(\n                                            editor,\n                                            'Below',\n                                            TableOperation.InsertBelow\n                                        )}\n                                        {this.renderEditTableButton(\n                                            editor,\n                                            'Left',\n                                            TableOperation.InsertLeft\n                                        )}\n                                        {this.renderEditTableButton(\n                                            editor,\n                                            'Right',\n                                            TableOperation.InsertRight\n                                        )}\n                                    </td>\n                                </tr>\n                                <tr>\n                                    <td>Delete</td>\n                                    <td>\n                                        {this.renderEditTableButton(\n                                            editor,\n                                            'Table',\n                                            TableOperation.DeleteTable\n                                        )}\n                                        {this.renderEditTableButton(\n                                            editor,\n                                            'Column',\n                                            TableOperation.DeleteColumn\n                                        )}\n                                        {this.renderEditTableButton(\n                                            editor,\n                                            'Row',\n                                            TableOperation.DeleteRow\n                                        )}\n                                    </td>\n                                </tr>\n                                <tr>\n                                    <td>Merge</td>\n                                    <td>\n                                        {this.renderEditTableButton(\n                                            editor,\n                                            'Above',\n                                            TableOperation.MergeAbove\n                                        )}\n                                        {this.renderEditTableButton(\n                                            editor,\n                                            'Below',\n                                            TableOperation.MergeBelow\n                                        )}\n                                        {this.renderEditTableButton(\n                                            editor,\n                                            'Left',\n                                            TableOperation.MergeLeft\n                                        )}\n                                        {this.renderEditTableButton(\n                                            editor,\n                                            'Right',\n                                            TableOperation.MergeRight\n                                        )}\n                                    </td>\n                                </tr>\n                                <tr>\n                                    <td>Split</td>\n                                    <td>\n                                        {this.renderEditTableButton(\n                                            editor,\n                                            'Horizontally',\n                                            TableOperation.SplitHorizontally\n                                        )}\n                                        {this.renderEditTableButton(\n                                            editor,\n                                            'Vertically',\n                                            TableOperation.SplitVertically\n                                        )}\n                                    </td>\n                                </tr>\n                                <tr>\n                                    <td>Align</td>\n                                    <td>\n                                        {this.renderEditTableButton(\n                                            editor,\n                                            'Left',\n                                            TableOperation.AlignLeft\n                                        )}\n                                        {this.renderEditTableButton(\n                                            editor,\n                                            'Center',\n                                            TableOperation.AlignCenter\n                                        )}\n                                        {this.renderEditTableButton(\n                                            editor,\n                                            'Right',\n                                            TableOperation.AlignRight\n                                        )}\n                                    </td>\n                                </tr>\n                                <tr>\n                                    <td>Align Cell</td>\n                                    <td>\n                                        {this.renderEditTableButton(\n                                            editor,\n                                            'Left',\n                                            TableOperation.AlignCellLeft\n                                        )}\n                                        {this.renderEditTableButton(\n                                            editor,\n                                            'Center',\n                                            TableOperation.AlignCellCenter\n                                        )}\n                                        {this.renderEditTableButton(\n                                            editor,\n                                            'Right',\n                                            TableOperation.AlignCellRight\n                                        )}\n                                        {this.renderEditTableButton(\n                                            editor,\n                                            'Top',\n                                            TableOperation.AlignCellTop\n                                        )}\n                                        {this.renderEditTableButton(\n                                            editor,\n                                            'Middle',\n                                            TableOperation.AlignCellMiddle\n                                        )}\n                                        {this.renderEditTableButton(\n                                            editor,\n                                            'Bottom',\n                                            TableOperation.AlignCellBottom\n                                        )}\n                                    </td>\n                                </tr>\n                                <tr>\n                                    <th colSpan={2}>Format Table</th>\n                                </tr>\n                                <tr>\n                                    <td>State:</td>\n                                    <td>\n                                        {this.renderSetHeaderRowButton(editor)}\n                                        {this.renderSetFirstColumnButton(editor)}\n                                        {this.renderSetBandedColumnButton(editor)}\n                                        {this.renderSetBandedRowButton(editor)}\n                                    </td>\n                                </tr>\n                                <tr>\n                                    <td>Predefined:</td>\n                                    <td>\n                                        {this.renderFormatTableButton(\n                                            'Default',\n                                            PREDEFINED_STYLES[PREDEFINED_STYLES_KEYS.default](\n                                                TABLE_COLORS.blue,\n                                                `${TABLE_COLORS.blue}20`\n                                            ),\n                                            editor\n                                        )}\n\n                                        {this.renderFormatTableButton(\n                                            'Grid without border',\n                                            PREDEFINED_STYLES[\n                                                PREDEFINED_STYLES_KEYS.gridWithoutBorder\n                                            ](TABLE_COLORS.blue, `${TABLE_COLORS.blue}20`),\n                                            editor\n                                        )}\n\n                                        {this.renderFormatTableButton(\n                                            'List',\n                                            PREDEFINED_STYLES[PREDEFINED_STYLES_KEYS.list](\n                                                TABLE_COLORS.blue,\n                                                `${TABLE_COLORS.blue}20`\n                                            ),\n                                            editor\n                                        )}\n                                        {this.renderFormatTableButton(\n                                            'Banded Row and first column and no border',\n                                            PREDEFINED_STYLES[\n                                                PREDEFINED_STYLES_KEYS.bandedRowsFirstColumnNoBorder\n                                            ](TABLE_COLORS.blue, `${TABLE_COLORS.blue}20`),\n                                            editor\n                                        )}\n                                        {this.renderFormatTableButton(\n                                            'Default with background color',\n                                            PREDEFINED_STYLES[\n                                                PREDEFINED_STYLES_KEYS.defaultWithBackgroundColor\n                                            ](TABLE_COLORS.blue, `${TABLE_COLORS.blue}20`),\n                                            editor\n                                        )}\n                                        {this.renderFormatTableButton(\n                                            'External',\n                                            PREDEFINED_STYLES[PREDEFINED_STYLES_KEYS.external](\n                                                TABLE_COLORS.blue,\n                                                `${TABLE_COLORS.blue}20`\n                                            ),\n                                            editor\n                                        )}\n                                        {this.renderFormatTableButton(\n                                            'No Header Vertical',\n                                            PREDEFINED_STYLES[PREDEFINED_STYLES_KEYS.noHeader](\n                                                TABLE_COLORS.blue,\n                                                `${TABLE_COLORS.blue}20`\n                                            ),\n                                            editor\n                                        )}\n                                        {this.renderFormatTableButton(\n                                            'Especial type 1',\n                                            PREDEFINED_STYLES[PREDEFINED_STYLES_KEYS.especialType1](\n                                                TABLE_COLORS.blue,\n                                                `${TABLE_COLORS.blue}20`\n                                            ),\n                                            editor\n                                        )}\n                                        {this.renderFormatTableButton(\n                                            'Especial type 2',\n                                            PREDEFINED_STYLES[PREDEFINED_STYLES_KEYS.especialType2](\n                                                TABLE_COLORS.blue,\n                                                `${TABLE_COLORS.blue}20`\n                                            ),\n                                            editor\n                                        )}\n                                        {this.renderFormatTableButton(\n                                            'Especial type 3',\n                                            PREDEFINED_STYLES[PREDEFINED_STYLES_KEYS.especialType3](\n                                                TABLE_COLORS.blue,\n                                                `${TABLE_COLORS.blue}20`\n                                            ),\n                                            editor\n                                        )}\n                                        {this.renderFormatTableButton(\n                                            'Clear',\n                                            PREDEFINED_STYLES[PREDEFINED_STYLES_KEYS.clear](\n                                                TABLE_COLORS.transparent\n                                            ),\n                                            editor\n                                        )}\n                                    </td>\n                                </tr>\n                                <tr>\n                                    <th colSpan={2} className={styles.buttonRow}>\n                                        Customized Colors:\n                                    </th>\n                                </tr>\n                                <CustomizeFormatRow\n                                    text=\"BackgroundColor\"\n                                    inputRef={this.bgColor}\n                                />\n                                <CustomizeFormatRow\n                                    text=\"Top border\"\n                                    inputRef={this.topBorderColor}\n                                />\n                                <CustomizeFormatRow\n                                    text=\"Bottom border\"\n                                    inputRef={this.bottomBorderColor}\n                                />\n                                <CustomizeFormatRow\n                                    text=\"Vertical border\"\n                                    inputRef={this.verticalBorderColor}\n                                />\n\n                                <tr>\n                                    <td\n                                        colSpan={2}\n                                        className={styles.buttonRow}\n                                        onClick={this.onCustomizeFormat}>\n                                        <button className={styles.button}>Apply Format</button>\n                                    </td>\n                                </tr>\n\n                                <tr>\n                                    <th colSpan={2} className={styles.buttonRow}>\n                                        Style Info:\n                                    </th>\n                                </tr>\n                            </tbody>\n                        </table>\n                        <button onClick={this.onWriteBack}>Write back</button>\n                    </>\n                )}\n            </>\n        );\n    }\n\n    private createVTable = () => {\n        const editor = this.props.getEditor();\n        const node = editor.getElementAtCursor('td,th') as HTMLTableCellElement;\n        const vtable = node ? new VTable(node) : null;\n\n        this.setState({ vtable });\n    };\n\n    private onClickCell = (td: HTMLTableCellElement) => {\n        const vtable = new VTable(td);\n        this.setState({ vtable });\n    };\n\n    private renderEditTableButton(\n        editor: IEditor,\n        text: string,\n        operation: TableOperation\n    ): JSX.Element {\n        return (\n            <button\n                className={styles.button}\n                onClick={() => {\n                    editTable(editor, operation);\n                    this.forceUpdate();\n                }}>\n                {text}\n            </button>\n        );\n    }\n\n    private renderSetHeaderRowButton(editor: IEditor): JSX.Element {\n        return (\n            <button\n                className={styles.button}\n                onClick={() => {\n                    formatTable(\n                        editor,\n                        setHeaderRow(this.state.vtable.table),\n                        this.state.vtable.table\n                    );\n\n                    this.forceUpdate();\n                }}>\n                Header Row\n            </button>\n        );\n    }\n\n    private renderSetFirstColumnButton(editor: IEditor): JSX.Element {\n        return (\n            <button\n                className={styles.button}\n                onClick={() => {\n                    formatTable(\n                        editor,\n                        setFirstColumn(this.state.vtable.table),\n                        this.state.vtable.table\n                    );\n\n                    this.forceUpdate();\n                }}>\n                First Column\n            </button>\n        );\n    }\n    private renderSetBandedColumnButton(editor: IEditor): JSX.Element {\n        return (\n            <button\n                className={styles.button}\n                onClick={() => {\n                    formatTable(\n                        editor,\n                        setBandedColumn(this.state.vtable.table),\n                        this.state.vtable.table\n                    );\n\n                    this.forceUpdate();\n                }}>\n                Banded Column\n            </button>\n        );\n    }\n    private renderSetBandedRowButton(editor: IEditor): JSX.Element {\n        return (\n            <button\n                className={styles.button}\n                onClick={() => {\n                    formatTable(\n                        editor,\n                        setBandedRow(this.state.vtable.table),\n                        this.state.vtable.table\n                    );\n\n                    this.forceUpdate();\n                }}>\n                Banded Row\n            </button>\n        );\n    }\n\n    private renderFormatTableButton(\n        text: string,\n        format: TableFormat,\n        editor: IEditor\n    ): JSX.Element {\n        return (\n            <button\n                className={styles.button}\n                onClick={() => {\n                    formatTable(editor, format, this.state.vtable.table);\n                    this.forceUpdate();\n                }}>\n                {text}\n            </button>\n        );\n    }\n\n    private onCustomizeFormat = () => {\n        const format = createTableFormat(\n            this.topBorderColor.current.value || undefined,\n            this.bottomBorderColor.current.value || undefined,\n            this.verticalBorderColor.current.value || undefined\n        );\n\n        this.state.vtable.applyFormat(format);\n        this.forceUpdate();\n    };\n\n    private onWriteBack = () => {\n        const editor = this.props.getEditor();\n        editor.addUndoSnapshot(() => {\n            const vtable = this.state.vtable;\n            const td = vtable.getCurrentTd();\n            vtable.writeBack();\n            editor.focus();\n            editor.select(td, PositionType.Begin);\n        });\n        this.createVTable();\n    };\n}\n\nfunction createTableFormat(\n    topBorder?: string,\n    bottomBorder?: string,\n    verticalBorder?: string,\n    bandedRows?: boolean,\n    bandedColumns?: boolean,\n    headerRow?: boolean,\n    firstColumn?: boolean,\n    borderFormat?: TableBorderFormat,\n    bgColorEven?: string,\n    bgColorOdd?: string,\n    headerRowColor?: string\n): TableFormat {\n    return {\n        topBorderColor: topBorder,\n        bottomBorderColor: bottomBorder,\n        verticalBorderColor: verticalBorder,\n        hasBandedRows: bandedRows,\n        bgColorEven: bgColorEven,\n        bgColorOdd: bgColorOdd,\n        hasBandedColumns: bandedColumns,\n        hasHeaderRow: headerRow,\n        headerRowColor: headerRowColor,\n        hasFirstColumn: firstColumn,\n        tableBorderFormat: borderFormat,\n        keepCellShade: false,\n    };\n}\n\nfunction setHeaderRow(table: HTMLTableElement): TableFormat {\n    const vtable = new VTable(table);\n    const format = vtable.formatInfo;\n    format.keepCellShade = true;\n    format.hasHeaderRow = !format.hasHeaderRow;\n\n    return format;\n}\n\nfunction setFirstColumn(table: HTMLTableElement): TableFormat {\n    const vtable = new VTable(table);\n    const format = vtable.formatInfo;\n    format.keepCellShade = true;\n    format.hasFirstColumn = !format.hasFirstColumn;\n    return format;\n}\n\nfunction setBandedColumn(table: HTMLTableElement): TableFormat {\n    const vtable = new VTable(table);\n    const format = vtable.formatInfo;\n    format.keepCellShade = true;\n    format.hasBandedColumns = !format.hasBandedColumns;\n    return format;\n}\n\nfunction setBandedRow(table: HTMLTableElement): TableFormat {\n    const vtable = new VTable(table);\n    const format = vtable.formatInfo;\n    format.keepCellShade = true;\n    format.hasBandedRows = !format.hasBandedRows;\n    return format;\n}\n\nfunction CustomizeFormatRow(props: { text: string; inputRef: React.RefObject<HTMLInputElement> }) {\n    const [isColorPickerShowing, setIsColorPickerShowing] = React.useState(false);\n    const onShowColorPicker = React.useCallback(() => {\n        setIsColorPickerShowing(!isColorPickerShowing);\n    }, [isColorPickerShowing]);\n    const setColor = React.useCallback((color: Color) => {\n        props.inputRef.current.value = color.hex().toString();\n    }, []);\n    let color: Color;\n    try {\n        color = Color(props.inputRef.current.value);\n    } catch {\n        color = Color('white');\n    }\n    return (\n        <>\n            <tr>\n                <td className={styles.label}>\n                    <button onClick={onShowColorPicker}>{props.text}</button>\n                </td>\n                <td>\n                    <input type=\"text\" ref={props.inputRef} />\n                </td>\n            </tr>\n            {isColorPickerShowing && (\n                <tr>\n                    <td colSpan={2}>\n                        <ColorPicker initColor={color} onSelect={setColor} />\n                    </td>\n                </tr>\n            )}\n        </>\n    );\n}\n","/* MIT license */\nvar colorNames = require('color-name');\nvar swizzle = require('simple-swizzle');\nvar hasOwnProperty = Object.hasOwnProperty;\n\nvar reverseNames = Object.create(null);\n\n// create a list of reverse color names\nfor (var name in colorNames) {\n\tif (hasOwnProperty.call(colorNames, name)) {\n\t\treverseNames[colorNames[name]] = name;\n\t}\n}\n\nvar cs = module.exports = {\n\tto: {},\n\tget: {}\n};\n\ncs.get = function (string) {\n\tvar prefix = string.substring(0, 3).toLowerCase();\n\tvar val;\n\tvar model;\n\tswitch (prefix) {\n\t\tcase 'hsl':\n\t\t\tval = cs.get.hsl(string);\n\t\t\tmodel = 'hsl';\n\t\t\tbreak;\n\t\tcase 'hwb':\n\t\t\tval = cs.get.hwb(string);\n\t\t\tmodel = 'hwb';\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tval = cs.get.rgb(string);\n\t\t\tmodel = 'rgb';\n\t\t\tbreak;\n\t}\n\n\tif (!val) {\n\t\treturn null;\n\t}\n\n\treturn {model: model, value: val};\n};\n\ncs.get.rgb = function (string) {\n\tif (!string) {\n\t\treturn null;\n\t}\n\n\tvar abbr = /^#([a-f0-9]{3,4})$/i;\n\tvar hex = /^#([a-f0-9]{6})([a-f0-9]{2})?$/i;\n\tvar rgba = /^rgba?\\(\\s*([+-]?\\d+)(?=[\\s,])\\s*(?:,\\s*)?([+-]?\\d+)(?=[\\s,])\\s*(?:,\\s*)?([+-]?\\d+)\\s*(?:[,|\\/]\\s*([+-]?[\\d\\.]+)(%?)\\s*)?\\)$/;\n\tvar per = /^rgba?\\(\\s*([+-]?[\\d\\.]+)\\%\\s*,?\\s*([+-]?[\\d\\.]+)\\%\\s*,?\\s*([+-]?[\\d\\.]+)\\%\\s*(?:[,|\\/]\\s*([+-]?[\\d\\.]+)(%?)\\s*)?\\)$/;\n\tvar keyword = /^(\\w+)$/;\n\n\tvar rgb = [0, 0, 0, 1];\n\tvar match;\n\tvar i;\n\tvar hexAlpha;\n\n\tif (match = string.match(hex)) {\n\t\thexAlpha = match[2];\n\t\tmatch = match[1];\n\n\t\tfor (i = 0; i < 3; i++) {\n\t\t\t// https://jsperf.com/slice-vs-substr-vs-substring-methods-long-string/19\n\t\t\tvar i2 = i * 2;\n\t\t\trgb[i] = parseInt(match.slice(i2, i2 + 2), 16);\n\t\t}\n\n\t\tif (hexAlpha) {\n\t\t\trgb[3] = parseInt(hexAlpha, 16) / 255;\n\t\t}\n\t} else if (match = string.match(abbr)) {\n\t\tmatch = match[1];\n\t\thexAlpha = match[3];\n\n\t\tfor (i = 0; i < 3; i++) {\n\t\t\trgb[i] = parseInt(match[i] + match[i], 16);\n\t\t}\n\n\t\tif (hexAlpha) {\n\t\t\trgb[3] = parseInt(hexAlpha + hexAlpha, 16) / 255;\n\t\t}\n\t} else if (match = string.match(rgba)) {\n\t\tfor (i = 0; i < 3; i++) {\n\t\t\trgb[i] = parseInt(match[i + 1], 0);\n\t\t}\n\n\t\tif (match[4]) {\n\t\t\tif (match[5]) {\n\t\t\t\trgb[3] = parseFloat(match[4]) * 0.01;\n\t\t\t} else {\n\t\t\t\trgb[3] = parseFloat(match[4]);\n\t\t\t}\n\t\t}\n\t} else if (match = string.match(per)) {\n\t\tfor (i = 0; i < 3; i++) {\n\t\t\trgb[i] = Math.round(parseFloat(match[i + 1]) * 2.55);\n\t\t}\n\n\t\tif (match[4]) {\n\t\t\tif (match[5]) {\n\t\t\t\trgb[3] = parseFloat(match[4]) * 0.01;\n\t\t\t} else {\n\t\t\t\trgb[3] = parseFloat(match[4]);\n\t\t\t}\n\t\t}\n\t} else if (match = string.match(keyword)) {\n\t\tif (match[1] === 'transparent') {\n\t\t\treturn [0, 0, 0, 0];\n\t\t}\n\n\t\tif (!hasOwnProperty.call(colorNames, match[1])) {\n\t\t\treturn null;\n\t\t}\n\n\t\trgb = colorNames[match[1]];\n\t\trgb[3] = 1;\n\n\t\treturn rgb;\n\t} else {\n\t\treturn null;\n\t}\n\n\tfor (i = 0; i < 3; i++) {\n\t\trgb[i] = clamp(rgb[i], 0, 255);\n\t}\n\trgb[3] = clamp(rgb[3], 0, 1);\n\n\treturn rgb;\n};\n\ncs.get.hsl = function (string) {\n\tif (!string) {\n\t\treturn null;\n\t}\n\n\tvar hsl = /^hsla?\\(\\s*([+-]?(?:\\d{0,3}\\.)?\\d+)(?:deg)?\\s*,?\\s*([+-]?[\\d\\.]+)%\\s*,?\\s*([+-]?[\\d\\.]+)%\\s*(?:[,|\\/]\\s*([+-]?(?=\\.\\d|\\d)(?:0|[1-9]\\d*)?(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)\\s*)?\\)$/;\n\tvar match = string.match(hsl);\n\n\tif (match) {\n\t\tvar alpha = parseFloat(match[4]);\n\t\tvar h = ((parseFloat(match[1]) % 360) + 360) % 360;\n\t\tvar s = clamp(parseFloat(match[2]), 0, 100);\n\t\tvar l = clamp(parseFloat(match[3]), 0, 100);\n\t\tvar a = clamp(isNaN(alpha) ? 1 : alpha, 0, 1);\n\n\t\treturn [h, s, l, a];\n\t}\n\n\treturn null;\n};\n\ncs.get.hwb = function (string) {\n\tif (!string) {\n\t\treturn null;\n\t}\n\n\tvar hwb = /^hwb\\(\\s*([+-]?\\d{0,3}(?:\\.\\d+)?)(?:deg)?\\s*,\\s*([+-]?[\\d\\.]+)%\\s*,\\s*([+-]?[\\d\\.]+)%\\s*(?:,\\s*([+-]?(?=\\.\\d|\\d)(?:0|[1-9]\\d*)?(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)\\s*)?\\)$/;\n\tvar match = string.match(hwb);\n\n\tif (match) {\n\t\tvar alpha = parseFloat(match[4]);\n\t\tvar h = ((parseFloat(match[1]) % 360) + 360) % 360;\n\t\tvar w = clamp(parseFloat(match[2]), 0, 100);\n\t\tvar b = clamp(parseFloat(match[3]), 0, 100);\n\t\tvar a = clamp(isNaN(alpha) ? 1 : alpha, 0, 1);\n\t\treturn [h, w, b, a];\n\t}\n\n\treturn null;\n};\n\ncs.to.hex = function () {\n\tvar rgba = swizzle(arguments);\n\n\treturn (\n\t\t'#' +\n\t\thexDouble(rgba[0]) +\n\t\thexDouble(rgba[1]) +\n\t\thexDouble(rgba[2]) +\n\t\t(rgba[3] < 1\n\t\t\t? (hexDouble(Math.round(rgba[3] * 255)))\n\t\t\t: '')\n\t);\n};\n\ncs.to.rgb = function () {\n\tvar rgba = swizzle(arguments);\n\n\treturn rgba.length < 4 || rgba[3] === 1\n\t\t? 'rgb(' + Math.round(rgba[0]) + ', ' + Math.round(rgba[1]) + ', ' + Math.round(rgba[2]) + ')'\n\t\t: 'rgba(' + Math.round(rgba[0]) + ', ' + Math.round(rgba[1]) + ', ' + Math.round(rgba[2]) + ', ' + rgba[3] + ')';\n};\n\ncs.to.rgb.percent = function () {\n\tvar rgba = swizzle(arguments);\n\n\tvar r = Math.round(rgba[0] / 255 * 100);\n\tvar g = Math.round(rgba[1] / 255 * 100);\n\tvar b = Math.round(rgba[2] / 255 * 100);\n\n\treturn rgba.length < 4 || rgba[3] === 1\n\t\t? 'rgb(' + r + '%, ' + g + '%, ' + b + '%)'\n\t\t: 'rgba(' + r + '%, ' + g + '%, ' + b + '%, ' + rgba[3] + ')';\n};\n\ncs.to.hsl = function () {\n\tvar hsla = swizzle(arguments);\n\treturn hsla.length < 4 || hsla[3] === 1\n\t\t? 'hsl(' + hsla[0] + ', ' + hsla[1] + '%, ' + hsla[2] + '%)'\n\t\t: 'hsla(' + hsla[0] + ', ' + hsla[1] + '%, ' + hsla[2] + '%, ' + hsla[3] + ')';\n};\n\n// hwb is a bit different than rgb(a) & hsl(a) since there is no alpha specific syntax\n// (hwb have alpha optional & 1 is default value)\ncs.to.hwb = function () {\n\tvar hwba = swizzle(arguments);\n\n\tvar a = '';\n\tif (hwba.length >= 4 && hwba[3] !== 1) {\n\t\ta = ', ' + hwba[3];\n\t}\n\n\treturn 'hwb(' + hwba[0] + ', ' + hwba[1] + '%, ' + hwba[2] + '%' + a + ')';\n};\n\ncs.to.keyword = function (rgb) {\n\treturn reverseNames[rgb.slice(0, 3)];\n};\n\n// helpers\nfunction clamp(num, min, max) {\n\treturn Math.min(Math.max(min, num), max);\n}\n\nfunction hexDouble(num) {\n\tvar str = Math.round(num).toString(16).toUpperCase();\n\treturn (str.length < 2) ? '0' + str : str;\n}\n","'use strict';\n\nvar isArrayish = require('is-arrayish');\n\nvar concat = Array.prototype.concat;\nvar slice = Array.prototype.slice;\n\nvar swizzle = module.exports = function swizzle(args) {\n\tvar results = [];\n\n\tfor (var i = 0, len = args.length; i < len; i++) {\n\t\tvar arg = args[i];\n\n\t\tif (isArrayish(arg)) {\n\t\t\t// http://jsperf.com/javascript-array-concat-vs-push/98\n\t\t\tresults = concat.call(results, slice.call(arg));\n\t\t} else {\n\t\t\tresults.push(arg);\n\t\t}\n\t}\n\n\treturn results;\n};\n\nswizzle.wrap = function (fn) {\n\treturn function () {\n\t\treturn fn(swizzle(arguments));\n\t};\n};\n","module.exports = function isArrayish(obj) {\n\tif (!obj || typeof obj === 'string') {\n\t\treturn false;\n\t}\n\n\treturn obj instanceof Array || Array.isArray(obj) ||\n\t\t(obj.length >= 0 && (obj.splice instanceof Function ||\n\t\t\t(Object.getOwnPropertyDescriptor(obj, (obj.length - 1)) && obj.constructor.name !== 'String')));\n};\n","var conversions = require('./conversions');\nvar route = require('./route');\n\nvar convert = {};\n\nvar models = Object.keys(conversions);\n\nfunction wrapRaw(fn) {\n\tvar wrappedFn = function (args) {\n\t\tif (args === undefined || args === null) {\n\t\t\treturn args;\n\t\t}\n\n\t\tif (arguments.length > 1) {\n\t\t\targs = Array.prototype.slice.call(arguments);\n\t\t}\n\n\t\treturn fn(args);\n\t};\n\n\t// preserve .conversion property if there is one\n\tif ('conversion' in fn) {\n\t\twrappedFn.conversion = fn.conversion;\n\t}\n\n\treturn wrappedFn;\n}\n\nfunction wrapRounded(fn) {\n\tvar wrappedFn = function (args) {\n\t\tif (args === undefined || args === null) {\n\t\t\treturn args;\n\t\t}\n\n\t\tif (arguments.length > 1) {\n\t\t\targs = Array.prototype.slice.call(arguments);\n\t\t}\n\n\t\tvar result = fn(args);\n\n\t\t// we're assuming the result is an array here.\n\t\t// see notice in conversions.js; don't use box types\n\t\t// in conversion functions.\n\t\tif (typeof result === 'object') {\n\t\t\tfor (var len = result.length, i = 0; i < len; i++) {\n\t\t\t\tresult[i] = Math.round(result[i]);\n\t\t\t}\n\t\t}\n\n\t\treturn result;\n\t};\n\n\t// preserve .conversion property if there is one\n\tif ('conversion' in fn) {\n\t\twrappedFn.conversion = fn.conversion;\n\t}\n\n\treturn wrappedFn;\n}\n\nmodels.forEach(function (fromModel) {\n\tconvert[fromModel] = {};\n\n\tObject.defineProperty(convert[fromModel], 'channels', {value: conversions[fromModel].channels});\n\tObject.defineProperty(convert[fromModel], 'labels', {value: conversions[fromModel].labels});\n\n\tvar routes = route(fromModel);\n\tvar routeModels = Object.keys(routes);\n\n\trouteModels.forEach(function (toModel) {\n\t\tvar fn = routes[toModel];\n\n\t\tconvert[fromModel][toModel] = wrapRounded(fn);\n\t\tconvert[fromModel][toModel].raw = wrapRaw(fn);\n\t});\n});\n\nmodule.exports = convert;\n","var conversions = require('./conversions');\n\n/*\n\tthis function routes a model to all other models.\n\n\tall functions that are routed have a property `.conversion` attached\n\tto the returned synthetic function. This property is an array\n\tof strings, each with the steps in between the 'from' and 'to'\n\tcolor models (inclusive).\n\n\tconversions that are not possible simply are not included.\n*/\n\nfunction buildGraph() {\n\tvar graph = {};\n\t// https://jsperf.com/object-keys-vs-for-in-with-closure/3\n\tvar models = Object.keys(conversions);\n\n\tfor (var len = models.length, i = 0; i < len; i++) {\n\t\tgraph[models[i]] = {\n\t\t\t// http://jsperf.com/1-vs-infinity\n\t\t\t// micro-opt, but this is simple.\n\t\t\tdistance: -1,\n\t\t\tparent: null\n\t\t};\n\t}\n\n\treturn graph;\n}\n\n// https://en.wikipedia.org/wiki/Breadth-first_search\nfunction deriveBFS(fromModel) {\n\tvar graph = buildGraph();\n\tvar queue = [fromModel]; // unshift -> queue -> pop\n\n\tgraph[fromModel].distance = 0;\n\n\twhile (queue.length) {\n\t\tvar current = queue.pop();\n\t\tvar adjacents = Object.keys(conversions[current]);\n\n\t\tfor (var len = adjacents.length, i = 0; i < len; i++) {\n\t\t\tvar adjacent = adjacents[i];\n\t\t\tvar node = graph[adjacent];\n\n\t\t\tif (node.distance === -1) {\n\t\t\t\tnode.distance = graph[current].distance + 1;\n\t\t\t\tnode.parent = current;\n\t\t\t\tqueue.unshift(adjacent);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn graph;\n}\n\nfunction link(from, to) {\n\treturn function (args) {\n\t\treturn to(from(args));\n\t};\n}\n\nfunction wrapConversion(toModel, graph) {\n\tvar path = [graph[toModel].parent, toModel];\n\tvar fn = conversions[graph[toModel].parent][toModel];\n\n\tvar cur = graph[toModel].parent;\n\twhile (graph[cur].parent) {\n\t\tpath.unshift(graph[cur].parent);\n\t\tfn = link(conversions[graph[cur].parent][cur], fn);\n\t\tcur = graph[cur].parent;\n\t}\n\n\tfn.conversion = path;\n\treturn fn;\n}\n\nmodule.exports = function (fromModel) {\n\tvar graph = deriveBFS(fromModel);\n\tvar conversion = {};\n\n\tvar models = Object.keys(graph);\n\tfor (var len = models.length, i = 0; i < len; i++) {\n\t\tvar toModel = models[i];\n\t\tvar node = graph[toModel];\n\n\t\tif (node.parent === null) {\n\t\t\t// no possible conversion, or this node is the source model.\n\t\t\tcontinue;\n\t\t}\n\n\t\tconversion[toModel] = wrapConversion(toModel, graph);\n\t}\n\n\treturn conversion;\n};\n\n","import * as Color from 'color';\nimport * as React from 'react';\nimport { getComputedStyle } from 'roosterjs-editor-dom';\n\nconst styles = require('./ColorPicker.scss');\n\nexport interface ColorPickerProps {\n    initColor: Color;\n    onSelect?: (color: Color) => void;\n    className?: string;\n}\n\nconst enum Keys {\n    PageUp = 33,\n    PageDown = 34,\n    End = 35,\n    Home = 36,\n    Left = 37,\n    Up = 38,\n    Right = 39,\n    Down = 40,\n}\n\nexport default function ColorPicker(props: ColorPickerProps): JSX.Element {\n    const hueBar = React.useRef<HTMLDivElement>(null);\n    const picker = React.useRef<HTMLDivElement>(null);\n    const hsv = props.initColor.hsv();\n    const [hue, setHue] = React.useState(hsv.hue());\n    const [saturation, setSaturation] = React.useState(hsv.saturationv());\n    const [value, setValue] = React.useState(hsv.value());\n    const isRtl = getComputedStyle(document.body, 'direction') == 'rtl';\n\n    const onMouseDownHueBar = React.useCallback((e: React.MouseEvent<EventTarget>) => {\n        startDrag(hueBar.current!, x => setHue(x * 360));\n    }, []);\n\n    const onMouseDownPicker = React.useCallback((e: React.MouseEvent<EventTarget>) => {\n        startDrag(picker.current!, (x, y) => {\n            setSaturation(x * 100);\n            setValue(100 - y * 100);\n        });\n    }, []);\n\n    const onChangeHue = React.useCallback(\n        (e: React.KeyboardEvent<EventTarget>) => {\n            let newHue = hue;\n            switch (e.which) {\n                case Keys.Left:\n                    newHue += isRtl ? 1 : -1;\n                    break;\n                case Keys.Up:\n                    newHue--;\n                    break;\n                case Keys.Right:\n                    newHue += isRtl ? -1 : 1;\n                    break;\n                case Keys.Down:\n                    newHue++;\n                    break;\n                case Keys.PageUp:\n                    newHue -= 10;\n                    break;\n                case Keys.PageDown:\n                    newHue += 10;\n                    break;\n                case Keys.Home:\n                    newHue = 0;\n                    break;\n                case Keys.End:\n                    newHue = 360;\n                    break;\n            }\n            setHue(Math.max(Math.min(newHue, 360), 0));\n        },\n        [hue, isRtl]\n    );\n\n    const onChangeColor = React.useCallback(\n        (e: React.KeyboardEvent<EventTarget>) => {\n            let newSaturation = saturation;\n            let newValue = value;\n            switch (e.which) {\n                case Keys.Left:\n                    newSaturation += isRtl ? 1 : -1;\n                    break;\n                case Keys.Right:\n                    newSaturation += isRtl ? -1 : 1;\n                    break;\n                case Keys.Home:\n                    newSaturation = 0;\n                    break;\n                case Keys.End:\n                    newSaturation = 100;\n                    break;\n                case Keys.Up:\n                    newValue++;\n                    break;\n                case Keys.Down:\n                    newValue--;\n                    break;\n                case Keys.PageUp:\n                    newValue += 10;\n                    break;\n                case Keys.PageDown:\n                    newValue -= 10;\n                    break;\n            }\n            setSaturation(Math.max(Math.min(newSaturation, 100), 0));\n            setValue(Math.max(Math.min(newValue, 100), 0));\n        },\n        [saturation, value, isRtl]\n    );\n\n    React.useEffect(() => {\n        props.onSelect?.(props.initColor);\n    }, []);\n\n    React.useEffect(() => {\n        props.onSelect?.(Color.hsv(hue, saturation, value).rgb());\n    }, [hue, saturation, value]);\n\n    return (\n        <div className={styles.container}>\n            <div\n                tabIndex={0}\n                className={styles.picker}\n                ref={picker}\n                style={{\n                    backgroundColor: Color.hsv(hue, 100, 100).rgb().toString(),\n                }}\n                onKeyDown={onChangeColor}\n                onMouseDown={onMouseDownPicker}>\n                <div className={styles.layer1}>\n                    <div className={styles.layer2} />\n                </div>\n                <div\n                    className={styles.currentColor}\n                    style={{\n                        left: saturation + '%',\n                        top: 100 - value + '%',\n                    }}>\n                    <div />\n                </div>\n            </div>\n\n            <div\n                className={styles.newColor}\n                style={{ backgroundColor: Color.hsv(hue, saturation, value).rgb().toString() }}\n            />\n            <div\n                className={styles.initColor}\n                style={{ backgroundColor: props.initColor.toString() }}\n            />\n\n            <div\n                className={styles.hueBar}\n                ref={hueBar}\n                tabIndex={0}\n                onMouseDown={onMouseDownHueBar}\n                onKeyDown={onChangeHue}>\n                <div\n                    className={styles.currentColor}\n                    style={{\n                        left: hue / 3.6 + '%',\n                    }}>\n                    <div />\n                </div>\n            </div>\n        </div>\n    );\n}\n\nfunction startDrag(element: HTMLElement, callback: (x: number, y: number) => void) {\n    const rect = element.getBoundingClientRect();\n    const document = element.ownerDocument;\n\n    const onMouseChange = (e: MouseEvent) => {\n        const left = e.pageX - rect.left;\n        const top = e.pageY - rect.top;\n        let x = Math.round((left * 100) / rect.width) / 100;\n        let y = Math.round((top * 100) / rect.height) / 100;\n        x = Math.min(Math.max(x, 0), 1);\n        y = Math.min(Math.max(y, 0), 1);\n\n        callback(x, y);\n\n        if (e.type == 'mouseup') {\n            document.removeEventListener('mousemove', onMouseChange, true /*useCapture*/);\n            document.removeEventListener('mouseup', onMouseChange, true /*useCapture*/);\n        } else {\n            e.stopPropagation();\n            e.preventDefault();\n        }\n    };\n\n    document.addEventListener('mousemove', onMouseChange, true /*useCapture*/);\n    document.addEventListener('mouseup', onMouseChange, true /*useCapture*/);\n}\n","var content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../node_modules/sass-loader/dist/cjs.js!./ColorPicker.scss\");\nvar loader = require(\"/home/runner/work/roosterjs/roosterjs/node_modules/@microsoft/loader-load-themed-styles/node_modules/@microsoft/load-themed-styles/lib/index.js\");\n\nif(typeof content === \"string\") content = [[module.id, content]];\n\n// add the styles to the DOM\nfor (var i = 0; i < content.length; i++) loader.loadStyles(content[i][1], false);\n\nif(content.locals) module.exports = content.locals;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".zzrG7QTYWevpNEutHRteL{border:solid 1px #000;position:relative;width:100%;height:250px}.zzrG7QTYWevpNEutHRteL ._2oyU282TgFscZ5UHgcUmdp{position:absolute;top:5px;left:5px;right:60px;bottom:25px}.zzrG7QTYWevpNEutHRteL ._2oyU282TgFscZ5UHgcUmdp .tACuk57Dyi-G8vSeWqr1J{width:100%;height:100%;background:linear-gradient(to right, white, rgba(255, 255, 255, 0))}.zzrG7QTYWevpNEutHRteL ._2oyU282TgFscZ5UHgcUmdp ._2spr_UnliyPKejcb4aR4VA{width:100%;height:100%;background:linear-gradient(to top, black, rgba(0, 0, 0, 0))}.zzrG7QTYWevpNEutHRteL ._2oyU282TgFscZ5UHgcUmdp .w4z5tFrATWvV5ruSLWsJp{position:absolute}.zzrG7QTYWevpNEutHRteL ._2oyU282TgFscZ5UHgcUmdp .w4z5tFrATWvV5ruSLWsJp div{position:absolute;box-sizing:border-box;left:-6px;top:-6px;width:12px;height:12px;border:solid 2px #000;border-radius:50%}.zzrG7QTYWevpNEutHRteL .dtqPj9iGhxveR4Am-elmu{position:absolute;top:5px;width:50px;right:5px;bottom:50%}.zzrG7QTYWevpNEutHRteL ._3eWedriXwotOrDVbydtjbM{position:absolute;top:50%;width:50px;right:5px;bottom:5px}.zzrG7QTYWevpNEutHRteL ._3MccxpeP-m7bKvTxQer9Ky{position:absolute;left:5px;right:60px;bottom:5px;height:15px;background:linear-gradient(to right, #ff0000 0%, #ffff00 17%, #00ff00 33%, #00ffff 50%, #0000ff 67%, #ff00ff 83%, #ff0000 100%)}.zzrG7QTYWevpNEutHRteL ._3MccxpeP-m7bKvTxQer9Ky .w4z5tFrATWvV5ruSLWsJp{position:absolute;height:100%}.zzrG7QTYWevpNEutHRteL ._3MccxpeP-m7bKvTxQer9Ky .w4z5tFrATWvV5ruSLWsJp div{position:absolute;box-sizing:border-box;left:-4px;width:8px;top:-2px;bottom:-2px;border:solid 2px #000;border-radius:20%}\", \"\"]);\n// Exports\nexports.locals = {\n\t\"container\": \"zzrG7QTYWevpNEutHRteL\",\n\t\"picker\": \"_2oyU282TgFscZ5UHgcUmdp\",\n\t\"layer1\": \"tACuk57Dyi-G8vSeWqr1J\",\n\t\"layer2\": \"_2spr_UnliyPKejcb4aR4VA\",\n\t\"currentColor\": \"w4z5tFrATWvV5ruSLWsJp\",\n\t\"newColor\": \"dtqPj9iGhxveR4Am-elmu\",\n\t\"initColor\": \"_3eWedriXwotOrDVbydtjbM\",\n\t\"hueBar\": \"_3MccxpeP-m7bKvTxQer9Ky\"\n};\nmodule.exports = exports;\n","var content = require(\"!!../../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../../node_modules/sass-loader/dist/cjs.js!./VTablePane.scss\");\nvar loader = require(\"/home/runner/work/roosterjs/roosterjs/node_modules/@microsoft/loader-load-themed-styles/node_modules/@microsoft/load-themed-styles/lib/index.js\");\n\nif(typeof content === \"string\") content = [[module.id, content]];\n\n// add the styles to the DOM\nfor (var i = 0; i < content.length; i++) loader.loadStyles(content[i][1], false);\n\nif(content.locals) module.exports = content.locals;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"._1npSAsDS54nnYHLeTCHICi{text-align:center}\", \"\"]);\n// Exports\nexports.locals = {\n\t\"buttonRow\": \"_1npSAsDS54nnYHLeTCHICi\"\n};\nmodule.exports = exports;\n","var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/sass-loader/dist/cjs.js!./ApiPlaygroundPane.scss\");\nvar loader = require(\"/home/runner/work/roosterjs/roosterjs/node_modules/@microsoft/loader-load-themed-styles/node_modules/@microsoft/load-themed-styles/lib/index.js\");\n\nif(typeof content === \"string\") content = [[module.id, content]];\n\n// add the styles to the DOM\nfor (var i = 0; i < content.length; i++) loader.loadStyles(content[i][1], false);\n\nif(content.locals) module.exports = content.locals;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"._12Yaq4bmIYMlsqqYimZ13I{flex:0 0 auto;padding-bottom:5px}\", \"\"]);\n// Exports\nexports.locals = {\n\t\"header\": \"_12Yaq4bmIYMlsqqYimZ13I\"\n};\nmodule.exports = exports;\n","import BuildInPluginState, { BuildInPluginProps, UrlPlaceholder } from '../../BuildInPluginState';\nimport getDefaultContentEditFeatureSettings from './getDefaultContentEditFeatureSettings';\nimport OptionsPane from './OptionsPane';\nimport SidePanePluginImpl from '../SidePanePluginImpl';\nimport { ExperimentalFeatures } from 'roosterjs-editor-types';\nimport { SidePaneElementProps } from '../SidePaneElement';\n\nconst initialState: BuildInPluginState = {\n    pluginList: {\n        contentEdit: true,\n        hyperlink: true,\n        paste: true,\n        watermark: false,\n        imageEdit: true,\n        cutPasteListChain: true,\n        tableCellSelection: true,\n        tableResize: true,\n        customReplace: true,\n        pickerPlugin: true,\n        resetList: true,\n        contextMenu: true,\n        autoFormat: true,\n    },\n    contentEditFeatures: getDefaultContentEditFeatureSettings(),\n    defaultFormat: {},\n    linkTitle: 'Ctrl+Click to follow the link:' + UrlPlaceholder,\n    watermarkText: 'Type content here ...',\n    forcePreserveRatio: false,\n    showRibbon: true,\n    supportDarkMode: true,\n    experimentalFeatures: [\n        ExperimentalFeatures.PasteWithLinkPreview,\n        ExperimentalFeatures.SingleDirectionResize,\n        ExperimentalFeatures.ImageRotate,\n        ExperimentalFeatures.ImageCrop,\n        ExperimentalFeatures.ConvertSingleImageBody,\n        ExperimentalFeatures.TableAlignment,\n        ExperimentalFeatures.AdaptiveHandlesResizer,\n        ExperimentalFeatures.ListItemAlignment,\n    ],\n    isRtl: false,\n};\n\nexport default class EditorOptionsPlugin extends SidePanePluginImpl<\n    OptionsPane,\n    BuildInPluginProps\n> {\n    constructor() {\n        super(OptionsPane, 'options', 'Editor Options');\n    }\n\n    getBuildInPluginState(): BuildInPluginState {\n        let result: BuildInPluginState;\n        this.getComponent(component => (result = component.getState()));\n        return result || initialState;\n    }\n\n    getComponentProps(base: SidePaneElementProps) {\n        return {\n            ...initialState,\n            ...base,\n        };\n    }\n}\n","import * as React from 'react';\nimport BuildInPluginState, { BuildInPluginProps } from '../../BuildInPluginState';\nimport Code from './Code';\nimport ContentEditFeatures from './ContentEditFeatures';\nimport DefaultFormatPane from './DefaultFormat';\nimport EditorCode from './codes/EditorCode';\nimport ExperimentalFeaturesPane from './ExperimentalFeatures';\nimport MainPaneBase from '../../MainPaneBase';\nimport Plugins from './Plugins';\nimport ReactEditorCode from './codes/ReactEditorCode';\n\nconst htmlStart =\n    '<html>\\n' +\n    '<body>\\n' +\n    '<div id=\"contentDiv\" style=\"width: 800px; height: 400px; border: solid 1px black; overflow: auto\"></div>\\n';\nconst htmlButtons =\n    '<button id=buttonB><b>B</b></button>\\n' +\n    '<button id=buttonI><i>I</i></button>\\n' +\n    '<button id=buttonU><u>U</u></button>\\n' +\n    '<button id=buttonBullet>Bullet</button>\\n' +\n    '<button id=buttonNumbering>Numbering</button>\\n' +\n    '<button id=buttonUndo>Undo</button>\\n' +\n    '<button id=buttonRedo>Redo</button>\\n';\nconst darkButton = '<button id=buttonDark>Dark Mode</button>\\n';\nconst htmlEnd =\n    '<script src=\"https://microsoft.github.io/roosterjs/rooster-min.js\"></script>\\n' +\n    '</body>\\n' +\n    '</html>';\n\nconst htmlRoosterReact =\n    '<html>\\n' +\n    '<body>\\n' +\n    '<div id=\"root\"></div>\\n' +\n    '<script src=\"https://unpkg.com/react@16/umd/react.development.js\"></script>\\n' +\n    '<script src=\"https://unpkg.com/react-dom@16/umd/react-dom.development.js\"></script>\\n' +\n    '<script src=\"https://unpkg.com/@fluentui/react/dist/fluentui-react.js\"></script>\\n' +\n    '<script src=\"https://microsoft.github.io/roosterjs/rooster-min.js\"></script>\\n' +\n    '<script src=\"https://microsoft.github.io/roosterjs/rooster-react-min.js\"></script>\\n' +\n    '</body>\\n' +\n    '</html>';\n\nconst cssRoosterReact = '.editor { border: solid 1px black; width: 100%; height: 600px}';\nexport default class OptionsPane extends React.Component<BuildInPluginProps, BuildInPluginState> {\n    private exportForm = React.createRef<HTMLFormElement>();\n    private exportData = React.createRef<HTMLInputElement>();\n    private showRibbon = React.createRef<HTMLInputElement>();\n    private darkMode = React.createRef<HTMLInputElement>();\n    private rtl = React.createRef<HTMLInputElement>();\n\n    constructor(props: BuildInPluginProps) {\n        super(props);\n        this.state = { ...props };\n    }\n    render() {\n        return (\n            <div>\n                <div>\n                    <button onClick={this.onExportRooster}>Try roosterjs in CodePen</button>\n                </div>\n                <div>\n                    <button onClick={this.onExportRoosterReact}>\n                        Try roosterjs-react in CodePen\n                    </button>\n                </div>\n                <div>\n                    <br />\n                </div>\n                <details>\n                    <summary>\n                        <b>Plugins:</b>\n                    </summary>\n                    <Plugins state={this.state} resetState={this.resetState} />\n                </details>\n                <details>\n                    <summary>\n                        <b>Content edit features:</b>\n                    </summary>\n                    <ContentEditFeatures\n                        state={this.state.contentEditFeatures}\n                        resetState={this.resetState}\n                    />\n                </details>\n                <details>\n                    <summary>\n                        <b>Default Format:</b>\n                    </summary>\n                    <DefaultFormatPane\n                        state={this.state.defaultFormat}\n                        resetState={this.resetState}\n                    />\n                </details>\n                <details>\n                    <summary>\n                        <b>Experimental features:</b>\n                    </summary>\n                    <ExperimentalFeaturesPane\n                        state={this.state.experimentalFeatures}\n                        resetState={this.resetState}\n                    />\n                </details>\n                <div>\n                    <br />\n                </div>\n                <div>\n                    <input\n                        id=\"showRibbon\"\n                        type=\"checkbox\"\n                        checked={this.state.showRibbon}\n                        onChange={this.onToggleRibbon}\n                        ref={this.showRibbon}\n                    />\n                    <label htmlFor=\"showRibbon\">Show format buttons</label>\n                </div>{' '}\n                <div>\n                    <input\n                        id=\"darkMode\"\n                        type=\"checkbox\"\n                        checked={this.state.supportDarkMode}\n                        onChange={this.onToggleDarkMode}\n                        ref={this.darkMode}\n                    />\n                    <label htmlFor=\"darkMode\">Support dark mode</label>\n                </div>\n                <div>\n                    <input\n                        id=\"pageRtl\"\n                        type=\"checkbox\"\n                        checked={this.state.isRtl}\n                        onChange={this.onToggleDirection}\n                        ref={this.rtl}\n                    />\n                    <label htmlFor=\"pageRtl\">Show controls from right to left</label>\n                </div>\n                <hr />\n                <details>\n                    <summary>\n                        <b>HTML Code:</b>\n                    </summary>\n                    <div>\n                        <code>\n                            <pre>{this.getHtml()}</pre>\n                        </code>\n                    </div>\n                </details>\n                <details>\n                    <summary>\n                        <b>Typescript Code:</b>\n                    </summary>\n                    <Code state={this.state} />\n                </details>\n                <form\n                    ref={this.exportForm}\n                    method=\"POST\"\n                    action=\"https://codepen.io/pen/define\"\n                    target=\"_blank\">\n                    <input name=\"data\" type=\"hidden\" ref={this.exportData} />\n                </form>\n            </div>\n        );\n    }\n\n    getState(): BuildInPluginState {\n        return { ...this.state };\n    }\n\n    private resetState = (callback: (state: BuildInPluginState) => void, resetEditor: boolean) => {\n        let state: BuildInPluginState = {\n            linkTitle: this.state.linkTitle,\n            watermarkText: this.state.watermarkText,\n            showRibbon: this.state.showRibbon,\n            pluginList: { ...this.state.pluginList },\n            contentEditFeatures: { ...this.state.contentEditFeatures },\n            defaultFormat: { ...this.state.defaultFormat },\n            experimentalFeatures: this.state.experimentalFeatures,\n            forcePreserveRatio: this.state.forcePreserveRatio,\n            supportDarkMode: this.state.supportDarkMode,\n            isRtl: this.state.isRtl,\n        };\n\n        if (callback) {\n            callback(state);\n            this.setState(state);\n        }\n\n        if (resetEditor) {\n            MainPaneBase.getInstance().resetEditorPlugin(state);\n        }\n    };\n\n    private onExportRooster = () => {\n        let editor = new EditorCode(this.state);\n        let code = editor.getCode();\n        let json = {\n            title: 'RoosterJs',\n            html: this.getHtml(),\n            head: '',\n            js: code,\n            js_pre_processor: 'typescript',\n        };\n        this.exportData.current.value = JSON.stringify(json);\n        this.exportForm.current.submit();\n    };\n\n    private onExportRoosterReact = () => {\n        let editor = new ReactEditorCode(this.state);\n        let code = editor.getCode();\n        let json = {\n            title: 'RoosterJs React',\n            html: htmlRoosterReact,\n            css: cssRoosterReact,\n            head: '',\n            js: code,\n            js_pre_processor: 'typescript',\n        };\n        this.exportData.current.value = JSON.stringify(json);\n        this.exportForm.current.submit();\n    };\n\n    private onToggleRibbon = () => {\n        let showRibbon = this.showRibbon.current.checked;\n        this.setState({\n            showRibbon,\n        });\n        MainPaneBase.getInstance().setIsRibbonShown(showRibbon);\n    };\n\n    private onToggleDarkMode = () => {\n        let supportDarkMode = this.darkMode.current.checked;\n        this.setState({\n            supportDarkMode,\n        });\n        MainPaneBase.getInstance().setIsDarkModeSupported(supportDarkMode);\n    };\n\n    private onToggleDirection = () => {\n        let isRtl = this.rtl.current.checked;\n        this.setState({\n            isRtl: isRtl,\n        });\n        MainPaneBase.getInstance().setPageDirection(isRtl);\n    };\n\n    private getHtml() {\n        return `${htmlStart}${this.state.showRibbon ? htmlButtons : ''}${\n            this.state.supportDarkMode ? darkButton : ''\n        }${htmlEnd}`;\n    }\n}\n","import * as React from 'react';\nimport BuildInPluginState from '../../BuildInPluginState';\nimport EditorCode from './codes/EditorCode';\n\nexport interface CodeProps {\n    state: BuildInPluginState;\n}\n\nexport default class Code extends React.Component<CodeProps, {}> {\n    render() {\n        let editor = new EditorCode(this.props.state);\n        return (\n            <div>\n                <pre>{editor.getCode()}</pre>\n            </div>\n        );\n    }\n}\n","import CodeElement from './CodeElement';\n\nconst codeMap: { [id: string]: string } = {\n    buttonB: 'roosterjs.toggleBold(editor)',\n    buttonI: 'roosterjs.toggleItalic(editor)',\n    buttonU: 'roosterjs.toggleUnderline(editor)',\n    buttonBullet: 'roosterjs.toggleBullet(editor)',\n    buttonNumbering: 'roosterjs.toggleNumbering(editor)',\n    buttonUndo: 'editor.undo()',\n    buttonRedo: 'editor.redo()',\n};\nconst buttonDark = 'editor.setDarkModeState(!editor.isDarkMode())';\n\nexport default class ButtonsCode extends CodeElement {\n    constructor(private supportDarkMode: boolean) {\n        super();\n    }\n\n    getCode() {\n        const map = this.supportDarkMode ? { ...codeMap, buttonDark: buttonDark } : codeMap;\n        return Object.keys(map)\n            .map(\n                id =>\n                    `document.getElementById('${id}').addEventListener('click', () => ${map[id]});\\n`\n            )\n            .join('');\n    }\n}\n","import CodeElement from './CodeElement';\nimport ContentEditFeaturesCode from './ContentEditFeaturesCode';\nimport { ContentEditFeatureSettings } from 'roosterjs-editor-types';\n\nexport default class ContentEditCode extends CodeElement {\n    private features: ContentEditFeaturesCode;\n    constructor(settings: ContentEditFeatureSettings) {\n        super();\n        this.features = new ContentEditFeaturesCode(settings);\n    }\n\n    getCode() {\n        return 'new roosterjs.ContentEdit(' + this.features.getCode() + ')';\n    }\n}\n","import CodeElement from './CodeElement';\nimport getDefaultContentEditFeatureSettings from '../getDefaultContentEditFeatureSettings';\nimport { ContentEditFeatureSettings } from 'roosterjs-editor-types';\n\nexport default class ContentEditFeaturesCode extends CodeElement {\n    constructor(private state: ContentEditFeatureSettings) {\n        super();\n    }\n\n    getCode() {\n        let defaultValues = getDefaultContentEditFeatureSettings();\n        let features = Object.keys(defaultValues)\n            .map((key: keyof ContentEditFeatureSettings) => {\n                let checked = this.state[key];\n\n                return typeof checked != 'boolean' || checked == defaultValues[key]\n                    ? null\n                    : `${key}: ${checked ? 'true' : 'false'},\\n`;\n            })\n            .filter(line => !!line);\n        return features.length > 0 ? '{\\n' + this.indent(features.join('')) + '}' : '';\n    }\n}\n","import CodeElement from './CodeElement';\nimport { UrlPlaceholder } from '../../../BuildInPluginState';\n\nexport default class HyperLinkCode extends CodeElement {\n    constructor(private linkTitle: string) {\n        super();\n    }\n\n    getCode() {\n        return 'new roosterjs.HyperLink(' + this.getLinkCallback() + ')';\n    }\n\n    private getLinkCallback() {\n        if (!this.linkTitle) {\n            return '';\n        }\n\n        let index = this.linkTitle.indexOf(UrlPlaceholder);\n        if (index >= 0) {\n            let left = this.linkTitle.substr(0, index);\n            let right = this.linkTitle.substr(index + UrlPlaceholder.length);\n            return (\n                'url => ' +\n                (left ? `'${this.encode(left)}' + ` : '') +\n                'url' +\n                (right ? ` + '${this.encode(right)}'` : '')\n            );\n        } else {\n            return `() => '${this.linkTitle}'`;\n        }\n    }\n}\n","import CodeElement from './CodeElement';\n\nexport default class PickerPluginCode extends CodeElement {\n    constructor() {\n        super();\n    }\n\n    getCode() {\n        return (\n            'new roosterjs.PickerPlugin({\\n' +\n            '    onInitalize: (insertNodeCallback, setIsSuggestingCallback) => {},\\n' +\n            '    onDispose: () => {},\\n' +\n            '    onIsSuggestingChanged: (isSuggesting) => {},\\n' +\n            '    queryStringUpdated: (queryString) => {},\\n' +\n            '    onRemove: (nodeRemoved, isBackwards) => null,\\n' +\n            '    }, {\\n' +\n            \"    elementIdPrefix: 'samplePicker-',\\n\" +\n            \"    changeSource: 'SAMPLE_COLOR_PICKER',\\n\" +\n            \"    triggerCharacter: ':',\\n\" +\n            '    isHorizontal: true,\\n' +\n            '})'\n        );\n    }\n}\n","import CodeElement from './CodeElement';\n\nexport default class TableCellSelectionCode extends CodeElement {\n    constructor() {\n        super();\n    }\n\n    getCode() {\n        return 'new roosterjs.TableCellSelection()';\n    }\n}\n","import CodeElement from './CodeElement';\n\nexport default class WatermarkCode extends CodeElement {\n    constructor(private watermarkText: string) {\n        super();\n    }\n\n    getCode() {\n        return `new roosterjs.Watermark('${this.encode(this.watermarkText)}')`;\n    }\n}\n","import CodeElement from './CodeElement';\n\nclass SimplePluginCode extends CodeElement {\n    constructor(private name: string) {\n        super();\n    }\n\n    getCode() {\n        return `new roosterjs.${this.name}()`;\n    }\n}\n\nexport class PasteCode extends SimplePluginCode {\n    constructor() {\n        super('Paste');\n    }\n}\n\nexport class ImageEditCode extends SimplePluginCode {\n    constructor() {\n        super('ImageEdit');\n    }\n}\n\nexport class CutPasteListChainCode extends SimplePluginCode {\n    constructor() {\n        super('CutPasteListChain');\n    }\n}\n\nexport class TableResizeCode extends SimplePluginCode {\n    constructor() {\n        super('TableResize');\n    }\n}\n\nexport class CustomReplaceCode extends SimplePluginCode {\n    constructor() {\n        super('CustomReplace');\n    }\n}\n","import * as React from 'react';\nimport BuildInPluginState from '../../BuildInPluginState';\nimport { ContentEditFeatureSettings } from 'roosterjs-editor-types';\nimport { getAllFeatures } from 'roosterjs-editor-plugins/lib/ContentEdit';\n\ntype ContentEditItemId = keyof ContentEditFeatureSettings;\n\nconst styles = require('./OptionsPane.scss');\nconst EditFeatureDescriptionMap: Record<keyof ContentEditFeatureSettings, string> = {\n    autoBullet: 'Auto Bullet / Numbering',\n    indentWhenTab: 'Indent list when Tab',\n    outdentWhenShiftTab: 'Outdent list when Shift + Tab',\n    outdentWhenBackspaceOnEmptyFirstLine: 'Outdent list when Backspace on empty first Line',\n    outdentWhenEnterOnEmptyLine: 'Outdent list when Enter on empty line',\n    mergeInNewLineWhenBackspaceOnFirstChar:\n        'Merge in new line when Backspace on first char in list',\n    maintainListChain: 'Maintain the continued list numbers',\n    unquoteWhenBackspaceOnEmptyFirstLine: 'Unquote when Backspace on empty first line',\n    unquoteWhenEnterOnEmptyLine: 'Unquote when Enter on empty line',\n    tabInTable: 'Tab to jump cell in table',\n    upDownInTable: 'Up / Down to jump cell in table',\n    insertLineBeforeStructuredNodeFeature:\n        'Enter to create new line before table/list at beginning of editor content',\n    autoLink: 'Auto link',\n    unlinkWhenBackspaceAfterLink: 'Auto unlink when backspace right after a hyperlink',\n    defaultShortcut: 'Default Shortcuts',\n    noCycleCursorMove: 'Avoid moving cycle moving cursor when Ctrl+Left/Right',\n    clickOnEntity: 'Fire an event when click on a readonly entity',\n    escapeFromEntity: 'Fire an event when Escape from a readonly entity',\n    enterBeforeReadonlyEntity: 'Start a new line when Enter before an event',\n    backspaceAfterEntity: 'Fire an event when Backspace after an entity',\n    deleteBeforeEntity: 'Fire an event when Delete before an event',\n    markdownBold: 'Markdown style Bolding',\n    markdownItalic: 'Markdown style Italics',\n    markdownStrikethru: 'Markdown style Strikethrough',\n    markdownInlineCode: 'Markdown style Code blocks',\n    maintainListChainWhenDelete:\n        'Maintain the list of number in the right order after press delete before the first item',\n    indentTableOnTab: 'Indent the table if it is all cells are selected.',\n    indentWhenTabText:\n        'On Tab indent the selection or add Tab, requires TabKeyFeatures Experimental Feature',\n    outdentWhenTabText:\n        'On Shift + Tab outdent the selection, requires TabKeyFeatures Experimental Feature',\n    autoHyphen: 'Automatically transform -- into hyphen, if typed between two words.',\n};\n\nexport interface ContentEditFeaturessProps {\n    state: ContentEditFeatureSettings;\n    resetState: (callback: (state: BuildInPluginState) => void, resetEditor: boolean) => void;\n}\n\nexport default class ContentEditFeatures extends React.Component<ContentEditFeaturessProps, {}> {\n    render() {\n        const features = getAllFeatures();\n        return (\n            <table>\n                <tbody>\n                    {Object.keys(features).map((key: ContentEditItemId) =>\n                        this.renderContentEditItem(key, EditFeatureDescriptionMap[key])\n                    )}\n                </tbody>\n            </table>\n        );\n    }\n\n    private renderContentEditItem(\n        id: ContentEditItemId,\n        text: string,\n        moreOptions?: JSX.Element\n    ): JSX.Element {\n        const checked = this.props.state[id];\n\n        return (\n            <tr key={id}>\n                <td className={styles.checkboxColumn}>\n                    <input\n                        type=\"checkbox\"\n                        id={id}\n                        checked={checked}\n                        title={id}\n                        onChange={() => this.onContentEditClick(id)}\n                    />\n                </td>\n                <td>\n                    <div>\n                        <label htmlFor={id} title={id}>\n                            {text}\n                        </label>\n                    </div>\n                    {checked && moreOptions}\n                </td>\n            </tr>\n        );\n    }\n\n    private onContentEditClick = (id: ContentEditItemId) => {\n        this.props.resetState(state => {\n            let checkbox = document.getElementById(id) as HTMLInputElement;\n            state.contentEditFeatures[id] = checkbox.checked;\n        }, true);\n    };\n}\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"._3QUL-cTI2rzYtI4ueZE5lr{vertical-align:top}._pll-4jUC7rvgi0vFQdY1{white-space:nowrap}\", \"\"]);\n// Exports\nexports.locals = {\n\t\"checkboxColumn\": \"_3QUL-cTI2rzYtI4ueZE5lr\",\n\t\"defaultFormatLabel\": \"_pll-4jUC7rvgi0vFQdY1\"\n};\nmodule.exports = exports;\n","import * as React from 'react';\nimport BuildInPluginState from '../../BuildInPluginState';\nimport { DefaultFormat } from 'roosterjs-editor-types';\n\ntype ToggleFormatId = 'bold' | 'italic' | 'underline';\ntype ModeIndependentColorId = 'textColors' | 'backgroundColors';\ntype SelectFormatId = Exclude<keyof DefaultFormat, ToggleFormatId | ModeIndependentColorId>;\n\nconst styles = require('./OptionsPane.scss');\nconst NOT_SET = 'NotSet';\n\nexport interface DefaultFormatProps {\n    state: DefaultFormat;\n    resetState: (callback: (state: BuildInPluginState) => void, resetEditor: boolean) => void;\n}\n\nexport default class DefaultFormatPane extends React.Component<DefaultFormatProps, {}> {\n    render() {\n        return (\n            <>\n                <table>\n                    <tbody>\n                        {this.renderFormatItem('bold', 'Bold')}\n                        {this.renderFormatItem('italic', 'Italic')}\n                        {this.renderFormatItem('underline', 'Underline')}\n                    </tbody>\n                </table>\n                <table>\n                    <tbody>\n                        {this.renderSelectItem('fontFamily', 'Font family: ', {\n                            [NOT_SET]: 'Not Set',\n                            Arial: 'Arial',\n                            Calibri: 'Calibri',\n                            'Courier New': 'Courier New',\n                            Tahoma: 'Tahoma',\n                            'Times New Roman': 'Times New Roman',\n                        })}\n                        {this.renderSelectItem('fontSize', 'Font size: ', {\n                            [NOT_SET]: 'Not Set',\n                            '8pt': '8',\n                            '10pt': '10',\n                            '12pt': '12',\n                            '16pt': '16',\n                            '20pt': '20',\n                            '36pt': '36',\n                            '72pt': '72',\n                        })}\n                        {this.renderSelectItem('textColor', 'Text color: ', {\n                            [NOT_SET]: 'Not Set',\n                            '#757b80': 'Gray',\n                            '#bd1398': 'Violet',\n                            '#7232ad': 'Purple',\n                            '#006fc9': 'Blue',\n                            '#4ba524': 'Green',\n                            '#e2c501': 'Yellow',\n                            '#d05c12': 'Orange',\n                            '#ff0000': 'Red',\n                            '#ffffff': 'White',\n                            '#000000': 'Black',\n                        })}\n                        {this.renderSelectItem('backgroundColor', 'Back color: ', {\n                            [NOT_SET]: 'Not Set',\n                            '#ffff00': 'Yellow',\n                            '#00ff00': 'Green',\n                            '#00ffff': 'Cyan',\n                            '#ff00ff': 'Purple',\n                            '#0000ff': 'Blue',\n                            '#ff0000': 'Red',\n                            '#bebebe': 'Gray',\n                            '#666666': 'Dark Gray',\n                            '#ffffff': 'White',\n                            '#000000': 'Black',\n                        })}\n                    </tbody>\n                </table>\n            </>\n        );\n    }\n\n    private renderFormatItem(id: ToggleFormatId, text: string): JSX.Element {\n        let checked = (this.props.state[id] as boolean) || false;\n        return (\n            <tr>\n                <td className={styles.checkboxColumn}>\n                    <input\n                        type=\"checkbox\"\n                        id={id}\n                        checked={checked}\n                        onChange={() => this.onFormatClick(id)}\n                    />\n                </td>\n                <td>\n                    <div>\n                        <label htmlFor={id}>{text}</label>\n                    </div>\n                </td>\n            </tr>\n        );\n    }\n\n    private renderSelectItem(\n        id: SelectFormatId,\n        label: string,\n        items: { [key: string]: string }\n    ): JSX.Element {\n        return (\n            <tr>\n                <td className={styles.defaultFormatLabel}>{label}</td>\n                <td>\n                    <select\n                        id={id}\n                        onChange={() => this.onSelectChanged(id)}\n                        defaultValue={(this.props.state[id] || NOT_SET) as string}>\n                        {Object.keys(items).map(key => (\n                            <option value={key} key={key}>\n                                {items[key]}\n                            </option>\n                        ))}\n                    </select>\n                </td>\n            </tr>\n        );\n    }\n\n    private onFormatClick = (id: ToggleFormatId) => {\n        this.props.resetState(state => {\n            let checkbox = document.getElementById(id) as HTMLInputElement;\n            state.defaultFormat[id] = checkbox.checked;\n        }, true);\n    };\n\n    private onSelectChanged = (id: SelectFormatId) => {\n        this.props.resetState(state => {\n            let value = (document.getElementById(id) as HTMLSelectElement).value;\n            state.defaultFormat[id] = value == NOT_SET ? null : value;\n        }, true);\n    };\n}\n","import * as React from 'react';\nimport BuildInPluginState from '../../BuildInPluginState';\nimport { ExperimentalFeatures } from 'roosterjs-editor-types';\n\nexport interface ExperimentalFeaturesProps {\n    state: ExperimentalFeatures[];\n    resetState: (callback: (state: BuildInPluginState) => void, resetEditor: boolean) => void;\n}\n\nconst FeatureNames: { [key in ExperimentalFeatures]?: string } = {\n    [ExperimentalFeatures.SingleDirectionResize]: 'Resize an image horizontally or vertically',\n    [ExperimentalFeatures.PasteWithLinkPreview]: 'Try retrieve link preview information when paste',\n    [ExperimentalFeatures.ImageRotate]: 'Rotate an inline image',\n    [ExperimentalFeatures.ImageCrop]: 'Crop an inline image',\n    [ExperimentalFeatures.ConvertSingleImageBody]:\n        'Paste Html instead of image when Html have one Img Children (Animated Image Paste)',\n    [ExperimentalFeatures.TableAlignment]:\n        'Align table elements to left, center and right using setAlignment API',\n    [ExperimentalFeatures.TabKeyTextFeatures]: 'Additional functionality to Tab Key',\n    [ExperimentalFeatures.AdaptiveHandlesResizer]:\n        ' Provide a circular resize handles that adaptive the number od handles to the size of the image',\n    [ExperimentalFeatures.ListItemAlignment]:\n        'Align list elements elements to left, center and right using setAlignment API',\n    [ExperimentalFeatures.AutoFormatList]:\n        'Trigger formatting by a especial characters. Ex: (A), 1. i).',\n};\n\nexport default class ExperimentalFeaturesPane extends React.Component<\n    ExperimentalFeaturesProps,\n    {}\n> {\n    render() {\n        return (\n            <>\n                {Object.keys(FeatureNames).map((name: keyof typeof FeatureNames) =>\n                    this.renderFeature(name)\n                )}\n            </>\n        );\n    }\n\n    private renderFeature(name: keyof typeof FeatureNames): JSX.Element {\n        let checked = this.props.state.indexOf(name) >= 0;\n        return (\n            <div key={name}>\n                <input\n                    type=\"checkbox\"\n                    checked={checked}\n                    id={name}\n                    onChange={() => this.onClick(name)}\n                />\n                <label htmlFor={name}>{FeatureNames[name]}</label>\n            </div>\n        );\n    }\n\n    private onClick = (name: keyof typeof FeatureNames) => {\n        this.props.resetState(state => {\n            let checkbox = document.getElementById(name) as HTMLInputElement;\n            let index = state.experimentalFeatures.indexOf(name);\n\n            if (checkbox.checked && index < 0) {\n                state.experimentalFeatures.push(name);\n            } else if (!checkbox.checked && index >= 0) {\n                state.experimentalFeatures.splice(index, 1);\n            }\n        }, true);\n    };\n}\n","import * as React from 'react';\nimport BuildInPluginState, { BuildInPluginList, UrlPlaceholder } from '../../BuildInPluginState';\n\ntype PluginItemId = keyof BuildInPluginList;\n\nconst styles = require('./OptionsPane.scss');\n\nexport interface PluginsProps {\n    state: BuildInPluginState;\n    resetState: (callback: (state: BuildInPluginState) => void, resetEditor: boolean) => void;\n}\n\nexport default class Plugins extends React.Component<PluginsProps, {}> {\n    private linkTitle = React.createRef<HTMLInputElement>();\n    private watermarkText = React.createRef<HTMLInputElement>();\n    private forcePreserveRatio = React.createRef<HTMLInputElement>();\n\n    render() {\n        return (\n            <table>\n                <tbody>\n                    {this.renderPluginItem('contentEdit', 'Content Edit')}\n                    {this.renderPluginItem(\n                        'hyperlink',\n                        'Hyperlink Plugin',\n                        this.renderInputBox(\n                            'Label title: ',\n                            this.linkTitle,\n                            this.props.state.linkTitle,\n                            'Use \"' + UrlPlaceholder + '\" for the url string',\n                            (state, value) => (state.linkTitle = value)\n                        )\n                    )}\n                    {this.renderPluginItem('paste', 'Paste Plugin')}\n                    {this.renderPluginItem(\n                        'watermark',\n                        'Watermark Plugin',\n                        this.renderInputBox(\n                            'Watermark text: ',\n                            this.watermarkText,\n                            this.props.state.watermarkText,\n                            '',\n                            (state, value) => (state.watermarkText = value)\n                        )\n                    )}\n                    {this.renderPluginItem(\n                        'imageEdit',\n                        'Image Edit Plugin',\n                        this.renderCheckBox(\n                            'Force preserve ratio',\n                            this.forcePreserveRatio,\n                            this.props.state.forcePreserveRatio,\n                            (state, value) => (state.forcePreserveRatio = value)\n                        )\n                    )}\n                    {this.renderPluginItem('cutPasteListChain', 'CutPasteListChainPlugin')}\n                    {this.renderPluginItem('tableResize', 'Table Resize Plugin')}\n                    {this.renderPluginItem('pickerPlugin', 'Sample Picker Plugin')}\n                    {this.renderPluginItem('customReplace', 'Custom Replace Plugin (autocomplete)')}\n                    {this.renderPluginItem(\n                        'contextMenu',\n                        'Show customized context menu for special cases'\n                    )}\n                    {this.renderPluginItem('tableCellSelection', 'Table Cell Selection')}\n                </tbody>\n            </table>\n        );\n    }\n\n    private renderPluginItem(\n        id: PluginItemId,\n        text: string,\n        moreOptions?: JSX.Element\n    ): JSX.Element {\n        const checked = this.props.state.pluginList[id];\n\n        return (\n            <tr>\n                <td className={styles.checkboxColumn}>\n                    <input\n                        type=\"checkbox\"\n                        id={id}\n                        checked={checked}\n                        onChange={() => this.onPluginClick(id)}\n                    />\n                </td>\n                <td>\n                    <div>\n                        <label htmlFor={id}>{text}</label>\n                    </div>\n                    {checked && moreOptions}\n                </td>\n            </tr>\n        );\n    }\n\n    private renderInputBox(\n        label: string,\n        ref: React.RefObject<HTMLInputElement>,\n        value: string,\n        placeholder: string,\n        onChange: (state: BuildInPluginState, value: string) => void\n    ): JSX.Element {\n        return (\n            <div>\n                {label}\n                <input\n                    type=\"text\"\n                    ref={ref}\n                    value={value}\n                    placeholder={placeholder}\n                    onChange={() =>\n                        this.props.resetState(state => onChange(state, ref.current.value), false)\n                    }\n                    onBlur={() => this.props.resetState(null, true)}\n                />\n            </div>\n        );\n    }\n\n    private renderCheckBox(\n        label: string,\n        ref: React.RefObject<HTMLInputElement>,\n        value: boolean,\n        onChange: (state: BuildInPluginState, value: boolean) => void\n    ): JSX.Element {\n        return (\n            <div>\n                <input\n                    type=\"checkbox\"\n                    ref={ref}\n                    checked={value}\n                    onChange={() =>\n                        this.props.resetState(state => onChange(state, ref.current.checked), true)\n                    }\n                    onBlur={() => this.props.resetState(null, true)}\n                />\n                {label}\n            </div>\n        );\n    }\n\n    private onPluginClick = (id: PluginItemId) => {\n        this.props.resetState(state => {\n            let checkbox = document.getElementById(id) as HTMLInputElement;\n            state.pluginList[id] = checkbox.checked;\n        }, true);\n    };\n}\n","import BuildInPluginState from '../../../BuildInPluginState';\nimport CodeElement from './CodeElement';\nimport DarkModeCode from './DarkModeCode';\nimport DefaultFormatCode from './DefaultFormatCode';\nimport ExperimentalFeaturesCode from './ExperimentalFeaturesCode';\nimport PluginsCode from './PluginsCode';\nimport RibbonButtonCode from './RibbonButtonCode';\nimport RibbonCode from './RibbonCode';\n\nconst RibbonPluginVarName = 'ribbonPlugin';\n\nexport default class ReactEditorCode extends CodeElement {\n    private plugins: PluginsCode;\n    private defaultFormat: DefaultFormatCode;\n    private ribbon: RibbonCode;\n    private ribbonButton: RibbonButtonCode;\n    private experimentalFeatures: ExperimentalFeaturesCode;\n    private darkMode: DarkModeCode;\n    private isRtl: boolean;\n\n    constructor(state: BuildInPluginState) {\n        super();\n\n        this.ribbonButton = state.showRibbon ? new RibbonButtonCode(state) : null;\n        this.ribbon = state.showRibbon ? new RibbonCode(state, this.ribbonButton) : null;\n        this.plugins = new PluginsCode(state, this.ribbon ? [RibbonPluginVarName] : undefined);\n        this.defaultFormat = new DefaultFormatCode(state.defaultFormat);\n        this.experimentalFeatures = new ExperimentalFeaturesCode(state.experimentalFeatures);\n        this.darkMode = new DarkModeCode(state.supportDarkMode);\n        this.isRtl = state.isRtl;\n    }\n\n    getCode() {\n        let defaultFormat = this.defaultFormat.getCode();\n        let expermientalFeatures = this.experimentalFeatures.getCode();\n        let darkMode = this.darkMode.getCode();\n        let code = \"let root = document.getElementById('root');\\n\";\n\n        if (this.ribbonButton) {\n            code += `let ${RibbonPluginVarName} = roosterjsReact.createRibbonPlugin();\\n`;\n        }\n\n        code += `let plugins = ${this.plugins.getCode()};\\n`;\n        code += defaultFormat ? `let defaultFormat: DefaultFormat = ${defaultFormat};\\n` : '';\n        code += 'let options: roosterjs.EditorOptions = {\\n';\n        code += this.indent('plugins: plugins,\\n');\n        code += defaultFormat ? this.indent('defaultFormat: defaultFormat,\\n') : '';\n        code += expermientalFeatures\n            ? this.indent(`experimentalFeatures: [\\n${expermientalFeatures}],\\n`)\n            : '';\n        code += darkMode ? this.indent(`getDarkColor: ${darkMode},\\n`) : '';\n        code += '};\\n';\n\n        code += `let editor = <roosterjsReact.Rooster className=\"editor\" {...options} ${\n            this.isRtl ? 'dir=\"rtl\" ' : ''\n        }/>;\\n`;\n        let componentCode: string;\n\n        if (this.ribbon && this.ribbonButton) {\n            code += this.ribbonButton.getCode();\n            code += 'let ribbon = ' + this.ribbon.getCode();\n            componentCode = '<>{ribbon}{editor}</>';\n        } else {\n            componentCode = 'editor';\n        }\n\n        code += 'ReactDOM.render(' + componentCode + ', root);\\n';\n\n        return code;\n    }\n}\n","import BuildInPluginState from '../../../BuildInPluginState';\nimport CodeElement from './CodeElement';\n\nconst ButtonVarName = 'buttons';\n\nexport default class RibbonButtonCode extends CodeElement {\n    private supportDarkMode: boolean;\n\n    constructor(state: BuildInPluginState) {\n        super();\n\n        this.supportDarkMode = state.supportDarkMode;\n    }\n\n    getCode() {\n        let code = `let ${ButtonVarName} = roosterjsReact.getButtons();\\n`;\n\n        if (this.supportDarkMode) {\n            code += `${ButtonVarName}.push({\\n`;\n            code += this.indent('key: \"buttonNameDarkMode\",\\n');\n            code += this.indent('unlocalizedText: \"Dark Mode\",\\n');\n            code += this.indent('iconName: \"ClearNight\",\\n');\n            code += this.indent('isChecked: formatState => formatState.isDarkMode,\\n');\n            code += this.indent('onClick: editor => {\\n');\n            code += this.indent('    editor.setDarkModeState(!editor.isDarkMode());\\n');\n            code += this.indent('    editor.focus();\\n');\n            code += this.indent('},\\n');\n            code += '});\\n';\n        }\n\n        return code;\n    }\n\n    getButtonVarName() {\n        return ButtonVarName;\n    }\n}\n","import BuildInPluginState from '../../../BuildInPluginState';\nimport CodeElement from './CodeElement';\nimport RibbonButtonCode from './RibbonButtonCode';\n\nexport default class RibbonCode extends CodeElement {\n    private buttonsVarName: string;\n    private isRtl: boolean;\n\n    constructor(state: BuildInPluginState, ribbonButton: RibbonButtonCode) {\n        super();\n        this.buttonsVarName = ribbonButton.getButtonVarName();\n        this.isRtl = state.isRtl;\n    }\n\n    getCode() {\n        return `<roosterjsReact.Ribbon buttons={${this.buttonsVarName}} plugin={ribbonPlugin} ${\n            this.isRtl ? 'dir=\"rtl\" ' : ''\n        }/>;\\n`;\n    }\n}\n","import EventViewPane from './EventViewPane';\nimport SidePanePluginImpl from '../SidePanePluginImpl';\nimport { PluginEvent } from 'roosterjs-editor-types';\nimport { SidePaneElementProps } from '../SidePaneElement';\n\nexport default class EventViewPlugin extends SidePanePluginImpl<\n    EventViewPane,\n    SidePaneElementProps\n> {\n    constructor() {\n        super(EventViewPane, 'event', 'Event Viewer');\n    }\n\n    onPluginEvent(e: PluginEvent) {\n        this.getComponent(component => component.addEvent(e));\n    }\n\n    getComponentProps(base: SidePaneElementProps) {\n        return base;\n    }\n}\n","import * as React from 'react';\nimport { getTagOfNode, HtmlSanitizer, readFile, safeInstanceOf } from 'roosterjs-editor-dom';\nimport { SidePaneElementProps } from '../SidePaneElement';\nimport {\n    EntityOperation,\n    PendableFormatState,\n    PluginEvent,\n    PluginEventType,\n} from 'roosterjs-editor-types';\n\nconst styles = require('./EventViewPane.scss');\n\nexport interface EventEntry {\n    index: number;\n    time: Date;\n    event: PluginEvent;\n}\n\nexport interface EventViewPaneState {\n    displayCount: number;\n    currentIndex: number;\n}\n\nconst EventTypeMap: { [key in PluginEventType]: string } = {\n    [PluginEventType.BeforeDispose]: 'BeforeDispose',\n    [PluginEventType.BeforePaste]: 'BeforePaste',\n    [PluginEventType.CompositionEnd]: 'CompositionEnd',\n    [PluginEventType.ContentChanged]: 'ContentChanged',\n    [PluginEventType.EditorReady]: 'EditorReady',\n    [PluginEventType.EntityOperation]: 'EntityOperation',\n    [PluginEventType.ExtractContentWithDom]: 'ExtractContentWithDom',\n    [PluginEventType.KeyDown]: 'KeyDown',\n    [PluginEventType.KeyPress]: 'KeyPress',\n    [PluginEventType.KeyUp]: 'KeyUp',\n    [PluginEventType.MouseDown]: 'MouseDown',\n    [PluginEventType.MouseUp]: 'MouseUp',\n    [PluginEventType.Input]: 'Input',\n    [PluginEventType.PendingFormatStateChanged]: 'PendingFormatStateChanged',\n    [PluginEventType.Scroll]: 'Scroll',\n    [PluginEventType.BeforeCutCopy]: 'BeforeCutCopy',\n    [PluginEventType.ContextMenu]: 'ContextMenu',\n    [PluginEventType.EnteredShadowEdit]: 'EnteredShadowEdit',\n    [PluginEventType.LeavingShadowEdit]: 'LeavingShadowEdit',\n    [PluginEventType.EditImage]: 'EditImage',\n    [PluginEventType.BeforeSetContent]: 'BeforeSetContent',\n    [PluginEventType.ZoomChanged]: 'ZoomChanged',\n};\n\nconst EntityOperationMap: { [key in EntityOperation]: string } = {\n    [EntityOperation.AddShadowRoot]: 'AddShadowRoot',\n    [EntityOperation.RemoveShadowRoot]: 'RemoveShadowRoot',\n    [EntityOperation.Click]: 'Click',\n    [EntityOperation.ContextMenu]: 'ContextMenu',\n    [EntityOperation.Escape]: 'Escape',\n    [EntityOperation.NewEntity]: 'NewEntity',\n    [EntityOperation.Overwrite]: 'Overwrite',\n    [EntityOperation.PartialOverwrite]: 'PartialOverwrite',\n    [EntityOperation.RemoveFromEnd]: 'RemoveFromEnd',\n    [EntityOperation.RemoveFromStart]: 'RemoveFromStart',\n    [EntityOperation.ReplaceTemporaryContent]: 'ReplaceTemporaryContent',\n};\n\nexport default class EventViewPane extends React.Component<\n    SidePaneElementProps,\n    EventViewPaneState\n> {\n    private events: EventEntry[] = [];\n    private displayCount = React.createRef<HTMLSelectElement>();\n    private lastIndex = 0;\n\n    constructor(props: SidePaneElementProps) {\n        super(props);\n        this.state = {\n            displayCount: 20,\n            currentIndex: -1,\n        };\n    }\n\n    render() {\n        let displayCount = Math.min(this.events.length, this.state.displayCount);\n        let displayedEvents =\n            displayCount > 0 ? this.events.slice(this.events.length - displayCount) : [];\n        displayedEvents = displayedEvents.reverse();\n\n        return (\n            <>\n                <div>\n                    Show item count:\n                    <select\n                        defaultValue={this.state.displayCount.toString()}\n                        ref={this.displayCount}\n                        onChange={this.onDisplayCountChanged}>\n                        <option value={'0'}>Disabled</option>\n                        <option value={'20'}>20</option>\n                        <option value={'50'}>50</option>\n                        <option value={'100'}>100</option>\n                    </select>{' '}\n                    <button onClick={this.clear}>Clear all</button>\n                </div>\n                <div>\n                    {displayedEvents.map(event => (\n                        <details key={event.index.toString()}>\n                            <summary>\n                                {`${event.time.getHours()}:${event.time.getMinutes()}:${event.time.getSeconds()}.${event.time.getMilliseconds()} `}\n                                {EventTypeMap[event.event.eventType]}\n                            </summary>\n                            <div className={styles.eventContent}>\n                                {this.renderEvent(event.event)}\n                            </div>\n                        </details>\n                    ))}\n                </div>\n            </>\n        );\n    }\n\n    addEvent(event: PluginEvent) {\n        if (this.state.displayCount > 0) {\n            if (event.eventType == PluginEventType.BeforePaste) {\n                const sanitizer = new HtmlSanitizer(event.sanitizingOption);\n                const fragment = event.fragment.cloneNode(true /*deep*/) as DocumentFragment;\n\n                sanitizer.convertGlobalCssToInlineCss(fragment);\n                sanitizer.sanitize(fragment);\n                (event.clipboardData as any).html = this.getHtml(fragment);\n            }\n\n            this.events.push({\n                time: new Date(),\n                event: event,\n                index: this.lastIndex++,\n            });\n\n            while (this.events.length > 100) {\n                this.events.shift();\n            }\n            this.setState({\n                currentIndex: this.lastIndex,\n            });\n        }\n    }\n\n    private renderEvent(event: PluginEvent): JSX.Element {\n        switch (event.eventType) {\n            case PluginEventType.KeyDown:\n            case PluginEventType.KeyPress:\n            case PluginEventType.KeyUp:\n                return (\n                    <span>\n                        Key=\n                        {event.rawEvent.which}\n                    </span>\n                );\n\n            case PluginEventType.MouseDown:\n            case PluginEventType.MouseUp:\n            case PluginEventType.ContextMenu:\n                return (\n                    <span>\n                        Button=\n                        {event.rawEvent.button}, SrcElement=\n                        {event.rawEvent.target && getTagOfNode(event.rawEvent.target as Node)},\n                        PageX=\n                        {event.rawEvent.pageX}, PageY=\n                        {event.rawEvent.pageY}\n                    </span>\n                );\n\n            case PluginEventType.ContentChanged:\n                return (\n                    <span>\n                        Source=\n                        {event.source}, Data=\n                        {event.data && event.data.toString && event.data.toString()}\n                    </span>\n                );\n\n            case PluginEventType.BeforePaste:\n                return (\n                    <span>\n                        Types=\n                        {event.clipboardData.types.join()}\n                        {this.renderPasteContent('Plain text', event.clipboardData.text)}\n                        {this.renderPasteContent(\n                            'Sanitized HTML',\n                            (event.clipboardData as any).html\n                        )}\n                        {this.renderPasteContent('Original HTML', event.clipboardData.rawHtml)}\n                        {this.renderPasteContent('Image', event.clipboardData.image, img => (\n                            <img\n                                ref={ref => ref && this.renderImage(ref, img)}\n                                className={styles.img}\n                            />\n                        ))}\n                        {this.renderPasteContent(\n                            'LinkPreview',\n                            event.clipboardData.linkPreview\n                                ? JSON.stringify(event.clipboardData.linkPreview)\n                                : ''\n                        )}\n                        {Object.keys(event.clipboardData.customValues).map(contentType =>\n                            this.renderPasteContent(\n                                contentType,\n                                event.clipboardData.customValues[contentType]\n                            )\n                        )}\n                    </span>\n                );\n            case PluginEventType.PendingFormatStateChanged:\n                const formatState = event.formatState;\n                const keys = Object.keys(formatState) as (keyof PendableFormatState)[];\n                return <span>{keys.map(key => `${key}=${event.formatState[key]}; `)}</span>;\n\n            case PluginEventType.EntityOperation:\n                const {\n                    operation,\n                    entity: { id, type },\n                } = event;\n                return (\n                    <span>\n                        Operation={EntityOperationMap[operation]} Type={type}; Id={id}\n                    </span>\n                );\n\n            case PluginEventType.BeforeCutCopy:\n                const { isCut } = event;\n                return <span>isCut={isCut ? 'true' : 'false'}</span>;\n\n            case PluginEventType.EditImage:\n                return (\n                    <>\n                        <span>new src={event.newSrc.substr(0, 100)}</span>\n                    </>\n                );\n\n            case PluginEventType.ZoomChanged:\n                return (\n                    <span>\n                        Old value={event.oldZoomScale} New value={event.newZoomScale}\n                    </span>\n                );\n\n            default:\n                return null;\n        }\n    }\n\n    private clear = () => {\n        this.events = [];\n        this.setState({\n            currentIndex: -1,\n        });\n    };\n\n    private renderImage = (img: HTMLImageElement, imageFile: File) => {\n        readFile(imageFile, dataUrl => (img.src = dataUrl));\n    };\n\n    private onDisplayCountChanged = () => {\n        let value = parseInt(this.displayCount.current.value);\n        this.setState({\n            displayCount: value,\n        });\n    };\n\n    private renderPasteContent(\n        title: string,\n        content: any,\n        renderer: (content: any) => JSX.Element = content => <span>{content}</span>\n    ): JSX.Element {\n        return (\n            content && (\n                <details>\n                    <summary>{title}</summary>\n                    <div className={styles.pasteContent}>{renderer(content)}</div>\n                </details>\n            )\n        );\n    }\n\n    private getHtml(fragment: DocumentFragment) {\n        const stringArray: string[] = [];\n        for (let child = fragment.firstChild; child; child = child.nextSibling) {\n            stringArray.push(\n                safeInstanceOf(child, 'HTMLElement')\n                    ? child.outerHTML\n                    : safeInstanceOf(child, 'Text')\n                    ? child.nodeValue\n                    : ''\n            );\n        }\n\n        return stringArray.join('');\n    }\n}\n","var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/sass-loader/dist/cjs.js!./EventViewPane.scss\");\nvar loader = require(\"/home/runner/work/roosterjs/roosterjs/node_modules/@microsoft/loader-load-themed-styles/node_modules/@microsoft/load-themed-styles/lib/index.js\");\n\nif(typeof content === \"string\") content = [[module.id, content]];\n\n// add the styles to the DOM\nfor (var i = 0; i < content.length; i++) loader.loadStyles(content[i][1], false);\n\nif(content.locals) module.exports = content.locals;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"._2TlmgQ1bW5R050B6jYhEX{max-width:100%;max-height:300px}.ffJacBjxWzCVBw1QPEOh4{font-family:\\\"Courier New\\\";font-size:10.5pt;margin:10px}.bUF-XqoekK8dhSeJ-0o5c{margin-left:20px}\", \"\"]);\n// Exports\nexports.locals = {\n\t\"img\": \"_2TlmgQ1bW5R050B6jYhEX\",\n\t\"pasteContent\": \"ffJacBjxWzCVBw1QPEOh4\",\n\t\"eventContent\": \"bUF-XqoekK8dhSeJ-0o5c\"\n};\nmodule.exports = exports;\n","import FormatStatePane, { FormatStatePaneProps } from './FormatStatePane';\nimport SidePanePluginImpl from '../SidePanePluginImpl';\nimport { getFormatState } from 'roosterjs-editor-api';\nimport { getPositionRect } from 'roosterjs-editor-dom';\nimport { IEditor, PluginEvent, PluginEventType } from 'roosterjs-editor-types';\nimport { SidePaneElementProps } from '../SidePaneElement';\n\nexport default class FormatStatePlugin extends SidePanePluginImpl<\n    FormatStatePane,\n    FormatStatePaneProps\n> {\n    constructor() {\n        super(FormatStatePane, 'format', 'Format State');\n    }\n\n    initialize(editor: IEditor) {\n        super.initialize(editor);\n        this.editor.runAsync(editor => {\n            editor.focus();\n\n            this.updateFormatState();\n        });\n    }\n\n    getComponentProps(base: SidePaneElementProps) {\n        return {\n            ...base,\n            ...this.getFormatState(),\n        };\n    }\n\n    onPluginEvent(event: PluginEvent) {\n        if (\n            event.eventType == PluginEventType.KeyUp ||\n            event.eventType == PluginEventType.MouseUp ||\n            event.eventType == PluginEventType.ContentChanged\n        ) {\n            this.updateFormatState();\n        }\n    }\n\n    updateFormatState() {\n        this.getComponent(component => component.setFormatState(this.getFormatState()));\n    }\n\n    private getFormatState() {\n        const format = this.editor && getFormatState(this.editor);\n        const position = this.editor && this.editor.getFocusedPosition();\n        const rect = position && getPositionRect(position);\n        return {\n            format,\n            inIME: this.editor && this.editor.isInIME(),\n            x: rect ? rect.left : 0,\n            y: rect ? rect.top : 0,\n        };\n    }\n}\n","import * as React from 'react';\nimport { Browser } from 'roosterjs-editor-dom';\nimport { FormatState } from 'roosterjs-editor-types';\nimport { SidePaneElementProps } from '../SidePaneElement';\n\nconst styles = require('./FormatStatePane.scss');\n\nexport interface FormatStatePaneState {\n    format: FormatState;\n    inIME: boolean;\n    x: number;\n    y: number;\n}\nexport interface FormatStatePaneProps extends FormatStatePaneState, SidePaneElementProps {}\n\nexport default class FormatStatePane extends React.Component<\n    FormatStatePaneProps,\n    FormatStatePaneState\n> {\n    constructor(props: FormatStatePaneProps) {\n        super(props);\n        this.state = {\n            format: props.format,\n            inIME: props.inIME,\n            x: props.x,\n            y: props.y,\n        };\n    }\n\n    setFormatState(state: FormatStatePaneState) {\n        this.setState(state);\n    }\n\n    render() {\n        let { format, x, y } = this.state;\n        return format ? (\n            <table>\n                <tbody>\n                    <tr>\n                        <td className={styles.title}>Position</td>\n                        <td>{`${x},${y}`}</td>\n                    </tr>\n                    <tr>\n                        <td className={styles.title}>Font</td>\n                        <td>\n                            <span>{`${format.fontName}, ${format.fontSize}`}</span>\n                        </td>\n                    </tr>\n                    <tr>\n                        <td className={styles.title}>Colors</td>\n                        <td>\n                            <span\n                                style={{\n                                    color: format.textColor,\n                                    backgroundColor: format.backgroundColor,\n                                }}>{`${format.textColor} / ${format.backgroundColor}`}</span>\n                        </td>\n                    </tr>\n                    <tr>\n                        <td className={styles.title}>IME</td>\n                        <td>{this.renderSpan(this.state.inIME, 'InIME')}</td>\n                    </tr>\n                    <tr>\n                        <td className={styles.title}>Formats</td>\n                        <td>\n                            {this.renderSpan(format.isBold, 'Bold')}\n                            {this.renderSpan(format.isItalic, 'Italic')}\n                            {this.renderSpan(format.isUnderline, 'Underline')}\n                            {this.renderSpan(format.isStrikeThrough, 'Strike')}\n                            {this.renderSpan(format.isSubscript, 'Subscript')}\n                            {this.renderSpan(format.isSuperscript, 'Superscript')}\n                        </td>\n                    </tr>\n                    <tr>\n                        <td className={styles.title}>Structure</td>\n                        <td>\n                            {this.renderSpan(format.isBullet, 'Bullet')}\n                            {this.renderSpan(format.isNumbering, 'Numbering')}\n                            {this.renderSpan(format.isBlockQuote, 'Quote')}\n                            {this.renderSpan(format.canUnlink, 'In Link')}\n                            {this.renderSpan(format.canAddImageAltText, 'In Image')}\n                            <span\n                                className={\n                                    format.headerLevel == 0 && styles.inactive\n                                }>{`Header ${format.headerLevel}`}</span>\n                        </td>\n                    </tr>\n                    <tr>\n                        <td className={styles.title}>Undo</td>\n                        <td>\n                            {this.renderSpan(format.canUndo, 'Can Undo')}\n                            {this.renderSpan(format.canRedo, 'Can Redo')}\n                        </td>\n                    </tr>\n                    <tr>\n                        <td className={styles.title}>Browser</td>\n                        <td>\n                            {this.renderSpan(Browser.isChrome, 'Chrome')}\n                            {this.renderSpan(Browser.isEdge, 'Edge')}\n                            {this.renderSpan(Browser.isFirefox, 'Firefox')}\n                            {this.renderSpan(Browser.isIE11OrGreater, 'IE10/11')}\n                            {this.renderSpan(Browser.isIE, 'IE')}\n                            {this.renderSpan(Browser.isIEOrEdge, 'IE/Edge')}\n                            {this.renderSpan(Browser.isSafari, 'Safari')}\n                            {this.renderSpan(Browser.isWebKit, 'Webkit')}\n                        </td>\n                    </tr>\n                    <tr>\n                        <td className={styles.title}>OS</td>\n                        <td>\n                            {this.renderSpan(Browser.isMac, 'MacOS')}\n                            {this.renderSpan(Browser.isWin, 'Windows')}\n                        </td>\n                    </tr>\n                    <tr>\n                        <td className={styles.title}>User Agent</td>\n                        <td>{window.navigator.userAgent}</td>\n                    </tr>\n                    <tr>\n                        <td className={styles.title}>App Version</td>\n                        <td>{window.navigator.appVersion}</td>\n                    </tr>\n                </tbody>\n            </table>\n        ) : (\n            <div>Please focus into editor</div>\n        );\n    }\n\n    private renderSpan(formatState: boolean, text: string): JSX.Element {\n        return <span className={formatState ? '' : styles.inactive}>{text + ' '}</span>;\n    }\n}\n","var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/sass-loader/dist/cjs.js!./FormatStatePane.scss\");\nvar loader = require(\"/home/runner/work/roosterjs/roosterjs/node_modules/@microsoft/loader-load-themed-styles/node_modules/@microsoft/load-themed-styles/lib/index.js\");\n\nif(typeof content === \"string\") content = [[module.id, content]];\n\n// add the styles to the DOM\nfor (var i = 0; i < content.length; i++) loader.loadStyles(content[i][1], false);\n\nif(content.locals) module.exports = content.locals;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"._2HXvsNDp44ok-mZyQwNNCy{color:#eee}._1HxlX2f9hy_xnwciZLYJ3w{font-weight:bold}@media(prefers-color-scheme: dark){._2HXvsNDp44ok-mZyQwNNCy{color:#555}}\", \"\"]);\n// Exports\nexports.locals = {\n\t\"inactive\": \"_2HXvsNDp44ok-mZyQwNNCy\",\n\t\"title\": \"_1HxlX2f9hy_xnwciZLYJ3w\"\n};\nmodule.exports = exports;\n","import BuildInPluginState, { BuildInPluginList, UrlPlaceholder } from './BuildInPluginState';\nimport ImageEditPlugin from './contextMenu/ImageEditPlugin';\nimport ResetListPlugin from './contextMenu/ResetListPlugin';\nimport SampleColorPickerPluginDataProvider from './samplepicker/SampleColorPickerPluginDataProvider';\nimport { AutoFormat } from 'roosterjs-editor-plugins/lib/AutoFormat';\nimport { ContentEdit } from 'roosterjs-editor-plugins/lib/ContentEdit';\nimport { CONTEXT_MENU_DATA_PROVIDER } from './contextMenu/ContextMenuProvider';\nimport { ContextMenu } from 'roosterjs-editor-plugins/lib/ContextMenu';\nimport { CustomReplace as CustomReplacePlugin } from 'roosterjs-editor-plugins/lib/CustomReplace';\nimport { CutPasteListChain } from 'roosterjs-editor-plugins/lib/CutPasteListChain';\nimport { EditorPlugin } from 'roosterjs-editor-types';\nimport { HyperLink } from 'roosterjs-editor-plugins/lib/HyperLink';\nimport { Paste } from 'roosterjs-editor-plugins/lib/Paste';\nimport { PickerPlugin } from 'roosterjs-editor-plugins/lib/Picker';\nimport { TableCellSelection } from 'roosterjs-editor-plugins/lib/TableCellSelection';\nimport { TableResize } from 'roosterjs-editor-plugins/lib/TableResize';\nimport { Watermark } from 'roosterjs-editor-plugins/lib/Watermark';\n\nconst PluginCreators: {\n    [key in keyof BuildInPluginList]: (initState: BuildInPluginState) => EditorPlugin;\n} = {\n    contentEdit: initState => new ContentEdit(initState.contentEditFeatures),\n    hyperlink: ({ linkTitle }) =>\n        new HyperLink(\n            linkTitle?.indexOf(UrlPlaceholder) >= 0\n                ? url => linkTitle.replace(UrlPlaceholder, url)\n                : linkTitle\n                ? () => linkTitle\n                : null\n        ),\n    paste: _ => new Paste(),\n    watermark: initState => new Watermark(initState.watermarkText),\n    imageEdit: initState =>\n        new ImageEditPlugin({\n            preserveRatio: initState.forcePreserveRatio,\n        }),\n    cutPasteListChain: _ => new CutPasteListChain(),\n    tableCellSelection: _ => new TableCellSelection(),\n    tableResize: _ => new TableResize(),\n    pickerPlugin: _ =>\n        new PickerPlugin(new SampleColorPickerPluginDataProvider(), {\n            elementIdPrefix: 'samplePicker-',\n            changeSource: 'SAMPLE_COLOR_PICKER',\n            triggerCharacter: ':',\n            isHorizontal: true,\n        }),\n    customReplace: _ => new CustomReplacePlugin(),\n    resetList: _ => new ResetListPlugin(),\n    contextMenu: _ => new ContextMenu(CONTEXT_MENU_DATA_PROVIDER),\n    autoFormat: _ => new AutoFormat(),\n};\n\nexport default function getToggleablePlugins(initState: BuildInPluginState) {\n    return Object.keys(PluginCreators).map((key: keyof BuildInPluginList) =>\n        initState.pluginList[key] ? PluginCreators[key](initState) : null\n    );\n}\n","import { ContextMenuItem } from './ContextMenuProvider';\nimport { safeInstanceOf } from 'roosterjs-editor-dom';\nimport {\n    canRegenerateImage,\n    ImageEdit,\n    resizeByPercentage,\n    resetImage,\n} from 'roosterjs-editor-plugins/lib/ImageEdit';\nimport {\n    ContextMenuProvider,\n    ExperimentalFeatures,\n    IEditor,\n    ImageEditOperation,\n} from 'roosterjs-editor-types';\n\nexport default class ImageEditPlugin extends ImageEdit\n    implements ContextMenuProvider<ContextMenuItem> {\n    private allowCrop: boolean;\n\n    initialize(editor: IEditor) {\n        super.initialize(editor);\n        this.allowCrop = editor.isFeatureEnabled(ExperimentalFeatures.ImageCrop);\n    }\n\n    getContextMenuItems(node: Node) {\n        const items: ContextMenuItem[] = [];\n        if (safeInstanceOf(node, 'HTMLImageElement') && node.isContentEditable) {\n            items.push({\n                key: 'resize',\n                name: 'Resize image',\n                onClick: () => {\n                    this.setEditingImage(node, ImageEditOperation.ResizeAndRotate);\n                },\n            });\n\n            if (this.allowCrop && canRegenerateImage(node)) {\n                items.push({\n                    key: 'crop',\n                    name: 'Crop image',\n                    onClick: () => {\n                        this.setEditingImage(node, ImageEditOperation.Crop);\n                    },\n                });\n            }\n\n            items.push({\n                key: '25',\n                name: 'Resize to 25%',\n                onClick: () => {\n                    resizeByPercentage(\n                        this.editor,\n                        node,\n                        0.25,\n                        this.options.minWidth,\n                        this.options.minHeight\n                    );\n                },\n            });\n            items.push({\n                key: '50',\n                name: 'Resize to 50%',\n                onClick: () => {\n                    resizeByPercentage(\n                        this.editor,\n                        node,\n                        0.5,\n                        this.options.minWidth,\n                        this.options.minHeight\n                    );\n                },\n            });\n            items.push({\n                key: '100',\n                name: 'Resize to 100%',\n                onClick: () => {\n                    resizeByPercentage(\n                        this.editor,\n                        node,\n                        1,\n                        this.options.minWidth,\n                        this.options.minHeight\n                    );\n                },\n            });\n            items.push({\n                key: 'reset',\n                name: 'Reset image',\n                onClick: () => {\n                    resetImage(this.editor, node);\n                },\n            });\n        }\n        return items.length > 0 ? items : null;\n    }\n}\n","import { ContextMenuItem } from './ContextMenuProvider';\nimport { ContextMenuProvider, IEditor } from 'roosterjs-editor-types';\nimport { safeInstanceOf } from 'roosterjs-editor-dom';\nimport { setOrderedListNumbering } from 'roosterjs-editor-api';\n\nexport default class ResetListPlugin implements ContextMenuProvider<ContextMenuItem> {\n    private editor: IEditor;\n\n    getName() {\n        return 'ResetList';\n    }\n\n    initialize(editor: IEditor) {\n        this.editor = editor;\n    }\n\n    dispose() {\n        this.editor = null;\n    }\n\n    getContextMenuItems(node: Node) {\n        const items: ContextMenuItem[] = [];\n\n        if (safeInstanceOf(node, 'HTMLLIElement')) {\n            const list = this.editor.getElementAtCursor('ol,ul', node);\n            if (safeInstanceOf(list, 'HTMLOListElement')) {\n                items.push(\n                    {\n                        key: 'resetList',\n                        name: 'Reset list number',\n                        onClick: () => {\n                            setOrderedListNumbering(this.editor, node, 1);\n                        },\n                    },\n                    {\n                        key: 'setNumberingValue',\n                        name: 'Set Numbering Value',\n                        onClick: () => {\n                            let value = parseInt(prompt('Set Value to...', '1'));\n                            setOrderedListNumbering(this.editor, node, value);\n                        },\n                    }\n                );\n            }\n        }\n\n        return items;\n    }\n}\n","import * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport { default as SampleColorPicker, SampleColorPickerProps } from './SampleColorPicker';\nimport { getPositionRect } from 'roosterjs-editor-dom';\nimport { IEditor, PickerDataProvider } from 'roosterjs-editor-types';\n\ntype LegalKeys<T> = T extends 'onClick' ? never : T;\ntype ComponentState = { [l in LegalKeys<keyof SampleColorPickerProps>]: SampleColorPickerProps[l] };\n\ntype InsertNodeCallback = (nodeToInsert: HTMLElement) => void;\ntype Color = {\n    htmlColor: string;\n    names: string[];\n};\n\nconst pickerColors: Color[] = [\n    {\n        htmlColor: '#F8b195',\n        names: ['pink', 'orange', 'peach'],\n    },\n    {\n        htmlColor: '#f67280',\n        names: ['pink', 'cherry', 'apple', 'red'],\n    },\n    {\n        htmlColor: '#c06c84',\n        names: ['purple', 'violet', 'purplered', 'berry'],\n    },\n    {\n        htmlColor: '#355c7d',\n        names: ['blue', 'azul', 'azure', 'dark', 'deep'],\n    },\n];\n\nexport default class SampleColorPickerPluginDataProvider implements PickerDataProvider {\n    /**\n     * For inserting a node into hte\n     */\n    private insertNodeCallback: InsertNodeCallback;\n\n    private componentState: ComponentState = {\n        queryString: '',\n        selectedIndex: 0,\n        colors: [],\n        cursorX: 0,\n        cursorY: 0,\n    };\n    private mountPoint: HTMLElement;\n    private editor: IEditor;\n\n    // Function called when the plugin is initialized to register two callbacks with the data provider and a reference to the Editor.\n    // The first is called in order to \"commit\" a new element to the editor body that isn't handled automatically by the editor plugin.\n    // The second sets the isSuggesting value for situations where the UX needs to manipulate the suggesting state that's otherwise plugin managed.\n    onInitalize(\n        insertNodeCallback: InsertNodeCallback,\n        setIsSuggestingCallback: (isSuggesting: boolean) => void,\n        editor: IEditor\n    ): void {\n        this.insertNodeCallback = insertNodeCallback;\n        this.editor = editor;\n        this.updateToQuery('', 0);\n\n        const document = this.editor.getDocument();\n        this.mountPoint = document.createElement('section');\n        document.body.appendChild(this.mountPoint);\n    }\n\n    // Function called when the plugin is disposed for the data provider to do any cleanup.\n    onDispose(): void {\n        if (this.mountPoint) {\n            this.editor.getDocument().body.removeChild(this.mountPoint);\n        }\n        this.mountPoint = null;\n    }\n\n    // Function called when the picker changes suggesting state (e.g. when your dialog opens)\n    onIsSuggestingChanged(isSuggesting: boolean) {\n        if (isSuggesting) {\n            this.updateRender();\n        } else {\n            ReactDOM.unmountComponentAtNode(this.mountPoint);\n        }\n    }\n\n    private updateToQuery(queryString: string, index: number = 0) {\n        const lowerCaseQuery = queryString.toLowerCase();\n        const currentSelectedColor =\n            (this.componentState && this.componentState.colors[index]) || null;\n        const colors = pickerColors\n            .filter(color =>\n                color.names.some(colorName => colorName.indexOf(lowerCaseQuery) !== -1)\n            )\n            .map(color => color.htmlColor);\n        const newIndexOfCurrentSelectedColor = currentSelectedColor\n            ? colors.indexOf(currentSelectedColor)\n            : index;\n        const selectedIndex = Math.max(\n            0,\n            Math.min(newIndexOfCurrentSelectedColor, colors.length - 1)\n        );\n\n        const position = this.editor.getFocusedPosition();\n        const rect = getPositionRect(position);\n\n        this.componentState = {\n            queryString,\n            selectedIndex,\n            colors,\n            cursorX: rect ? rect.left : 0,\n            cursorY: rect ? rect.bottom : 0,\n        };\n    }\n\n    private updateRender() {\n        ReactDOM.render(\n            <SampleColorPicker {...this.componentState} onClick={this.insertColor} />,\n            this.mountPoint\n        );\n    }\n\n    private insertColor = (color: string) => {\n        const span = this.editor.getDocument().createElement('span');\n        span.innerText = '⬤';\n        span.style.color = color;\n        this.insertNodeCallback(span);\n    };\n\n    // Function called when the query string (text after the trigger symbol) is updated.\n    queryStringUpdated(queryString: string) {\n        this.updateToQuery(queryString);\n        this.updateRender();\n    }\n\n    // Function called when a keypress is issued that would \"select\" a currently highlighted option.\n    selectOption() {\n        const currentSelectedColor =\n            (this.componentState &&\n                this.componentState.colors[this.componentState.selectedIndex]) ||\n            null;\n        if (currentSelectedColor == null) {\n            return;\n        }\n        this.insertColor(currentSelectedColor);\n    }\n\n    // Function called when a keypress is issued that would move the highlight on any picker UX.\n    shiftHighlight(isIncrement: boolean) {\n        this.updateToQuery(\n            this.componentState.queryString,\n            this.componentState.selectedIndex + (isIncrement ? 1 : -1)\n        );\n        this.updateRender();\n    }\n\n    // Function that is called when a delete command is issued.\n    // Returns the intended replacement node (if partial delete) or null (if full delete)\n    onRemove(nodeRemoved: Node, isBackwards: boolean): Node | null {\n        return null;\n    }\n}\n","import * as React from 'react';\nconst styles = require('./SampleColorPicker.scss');\n\nexport type SampleColorPickerProps = {\n    queryString: string;\n    selectedIndex: number;\n    colors: string[];\n    cursorX: number;\n    cursorY: number;\n    onClick: (color: string) => void;\n};\n\nexport default class SampleColorPicker<T> extends React.PureComponent<SampleColorPickerProps> {\n    render() {\n        return (\n            <div\n                className={`sample-color-picker ${styles.samplePickerContainer}`}\n                style={{ top: this.props.cursorY, left: this.props.cursorX }}>\n                {this.props.colors.length ? (\n                    this.props.colors.map((color, index) => (\n                        <div\n                            key={color}\n                            className={\n                                this.props.selectedIndex == index\n                                    ? `${styles.samplePickerColorSwatch} ${styles.selected}`\n                                    : styles.samplePickerColorSwatch\n                            }\n                            style={{ backgroundColor: color }}\n                            onClick={() => this.props.onClick(color)}\n                        />\n                    ))\n                ) : (\n                    <span>🤷️ No Results! </span>\n                )}\n            </div>\n        );\n    }\n}\n","var content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../node_modules/sass-loader/dist/cjs.js!./SampleColorPicker.scss\");\nvar loader = require(\"/home/runner/work/roosterjs/roosterjs/node_modules/@microsoft/loader-load-themed-styles/node_modules/@microsoft/load-themed-styles/lib/index.js\");\n\nif(typeof content === \"string\") content = [[module.id, content]];\n\n// add the styles to the DOM\nfor (var i = 0; i < content.length; i++) loader.loadStyles(content[i][1], false);\n\nif(content.locals) module.exports = content.locals;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"._1AFQxXV__o48aJRsrF0MDk{background-color:#222;display:flex;border:1px solid #000;position:absolute;top:0;left:0;height:1.5em;min-width:1.5em;justify-content:center;align-items:center;color:#fff}._1X9L-UmmVeADTYnNoGHmdd{display:block;border-radius:50%;width:1em;height:1em;margin:.5em;box-sizing:border-box}._1X9L-UmmVeADTYnNoGHmdd._3dOdI0cBwId5a2nz2FiU0w{border:1px solid rgba(254,254,254,.9960784314)}\", \"\"]);\n// Exports\nexports.locals = {\n\t\"samplePickerContainer\": \"_1AFQxXV__o48aJRsrF0MDk\",\n\t\"samplePickerColorSwatch\": \"_1X9L-UmmVeADTYnNoGHmdd\",\n\t\"selected\": \"_3dOdI0cBwId5a2nz2FiU0w\"\n};\nmodule.exports = exports;\n","import * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport { ContextMenuOptions } from 'roosterjs-editor-plugins/lib/ContextMenu';\n\nconst styles = require('./ContextMenuProvider.scss');\n\nexport interface ContextMenuItem {\n    key: string;\n    name: string;\n    onClick: () => void;\n}\n\nexport const CONTEXT_MENU_DATA_PROVIDER: ContextMenuOptions<ContextMenuItem> = {\n    render: (container: HTMLElement, items: ContextMenuItem[], onDismiss: () => void) => {\n        ReactDOM.render(<ContextMenu items={items} onDismiss={onDismiss} />, container);\n    },\n    dismiss: (container: HTMLElement) => {\n        ReactDOM.unmountComponentAtNode(container);\n    },\n};\n\nfunction ContextMenu(props: { items: ContextMenuItem[]; onDismiss: () => void }) {\n    const div = React.useRef<HTMLDivElement>();\n    const { items, onDismiss } = props;\n\n    React.useEffect(() => {\n        const doc = div.current.ownerDocument;\n        doc.addEventListener('click', onDismiss);\n        doc.addEventListener('keydown', onDismiss);\n        return () => {\n            doc.removeEventListener('click', onDismiss);\n            doc.removeEventListener('keydown', onDismiss);\n        };\n    }, []);\n    return (\n        <div className={styles.menu} ref={div}>\n            {items.map(\n                item =>\n                    item && (\n                        <div\n                            className={styles.menuItem}\n                            key={item.key}\n                            onClick={() => item.onClick()}>\n                            {item.name}\n                        </div>\n                    )\n            )}\n        </div>\n    );\n}\n","var content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../node_modules/sass-loader/dist/cjs.js!./ContextMenuProvider.scss\");\nvar loader = require(\"/home/runner/work/roosterjs/roosterjs/node_modules/@microsoft/loader-load-themed-styles/node_modules/@microsoft/load-themed-styles/lib/index.js\");\n\nif(typeof content === \"string\") content = [[module.id, content]];\n\n// add the styles to the DOM\nfor (var i = 0; i < content.length; i++) loader.loadStyles(content[i][1], false);\n\nif(content.locals) module.exports = content.locals;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"._28CyhEYxdHXFT2iouFU1sG{border:solid 1px #aaa;background-color:#fff;box-shadow:2px 2px 2px #888;color:#000;position:absolute;white-space:nowrap}._1FkzG7UKk0gbhsnHuErgiH{padding:2px;cursor:pointer}._1FkzG7UKk0gbhsnHuErgiH:hover{background-color:#34f;color:#fff}\", \"\"]);\n// Exports\nexports.locals = {\n\t\"menu\": \"_28CyhEYxdHXFT2iouFU1sG\",\n\t\"menuItem\": \"_1FkzG7UKk0gbhsnHuErgiH\"\n};\nmodule.exports = exports;\n","import * as React from 'react';\nimport SidePanePlugin from '../SidePanePlugin';\n\nconst styles = require('./SidePane.scss');\n\nexport interface SidePaneProps {\n    plugins: SidePanePlugin[];\n    className?: string;\n}\n\nexport interface SidePaneState {\n    currentPane: SidePanePlugin;\n}\n\nexport default class SidePane extends React.Component<SidePaneProps, SidePaneState> {\n    private div = React.createRef<HTMLDivElement>();\n\n    constructor(props: SidePaneProps) {\n        super(props);\n        this.state = {\n            currentPane: this.props.plugins[0],\n        };\n\n        window.addEventListener('hashchange', this.updateStateFromHash);\n    }\n\n    componentDidMount() {\n        this.updateStateFromHash();\n    }\n\n    componentWillUnmount() {\n        window.removeEventListener('hashchange', this.updateStateFromHash);\n    }\n\n    render() {\n        let className = (this.props.className || '') + ' ' + styles.sidePane;\n        return (\n            <div className={className} ref={this.div}>\n                {this.props.plugins.map(this.renderSidePane)}\n            </div>\n        );\n    }\n\n    changeWidth(widthDelta: number) {\n        let div = this.div.current;\n        if (div) {\n            div.style.width = div.clientWidth + widthDelta + 'px';\n        }\n    }\n\n    updateHash = (pluginName?: string, path?: string[]) => {\n        window.location.hash =\n            (pluginName || this.state.currentPane.getName()) + (path ? '/' + path.join('/') : '');\n    };\n\n    private updateStateFromHash = () => {\n        let hash = window.location.hash;\n        let hashes = (hash ? hash.substr(1) : '').split('/');\n        let pluginName = hashes[0];\n        let plugin =\n            pluginName && this.props.plugins.filter(plugin => plugin.getName() == pluginName)[0];\n\n        if (plugin) {\n            this.setState({\n                currentPane: plugin,\n            });\n\n            window.setTimeout(() => {\n                hashes.splice(0, 1);\n                if (plugin.setHashPath) {\n                    plugin.setHashPath(hashes);\n                }\n            }, 0);\n        }\n    };\n\n    private renderSidePane = (plugin: SidePanePlugin): JSX.Element => {\n        let title = plugin.getTitle();\n        let isCurrent = this.state.currentPane == plugin;\n        return (\n            <div key={title} className={isCurrent ? styles.activePane : styles.inactivePane}>\n                <div className={styles.title} onClick={() => this.updateHash(plugin.getName())}>\n                    {title}\n                </div>\n                <div className={styles.bodyContainer}>\n                    <div className={styles.body}>{plugin.renderSidePane(this.updateHash)}</div>\n                </div>\n            </div>\n        );\n    };\n}\n","var content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../node_modules/sass-loader/dist/cjs.js!./SidePane.scss\");\nvar loader = require(\"/home/runner/work/roosterjs/roosterjs/node_modules/@microsoft/loader-load-themed-styles/node_modules/@microsoft/load-themed-styles/lib/index.js\");\n\nif(typeof content === \"string\") content = [[module.id, content]];\n\n// add the styles to the DOM\nfor (var i = 0; i < content.length; i++) loader.loadStyles(content[i][1], false);\n\nif(content.locals) module.exports = content.locals;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"@media(prefers-color-scheme: dark){button{background-color:#0091a1;color:#aaf7ff;border:solid 1px #007b8b}select,input,textarea{background-color:#333;color:#aaf7ff;border:solid 1px #007b8b}}._1PlpDVxjlx0PpeYJornEhO{display:flex;flex-direction:column;overflow:auto hidden;border:solid 1px #0bc}.bUl77zUyQ8rsLeCWewoHf{font-family:\\\"Tahoma\\\";font-size:12pt;font-weight:bold;background-color:#09a;color:#fff;padding:2px;border:solid 1px #fff;cursor:pointer;flex:0 0 auto}.bUl77zUyQ8rsLeCWewoHf:hover{background-color:#00b0c4}._1Wy64YypxEm0pHdAFt3XyU{display:flex;flex-direction:column;flex:1 1 auto}._1Wy64YypxEm0pHdAFt3XyU ._3n6qkPOj7d7pT5EreXLpW_{flex:1 1 auto;display:flex;position:relative}._1Wy64YypxEm0pHdAFt3XyU ._3n6qkPOj7d7pT5EreXLpW_ ._1kHOYplq2tIl0x8bAqBZrs{position:absolute;left:0;top:0;right:0;bottom:0;display:flex;flex-direction:column;font-family:Arial,Helvetica,sans-serif;padding:10px;overflow-y:auto}._2l2WY2-sLGfv8zWnCEMFYu{flex:0 0 auto}._2l2WY2-sLGfv8zWnCEMFYu ._3n6qkPOj7d7pT5EreXLpW_{height:0;overflow:hidden}@media(prefers-color-scheme: dark){._1PlpDVxjlx0PpeYJornEhO{color:#0bc;border:solid 1px #007b8b}.bUl77zUyQ8rsLeCWewoHf{background-color:#0091a1;color:#333}.bUl77zUyQ8rsLeCWewoHf:hover{background-color:#00a8bb}}\", \"\"]);\n// Exports\nexports.locals = {\n\t\"sidePane\": \"_1PlpDVxjlx0PpeYJornEhO\",\n\t\"title\": \"bUl77zUyQ8rsLeCWewoHf\",\n\t\"activePane\": \"_1Wy64YypxEm0pHdAFt3XyU\",\n\t\"bodyContainer\": \"_3n6qkPOj7d7pT5EreXLpW_\",\n\t\"body\": \"_1kHOYplq2tIl0x8bAqBZrs\",\n\t\"inactivePane\": \"_2l2WY2-sLGfv8zWnCEMFYu\"\n};\nmodule.exports = exports;\n","import * as React from 'react';\nimport SidePanePlugin from '../../SidePanePlugin';\nimport SnapshotPane from './SnapshotPane';\nimport UndoSnapshots from './UndoSnapshots';\nimport { createSnapshots } from 'roosterjs-editor-dom';\nimport { IEditor, PluginEvent, PluginEventType } from 'roosterjs-editor-types';\nimport { Snapshot } from 'roosterjs-editor-types';\n\nexport default class SnapshotPlugin implements SidePanePlugin {\n    private editorInstance: IEditor;\n    private component: SnapshotPane;\n    private snapshotService: UndoSnapshots;\n    private static snapshots = createSnapshots<Snapshot>(1e7);\n\n    constructor() {\n        this.snapshotService = new UndoSnapshots(SnapshotPlugin.snapshots, this.updateSnapshots);\n    }\n\n    getName() {\n        return 'Snapshot';\n    }\n\n    initialize(editor: IEditor) {\n        this.editorInstance = editor;\n    }\n\n    dispose() {\n        this.editorInstance = null;\n    }\n\n    onPluginEvent(e: PluginEvent) {\n        if (e.eventType == PluginEventType.EditorReady) {\n            this.updateSnapshots();\n        }\n    }\n\n    getTitle() {\n        return 'Undo Snapshots';\n    }\n\n    renderSidePane() {\n        return <SnapshotPane {...this.getComponentProps()} ref={this.refCallback} />;\n    }\n\n    getSnapshotService() {\n        return this.snapshotService;\n    }\n\n    private refCallback = (ref: SnapshotPane) => {\n        this.component = ref;\n        if (ref) {\n            this.updateSnapshots();\n        }\n    };\n\n    private getComponentProps() {\n        return {\n            onRestoreSnapshot: this.onRestoreSnapshot,\n            onTakeSnapshot: this.onTakeSnapshot,\n            onMove: this.onMove,\n        };\n    }\n\n    private onTakeSnapshot = (): Snapshot => {\n        let newSnapshot: Snapshot;\n\n        try {\n            this.snapshotService.startHijackUndoSnapshot(snapshot => {\n                newSnapshot = snapshot;\n            });\n            this.editorInstance.addUndoSnapshot();\n        } finally {\n            this.snapshotService.stopHijackUndoSnapshot();\n        }\n\n        return newSnapshot;\n    };\n\n    private onMove = (step: number) => {\n        const snapshot = this.snapshotService.move(step);\n        this.onRestoreSnapshot(snapshot);\n    };\n\n    private onRestoreSnapshot = (snapshot: Snapshot) => {\n        this.editorInstance.focus();\n        this.editorInstance.setContent(\n            this.component.snapshotToString(snapshot),\n            false /*triggerContentChangedEvent*/\n        );\n    };\n\n    private updateSnapshots = () => {\n        if (!this.component) {\n            return;\n        }\n\n        this.component.updateSnapshots(\n            this.snapshotService.getSnapshots(),\n            this.snapshotService.getCurrentIndex(),\n            this.snapshotService.getAutoCompleteIndex()\n        );\n    };\n}\n","import * as React from 'react';\nimport { Snapshot } from 'roosterjs-editor-types';\n\nconst styles = require('./SnapshotPane.scss');\n\nexport interface SnapshotPaneProps {\n    onTakeSnapshot: () => Snapshot;\n    onRestoreSnapshot: (snapshot: Snapshot) => void;\n    onMove: (moveStep: number) => void;\n}\n\nexport interface SnapshotPaneState {\n    snapshots: Snapshot[];\n    currentIndex: number;\n    autoCompleteIndex: number;\n}\n\nexport default class SnapshotPane extends React.Component<SnapshotPaneProps, SnapshotPaneState> {\n    private textarea: HTMLTextAreaElement;\n\n    constructor(props: SnapshotPaneProps) {\n        super(props);\n\n        this.state = {\n            snapshots: [],\n            currentIndex: -1,\n            autoCompleteIndex: -1,\n        };\n    }\n\n    render() {\n        return (\n            <div className={styles.snapshotPane}>\n                <h3>Undo Snapshots</h3>\n                <div className={styles.snapshotList}>\n                    {this.state.snapshots.map(this.renderItem)}\n                </div>\n                <h3>Selected Snapshot</h3>\n                <div className={styles.buttons}>\n                    <button onClick={this.takeSnapshot}>{'Take snapshot'}</button>{' '}\n                    <button\n                        onClick={() =>\n                            this.props.onRestoreSnapshot({\n                                html: this.textarea.value,\n                                metadata: null,\n                            })\n                        }>\n                        {'Restore snapshot'}\n                    </button>\n                </div>\n                <textarea\n                    ref={ref => (this.textarea = ref)}\n                    className={styles.textarea}\n                    spellCheck={false}\n                />\n            </div>\n        );\n    }\n\n    updateSnapshots(snapshots: Snapshot[], currentIndex: number, autoCompleteIndex: number) {\n        this.setState({\n            snapshots,\n            currentIndex,\n            autoCompleteIndex,\n        });\n    }\n\n    snapshotToString(snapshot: Snapshot) {\n        return (\n            snapshot.html + (snapshot.metadata ? `<!--${JSON.stringify(snapshot.metadata)}-->` : '')\n        );\n    }\n\n    private takeSnapshot = () => {\n        const snapshot = this.props.onTakeSnapshot();\n        this.setSnapshot(this.snapshotToString(snapshot));\n    };\n\n    private setSnapshot = (snapshot: string) => {\n        this.textarea.value = snapshot;\n    };\n\n    private renderItem = (snapshot: Snapshot, index: number) => {\n        let className = '';\n        if (index == this.state.currentIndex) {\n            className += ' ' + styles.current;\n        }\n        if (index == this.state.autoCompleteIndex) {\n            className += ' ' + styles.autoComplete;\n        }\n\n        const snapshotStr = this.snapshotToString(snapshot);\n        return (\n            <pre\n                className={className}\n                key={index}\n                onClick={() => this.setSnapshot(snapshotStr)}\n                onDoubleClick={() => this.props.onMove(index - this.state.currentIndex)}>\n                {(snapshotStr || '<EMPTY SNAPSHOT>').substring(0, 1000)}\n            </pre>\n        );\n    };\n}\n","var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/sass-loader/dist/cjs.js!./SnapshotPane.scss\");\nvar loader = require(\"/home/runner/work/roosterjs/roosterjs/node_modules/@microsoft/loader-load-themed-styles/node_modules/@microsoft/load-themed-styles/lib/index.js\");\n\nif(typeof content === \"string\") content = [[module.id, content]];\n\n// add the styles to the DOM\nfor (var i = 0; i < content.length; i++) loader.loadStyles(content[i][1], false);\n\nif(content.locals) module.exports = content.locals;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"@media(prefers-color-scheme: dark){button{background-color:#0091a1;color:#aaf7ff;border:solid 1px #007b8b}select,input,textarea{background-color:#333;color:#aaf7ff;border:solid 1px #007b8b}}.HibV3xkyKxOpjnAyk0qr4{flex:1 1 auto;display:flex;flex-direction:column}._1yCf4MUqqEDULqM4RSNRBS{margin-bottom:10px;flex:0 0 auto}.E1MpWNg-lFB-dmiOBDnVv{flex:1 1 auto;resize:none;min-height:100px;border-color:#0bc}._2WqAZxlRXbhGBPoaHrJ1Gv{min-height:100px;max-height:200px;overflow:hidden auto;border:solid 1px #0bc}._2WqAZxlRXbhGBPoaHrJ1Gv pre{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;cursor:pointer;margin:0}._2WqAZxlRXbhGBPoaHrJ1Gv pre:hover{background-color:#eee}._2WqAZxlRXbhGBPoaHrJ1Gv pre._21blMEsk_K31sbjM73Q_V2{font-weight:bold}._2WqAZxlRXbhGBPoaHrJ1Gv pre.t0z_eiUKKfEvZR3eNUMXy{background-color:#ff0}@media(prefers-color-scheme: dark){._2WqAZxlRXbhGBPoaHrJ1Gv{border:solid 1px #007b8b}.E1MpWNg-lFB-dmiOBDnVv{border-color:#007b8b}._2WqAZxlRXbhGBPoaHrJ1Gv{border:solid 1px #007b8b}}\", \"\"]);\n// Exports\nexports.locals = {\n\t\"snapshotPane\": \"HibV3xkyKxOpjnAyk0qr4\",\n\t\"buttons\": \"_1yCf4MUqqEDULqM4RSNRBS\",\n\t\"textarea\": \"E1MpWNg-lFB-dmiOBDnVv\",\n\t\"snapshotList\": \"_2WqAZxlRXbhGBPoaHrJ1Gv\",\n\t\"current\": \"_21blMEsk_K31sbjM73Q_V2\",\n\t\"autoComplete\": \"t0z_eiUKKfEvZR3eNUMXy\"\n};\nmodule.exports = exports;\n","import { Snapshot, Snapshots, UndoSnapshotsService } from 'roosterjs-editor-types';\nimport {\n    addSnapshotV2,\n    canMoveCurrentSnapshot,\n    moveCurrentSnapshot,\n    clearProceedingSnapshotsV2,\n    canUndoAutoComplete,\n} from 'roosterjs-editor-dom';\n\nexport default class UndoSnapshots implements UndoSnapshotsService<Snapshot> {\n    private hijackUndoSnapshotCallback: undefined | ((snapshot: Snapshot) => void);\n\n    constructor(private snapshots: Snapshots<Snapshot>, private onChange: () => void) {}\n\n    public isUndoSnapshotServiceV2(): true {\n        return true;\n    }\n\n    public startHijackUndoSnapshot(callback: (snapshot: Snapshot) => void) {\n        this.hijackUndoSnapshotCallback = callback;\n    }\n\n    public stopHijackUndoSnapshot() {\n        this.hijackUndoSnapshotCallback = undefined;\n    }\n\n    public canMove(delta: number): boolean {\n        return canMoveCurrentSnapshot(this.snapshots, delta);\n    }\n\n    public move(delta: number): Snapshot {\n        const result = moveCurrentSnapshot(this.snapshots, delta);\n        this.onChange();\n        return result;\n    }\n\n    public addSnapshot(snapshot: Snapshot, isAutoCompleteSnapshot: boolean) {\n        if (this.hijackUndoSnapshotCallback) {\n            this.hijackUndoSnapshotCallback(snapshot);\n        } else {\n            addSnapshotV2(this.snapshots, snapshot, isAutoCompleteSnapshot);\n            this.onChange();\n        }\n    }\n\n    public clearRedo() {\n        clearProceedingSnapshotsV2(this.snapshots);\n        this.onChange();\n    }\n\n    public getSnapshots() {\n        return this.snapshots.snapshots;\n    }\n\n    public getCurrentIndex() {\n        return this.snapshots.currentIndex;\n    }\n\n    public getAutoCompleteIndex() {\n        return this.snapshots.autoCompleteIndex;\n    }\n\n    public canUndoAutoComplete() {\n        return canUndoAutoComplete(this.snapshots);\n    }\n}\n","import * as React from 'react';\n\nconst styles = require('./TitleBar.scss');\nconst github = require('./iconmonstr-github-1.svg');\n\ninterface WindowHack extends Window {\n    roosterJsVer: string;\n}\n\nexport interface TitleBarProps {\n    className?: string;\n}\n\nexport default class TitleBar extends React.Component<TitleBarProps, {}> {\n    render() {\n        let className = styles.titleBar + ' ' + (this.props.className || '');\n        return (\n            <div className={className}>\n                <div className={styles.title}>\n                    <span className={styles.titleText}>RoosterJs Demo Site</span>\n                </div>\n                <div className={styles.version}>\n                    {((window as any) as WindowHack).roosterJsVer || ''}\n                </div>\n                <div className={styles.links}>\n                    <a\n                        href=\"https://github.com/Microsoft/roosterjs/wiki\"\n                        target=\"_blank\"\n                        className={styles.link}>\n                        Wiki\n                    </a>\n                    {' | '}\n                    <a href=\"docs/index.html\" target=\"_blank\" className={styles.link}>\n                        References\n                    </a>\n                    {' | '}\n                    <a href=\"coverage/index.html\" target=\"_blank\" className={styles.link}>\n                        Test\n                    </a>\n                    {' | '}\n                    <a\n                        href=\"https://github.com/microsoft/roosterjs/actions/workflows/build-and-deploy.yml\"\n                        target=\"_blank\">\n                        <img\n                            className={styles.externalLink}\n                            src=\"https://github.com/microsoft/roosterjs/actions/workflows/build-and-deploy.yml/badge.svg\"\n                            alt=\"Build Status\"\n                        />\n                    </a>{' '}\n                    <a href=\"http://badge.fury.io/js/roosterjs\" target=\"_blank\">\n                        <img\n                            src=\"https://badge.fury.io/js/roosterjs.svg\"\n                            alt=\"NPM Version\"\n                            className={styles.externalLink}\n                        />\n                    </a>{' '}\n                    <a\n                        href=\"https://github.com/microsoft/roosterjs\"\n                        target=\"_blank\"\n                        className={styles.link}\n                        title=\"RoosterJs on Github\">\n                        <img className={styles.externalLink} src={github} />\n                    </a>\n                </div>\n            </div>\n        );\n    }\n}\n","var content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../node_modules/sass-loader/dist/cjs.js!./TitleBar.scss\");\nvar loader = require(\"/home/runner/work/roosterjs/roosterjs/node_modules/@microsoft/loader-load-themed-styles/node_modules/@microsoft/load-themed-styles/lib/index.js\");\n\nif(typeof content === \"string\") content = [[module.id, content]];\n\n// add the styles to the DOM\nfor (var i = 0; i < content.length; i++) loader.loadStyles(content[i][1], false);\n\nif(content.locals) module.exports = content.locals;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"@media(prefers-color-scheme: dark){button{background-color:#0091a1;color:#aaf7ff;border:solid 1px #007b8b}select,input,textarea{background-color:#333;color:#aaf7ff;border:solid 1px #007b8b}}._38B2xrPpolo75ScC_XTUJ0{display:flex;background-color:#09a;padding:5px 10px;margin-bottom:10px;border-radius:10px;align-items:center}._3rKujTCbT6hEqSSJowznfl{flex:0 0 auto;font-size:24pt;font-family:Arial;font-weight:bold;font-style:italic;color:#fff;text-shadow:2px 2px 2px #000}.LmRq7AaEB4aAjkYn1_Fx1{flex:1 1 auto;color:#fff;font-family:Calibri;font-size:14pt;margin:10px 0 0 10px}._2pD0Ll-40t-pFcvxGbmrDa{color:#fff;flex:0 0 auto;text-align:right;font-size:14pt;font-family:Calibri}.NlCA34doW26bRa3ETK3MV{color:#fff;text-decoration:none}.NlCA34doW26bRa3ETK3MV:hover{text-decoration:underline}._1TClD7zQfb72l9_IIRB9Bu{vertical-align:middle}@media(prefers-color-scheme: dark){._38B2xrPpolo75ScC_XTUJ0{background-color:#0091a1}._3rKujTCbT6hEqSSJowznfl,.NlCA34doW26bRa3ETK3MV{color:#bbd1e1}}\", \"\"]);\n// Exports\nexports.locals = {\n\t\"titleBar\": \"_38B2xrPpolo75ScC_XTUJ0\",\n\t\"title\": \"_3rKujTCbT6hEqSSJowznfl\",\n\t\"version\": \"LmRq7AaEB4aAjkYn1_Fx1\",\n\t\"links\": \"_2pD0Ll-40t-pFcvxGbmrDa\",\n\t\"link\": \"NlCA34doW26bRa3ETK3MV\",\n\t\"externalLink\": \"_1TClD7zQfb72l9_IIRB9Bu\"\n};\nmodule.exports = exports;\n","module.exports = \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMTIgMGMtNi42MjYgMC0xMiA1LjM3My0xMiAxMiAwIDUuMzAyIDMuNDM4IDkuOCA4LjIwNyAxMS4zODcuNTk5LjExMS43OTMtLjI2MS43OTMtLjU3N3YtMi4yMzRjLTMuMzM4LjcyNi00LjAzMy0xLjQxNi00LjAzMy0xLjQxNi0uNTQ2LTEuMzg3LTEuMzMzLTEuNzU2LTEuMzMzLTEuNzU2LTEuMDg5LS43NDUuMDgzLS43MjkuMDgzLS43MjkgMS4yMDUuMDg0IDEuODM5IDEuMjM3IDEuODM5IDEuMjM3IDEuMDcgMS44MzQgMi44MDcgMS4zMDQgMy40OTIuOTk3LjEwNy0uNzc1LjQxOC0xLjMwNS43NjItMS42MDQtMi42NjUtLjMwNS01LjQ2Ny0xLjMzNC01LjQ2Ny01LjkzMSAwLTEuMzExLjQ2OS0yLjM4MSAxLjIzNi0zLjIyMS0uMTI0LS4zMDMtLjUzNS0xLjUyNC4xMTctMy4xNzYgMCAwIDEuMDA4LS4zMjIgMy4zMDEgMS4yMy45NTctLjI2NiAxLjk4My0uMzk5IDMuMDAzLS40MDQgMS4wMi4wMDUgMi4wNDcuMTM4IDMuMDA2LjQwNCAyLjI5MS0xLjU1MiAzLjI5Ny0xLjIzIDMuMjk3LTEuMjMuNjUzIDEuNjUzLjI0MiAyLjg3NC4xMTggMy4xNzYuNzcuODQgMS4yMzUgMS45MTEgMS4yMzUgMy4yMjEgMCA0LjYwOS0yLjgwNyA1LjYyNC01LjQ3OSA1LjkyMS40My4zNzIuODIzIDEuMTAyLjgyMyAyLjIyMnYzLjI5M2MwIC4zMTkuMTkyLjY5NC44MDEuNTc2IDQuNzY1LTEuNTg5IDguMTk5LTYuMDg2IDguMTk5LTExLjM4NiAwLTYuNjI3LTUuMzczLTEyLTEyLTEyeiIvPjwvc3ZnPg==\"","import MainPaneBase from '../MainPaneBase';\nimport { RibbonButton } from 'roosterjs-react';\n\n/**\n * Key of localized strings of Dark mode button\n */\nexport type DarkModeButtonStringKey = 'buttonNameDarkMode';\n\n/**\n * \"Dark mode\" button on the format ribbon\n */\nexport const darkMode: RibbonButton<DarkModeButtonStringKey> = {\n    key: 'buttonNameDarkMode',\n    unlocalizedText: 'Dark Mode',\n    iconName: 'ClearNight',\n    isChecked: formatState => formatState.isDarkMode,\n    onClick: editor => {\n        editor.setDarkModeState(!editor.isDarkMode());\n        editor.focus();\n\n        // Let main pane know this state change so that it can be persisted when pop out/pop in\n        MainPaneBase.getInstance().toggleDarkMode();\n        return true;\n    },\n};\n","import { RibbonButton } from 'roosterjs-react';\nimport { trustedHTMLHandler } from '../../utils/trustedHTMLHandler';\n\n/**\n * Key of localized strings of Zoom button\n */\nexport type ExportButtonStringKey = 'buttonNameExport';\n\n/**\n * \"Export content\" button on the format ribbon\n */\nexport const exportContent: RibbonButton<ExportButtonStringKey> = {\n    key: 'buttonNameExport',\n    unlocalizedText: 'Export',\n    iconName: 'Export',\n    flipWhenRtl: true,\n    onClick: editor => {\n        const win = editor.getDocument().defaultView.open();\n        win.document.write(trustedHTMLHandler(editor.getContent()));\n    },\n};\n","import MainPaneBase from '../MainPaneBase';\nimport { RibbonButton } from 'roosterjs-react';\n\n/**\n * Key of localized strings of Popout button\n */\nexport type PopoutButtonStringKey = 'buttonNamePopout';\n\n/**\n * \"Popout\" button on the format ribbon\n */\nexport const popout: RibbonButton<PopoutButtonStringKey> = {\n    key: 'buttonNamePopout',\n    unlocalizedText: 'Open in a separate window',\n    iconName: 'OpenInNewWindow',\n    flipWhenRtl: true,\n    onClick: _ => {\n        MainPaneBase.getInstance().popout();\n    },\n};\n","import { Stylesheet } from '@fluentui/merge-styles/lib/Stylesheet';\n\nlet isCssMonitorStarted: boolean = false;\nconst activeWindows: Window[] = [];\n\nfunction startCssMonitor() {\n    if (!isCssMonitorStarted) {\n        isCssMonitorStarted = true;\n        Stylesheet.getInstance().setConfig({\n            onInsertRule: (cssText: string) => {\n                activeWindows.forEach(win => {\n                    const style = win.document.createElement('style');\n                    style.textContent = cssText;\n                    win.document.head.appendChild(style);\n                });\n            },\n        });\n    }\n}\n\nexport function registerWindowForCss(win: Window) {\n    startCssMonitor();\n\n    activeWindows.push(win);\n\n    const styles = document.getElementsByTagName('STYLE');\n    const fragment = win.document.createDocumentFragment();\n\n    for (let i = 0; i < styles.length; i++) {\n        const style = win.document.createElement('style');\n        fragment.appendChild(style);\n\n        const originalStyle = styles[i] as HTMLStyleElement;\n        const rules = originalStyle.sheet.cssRules;\n        let cssText = '';\n\n        for (let j = 0; j < rules.length; j++) {\n            const rule = rules[j] as CSSStyleRule;\n            cssText += rule.cssText;\n        }\n\n        style.textContent = cssText;\n    }\n\n    win.document.head.appendChild(fragment);\n}\n\nexport function unregisterWindowForCss(win: Window) {\n    const index = activeWindows.indexOf(win);\n\n    if (index >= 0) {\n        activeWindows.splice(index, 1);\n    }\n}\n","import { editTable } from 'roosterjs-editor-api';\nimport { FormatState, IEditor, TableOperation } from 'roosterjs-editor-types';\nimport { RibbonButton } from 'roosterjs-react';\n\ntype TableEditOperationsKey =\n    | 'deleteTable'\n    | 'deleteRow'\n    | 'deleteColumn'\n    | 'insertAbove'\n    | 'insertBelow'\n    | 'insertLeft'\n    | 'insertRight'\n    | 'merge'\n    | 'mergeAbove'\n    | 'mergeBelow'\n    | 'mergeLeft'\n    | 'mergeRight';\n\n/**\n * Key of localized strings of Table Edit Operations button\n */\nexport type TableEditOperationsStringKey = 'buttonNameTableEditOperations';\n\nconst tableEditOperationsLabel: Record<TableEditOperationsKey, string> = {\n    insertAbove: 'Insert Above',\n    insertBelow: 'Insert Below',\n    insertLeft: 'Insert Left',\n    insertRight: 'Insert Right',\n    merge: 'Merge Cells',\n    deleteTable: 'Delete Table',\n    deleteRow: 'Delete Row',\n    deleteColumn: 'Delete Column',\n    mergeAbove: 'Merge Above',\n    mergeBelow: 'Merge Below',\n    mergeLeft: 'Merge Left',\n    mergeRight: 'Merge Right',\n};\n\nconst tableEditOperations: Record<TableEditOperationsKey, TableOperation> = {\n    insertAbove: TableOperation.InsertAbove,\n    insertBelow: TableOperation.InsertBelow,\n    insertLeft: TableOperation.InsertLeft,\n    insertRight: TableOperation.InsertRight,\n    merge: TableOperation.MergeCells,\n    deleteTable: TableOperation.DeleteTable,\n    deleteRow: TableOperation.DeleteRow,\n    deleteColumn: TableOperation.DeleteColumn,\n    mergeAbove: TableOperation.MergeAbove,\n    mergeBelow: TableOperation.MergeBelow,\n    mergeLeft: TableOperation.MergeLeft,\n    mergeRight: TableOperation.MergeRight,\n};\n\n/**\n * @internal\n * \"TableEditOperations\" button on the format ribbon\n */\nexport const tableEdit: RibbonButton<TableEditOperationsStringKey> = {\n    key: 'buttonNameTableEditOperations',\n    unlocalizedText: 'Table Edit Operations',\n    iconName: 'DeleteTable',\n    dropDownMenu: {\n        items: tableEditOperationsLabel,\n    },\n    isDisabled: (format: FormatState) => {\n        return format.isInTable ? false : true;\n    },\n    onClick: (editor, key: TableEditOperationsKey) => {\n        editTableOperation(editor, tableEditOperations[key]);\n    },\n};\n\nfunction editTableOperation(editor: IEditor, operation: TableOperation) {\n    editTable(editor, operation);\n}\n","import MainPaneBase from '../MainPaneBase';\nimport { RibbonButton } from 'roosterjs-react';\n\nconst DropDownItems = {\n    'zoom50%': '50%',\n    'zoom75%': '75%',\n    'zoom100%': '100%',\n    'zoom150%': '150%',\n    'zoom200%': '200%',\n};\n\nconst DropDownValues: { [key in keyof typeof DropDownItems]: number } = {\n    'zoom50%': 0.5,\n    'zoom75%': 0.75,\n    'zoom100%': 1,\n    'zoom150%': 1.5,\n    'zoom200%': 2,\n};\n\n/**\n * Key of localized strings of Zoom button\n */\nexport type ZoomButtonStringKey = 'buttonNameZoom';\n\n/**\n * \"Zoom\" button on the format ribbon\n */\nexport const zoom: RibbonButton<ZoomButtonStringKey> = {\n    key: 'buttonNameZoom',\n    unlocalizedText: 'Zoom',\n    iconName: 'ZoomIn',\n    dropDownMenu: {\n        items: DropDownItems,\n        getSelectedItemKey: formatState =>\n            Object.keys(DropDownItems).filter(\n                (key: keyof typeof DropDownItems) => DropDownValues[key] == formatState.zoomScale\n            )[0],\n    },\n    onClick: (editor, key) => {\n        const zoomScale = DropDownValues[key as keyof typeof DropDownItems];\n        editor.setZoomScale(zoomScale);\n        editor.focus();\n\n        // Let main pane know this state change so that it can be persisted when pop out/pop in\n        MainPaneBase.getInstance().setScale(zoomScale);\n        return true;\n    },\n};\n","export * from './common/index';\nexport * from './rooster/index';\nexport * from './ribbon/index';\nexport * from './pasteOptions/index';\n","import * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport UIUtilities from '../type/UIUtilities';\nimport { getComputedStyles } from 'roosterjs-editor-dom';\nimport { PartialTheme, ThemeProvider } from '@fluentui/react/lib/Theme';\nimport { WindowProvider } from '@fluentui/react/lib/WindowProvider';\n\n/**\n * Create the UI Utilities object for plugins to render additional react components\n * @param container Container DIV of editor\n * @param theme Current theme used by editor\n * @returns A UIUtilities object\n */\nexport default function createUIUtilities(\n    container: HTMLDivElement,\n    theme: PartialTheme\n): UIUtilities {\n    return {\n        renderComponent: element => {\n            const doc = container.ownerDocument;\n            const div = doc.createElement('div');\n            doc.body.appendChild(div);\n\n            ReactDOM.render(\n                <WindowProvider window={doc.defaultView}>\n                    <ThemeProvider theme={theme}>{element}</ThemeProvider>\n                </WindowProvider>,\n                div\n            );\n\n            return () => {\n                ReactDOM.unmountComponentAtNode(div);\n                doc.body.removeChild(div);\n            };\n        },\n        isRightToLeft: () => {\n            const dir = container && getComputedStyles(container, 'direction')[0];\n\n            return dir == 'rtl';\n        },\n    };\n}\n","export { default as RoosterProps } from './type/RoosterProps';\nexport { UpdateMode } from './type/UpdateMode';\nexport { default as UpdateContentPlugin } from './type/UpdateContentPlugin';\n\nexport { default as Rooster } from './component/Rooster';\n\nexport { default as createUpdateContentPlugin } from './plugin/createUpdateContentPlugin';\n","import * as React from 'react';\nimport RoosterProps from '../type/RoosterProps';\nimport { createUIUtilities, ReactEditorPlugin } from '../../common/index';\nimport { divProperties, getNativeProps } from '@fluentui/react/lib/Utilities';\nimport { Editor } from 'roosterjs-editor-core';\nimport { EditorOptions, EditorPlugin, IEditor } from 'roosterjs-editor-types';\nimport { useTheme } from '@fluentui/react/lib/Theme';\n\n/**\n * Main component of react wrapper for roosterjs\n * @param props Properties of this component\n * @returns The react component\n */\nexport default function Rooster(props: RoosterProps) {\n    const editorDiv = React.useRef<HTMLDivElement>(null);\n    const editor = React.useRef<IEditor>(null);\n    const theme = useTheme();\n\n    const { focusOnInit, editorCreator, zoomScale, inDarkMode, plugins } = props;\n\n    React.useEffect(() => {\n        if (plugins) {\n            const uiUtilities = createUIUtilities(editorDiv.current, theme);\n\n            plugins.forEach(plugin => {\n                if (isReactEditorPlugin(plugin)) {\n                    plugin.setUIUtilities(uiUtilities);\n                }\n            });\n        }\n    }, [theme, editorCreator]);\n\n    React.useEffect(() => {\n        editor.current = (editorCreator || defaultEditorCreator)(editorDiv.current, props);\n\n        if (focusOnInit) {\n            editor.current.focus();\n        }\n\n        return () => {\n            if (editor.current) {\n                editor.current.dispose();\n                editor.current = null;\n            }\n        };\n    }, [editorCreator]);\n\n    React.useEffect(() => {\n        editor.current.setDarkModeState(!!inDarkMode);\n    }, [inDarkMode]);\n\n    React.useEffect(() => {\n        editor.current.setZoomScale(zoomScale);\n    }, [zoomScale]);\n\n    const divProps = getNativeProps<React.HTMLAttributes<HTMLDivElement>>(props, divProperties);\n    return <div ref={editorDiv} tabIndex={0} {...(divProps || {})}></div>;\n}\n\nfunction defaultEditorCreator(div: HTMLDivElement, options: EditorOptions) {\n    return new Editor(div, options);\n}\n\nfunction isReactEditorPlugin(plugin: EditorPlugin): plugin is ReactEditorPlugin {\n    return !!(plugin as ReactEditorPlugin)?.setUIUtilities;\n}\n","import UpdateContentPlugin from '../type/UpdateContentPlugin';\nimport { IEditor, PluginEvent, PluginEventType } from 'roosterjs-editor-types';\nimport { UpdateMode } from '../type/UpdateMode';\n\n/**\n * A plugin to help get HTML content from editor\n */\nclass UpdateContentPluginImpl implements UpdateContentPlugin {\n    private editor: IEditor;\n    private disposer: () => void;\n\n    /**\n     * Create a new instance of UpdateContentPlugin class\n     * @param updateMode Mode of automatic update. It can be a combination of multiple UpdateMode values\n     * @param onUpdate A callback to be invoked when update happens\n     */\n    constructor(\n        private updateMode: UpdateMode,\n        private onUpdate: (html: string, mode: UpdateMode) => void\n    ) {}\n\n    /**\n     * Get a friendly name of this plugin\n     */\n    getName() {\n        return 'UpdateContent';\n    }\n\n    /**\n     * Initialize this plugin\n     * @param editor The editor instance\n     */\n    initialize(editor: IEditor) {\n        this.editor = editor;\n        this.disposer = this.editor.addDomEventHandler('blur', this.onBlur);\n    }\n\n    /**\n     * Dispose this plugin\n     */\n    dispose() {\n        this.disposer?.();\n        this.disposer = null;\n        this.editor = null;\n    }\n\n    /**\n     * Handle events triggered from editor\n     * @param event PluginEvent object\n     */\n    onPluginEvent(event: PluginEvent) {\n        switch (event.eventType) {\n            case PluginEventType.EditorReady:\n                this.update(UpdateMode.OnInitialize);\n                break;\n\n            case PluginEventType.BeforeDispose:\n                this.update(UpdateMode.OnDispose);\n                break;\n\n            case PluginEventType.ContentChanged:\n                this.update(UpdateMode.OnContentChangedEvent);\n                break;\n\n            case PluginEventType.Input:\n                this.update(UpdateMode.OnUserInput);\n                break;\n        }\n    }\n\n    /**\n     * Trigger a force update. onUpdate callback will be invoked with HTML content of editor\n     */\n    forceUpdate() {\n        this.update(UpdateMode.Force);\n    }\n\n    private onBlur = () => {\n        this.update(UpdateMode.OnBlur);\n    };\n\n    private update(mode: UpdateMode) {\n        if (\n            this.editor &&\n            (mode == UpdateMode.Force || ((this.updateMode || 0) & mode) == mode) &&\n            this.onUpdate\n        ) {\n            const content = this.editor.getContent();\n            this.onUpdate(content, mode);\n        }\n    }\n}\n\n/**\n * Create a new instance of UpdateContentPlugin class\n * @param updateMode Mode of automatic update. It can be a combination of multiple UpdateMode values\n * @param onUpdate A callback to be invoked when update happens\n */\nexport default function createUpdateContentPlugin(\n    updateMode: UpdateMode,\n    onUpdate: (html: string, mode: UpdateMode) => void\n): UpdateContentPlugin {\n    return new UpdateContentPluginImpl(updateMode, onUpdate);\n}\n","export { default as RibbonPlugin } from './type/RibbonPlugin';\nexport { default as RibbonButton } from './type/RibbonButton';\nexport { default as RibbonButtonDropDown } from './type/RibbonButtonDropDown';\nexport { default as RibbonProps } from './type/RibbonProps';\nexport { KnownRibbonButtonKey } from './type/KnownRibbonButton';\nexport {\n    BoldButtonStringKey,\n    ItalicButtonStringKey,\n    UnderlineButtonStringKey,\n    FontButtonStringKey,\n    FontSizeButtonStringKey,\n    IncreaseFontSizeButtonStringKey,\n    DecreaseFontSizeButtonStringKey,\n    TextColorButtonStringKey,\n    BackgroundColorButtonStringKey,\n    BulletedListButtonStringKey,\n    NumberedListButtonStringKey,\n    MoreCommandsButtonStringKey,\n    DecreaseIndentButtonStringKey,\n    IncreaseIndentButtonStringKey,\n    QuoteButtonStringKey,\n    AlignLeftButtonStringKey,\n    AlignCenterButtonStringKey,\n    AlignRightButtonStringKey,\n    InsertLinkButtonStringKey,\n    RemoveLinkButtonStringKey,\n    InsertTableButtonStringKey,\n    InsertImageButtonStringKey,\n    SuperscriptButtonStringKey,\n    SubscriptButtonStringKey,\n    StrikethroughButtonStringKey,\n    HeaderButtonStringKey,\n    CodeButtonStringKey,\n    LtrButtonStringKey,\n    RtlButtonStringKey,\n    UndoButtonStringKey,\n    RedoButtonStringKey,\n    ClearFormatButtonStringKey,\n    TextColorKeys,\n    BackgroundColorKeys,\n    AllButtonStringKeys,\n    CellShadeButtonStringKey,\n} from './type/RibbonButtonStringKeys';\n\nexport { default as Ribbon } from './component/Ribbon';\nexport { default as getButtons, AllButtonKeys } from './component/getButtons';\n\nexport { default as createRibbonPlugin } from './plugin/createRibbonPlugin';\n","import * as React from 'react';\nimport getLocalizedString from '../../common/utils/getLocalizedString';\nimport RibbonButton from '../type/RibbonButton';\nimport RibbonProps from '../type/RibbonProps';\nimport { CommandBar, ICommandBarItemProps } from '@fluentui/react/lib/CommandBar';\nimport { FocusZoneDirection } from '@fluentui/react/lib/FocusZone';\nimport { FormatState } from 'roosterjs-editor-types';\nimport { IContextualMenuItem, IContextualMenuItemProps } from '@fluentui/react/lib/ContextualMenu';\nimport { mergeStyles } from '@fluentui/react/lib/Styling';\nimport { moreCommands } from './buttons/moreCommands';\n\nconst ribbonClassName = mergeStyles({\n    '& .ms-CommandBar': {\n        padding: '0px',\n    },\n});\n\nconst rtlIcon = mergeStyles({\n    transform: 'scaleX(-1)',\n});\n\n/**\n * The format ribbon component of roosterjs-react\n * @param props Properties of format ribbon component\n * @returns The format ribbon component\n */\nexport default function Ribbon<T extends string>(props: RibbonProps<T>) {\n    const { plugin, buttons, strings, dir } = props;\n    const [formatState, setFormatState] = React.useState<FormatState>(null);\n    const isRtl = dir == 'rtl';\n\n    const onClick = React.useCallback(\n        (_, item: IContextualMenuItem) => {\n            plugin?.onButtonClick(item.data as RibbonButton<T>, item.key, strings);\n        },\n        [plugin, strings]\n    );\n\n    const onHover = React.useCallback(\n        (button: RibbonButton<T>, key: string) => {\n            plugin.startLivePreview(button, key, strings);\n        },\n        [plugin, strings]\n    );\n\n    const onDismiss = React.useCallback(() => {\n        plugin.stopLivePreview();\n    }, [plugin]);\n\n    const flipIcon = React.useCallback(\n        (\n            props?: IContextualMenuItemProps,\n            defaultRender?: (props?: IContextualMenuItemProps) => JSX.Element | null\n        ): JSX.Element | null => {\n            return <span className={rtlIcon}>{defaultRender(props)}</span>;\n        },\n        []\n    );\n\n    const commandBarItems = React.useMemo((): ICommandBarItemProps[] => {\n        return buttons.map(\n            (button): ICommandBarItemProps => {\n                const selectedItem =\n                    formatState && button.dropDownMenu?.getSelectedItemKey?.(formatState);\n                const dropDownMenu = button.dropDownMenu;\n\n                const result: ICommandBarItemProps = {\n                    key: button.key,\n                    data: button,\n                    iconProps: {\n                        iconName: button.iconName,\n                    },\n                    onRenderIcon: isRtl && button.flipWhenRtl ? flipIcon : undefined,\n                    iconOnly: true,\n                    text: getLocalizedString(strings, button.key, button.unlocalizedText),\n                    ariaLabel: getLocalizedString(strings, button.key, button.unlocalizedText),\n                    canCheck: true,\n                    checked: (formatState && button.isChecked?.(formatState)) || false,\n                    disabled: (formatState && button.isDisabled?.(formatState)) || false,\n                    ...(button.commandBarProperties || {}),\n                };\n\n                if (dropDownMenu) {\n                    result.subMenuProps = {\n                        shouldFocusOnMount: true,\n                        focusZoneProps: { direction: FocusZoneDirection.bidirectional },\n                        onDismiss: onDismiss,\n                        onItemClick: onClick,\n                        onRenderContextualMenuItem: dropDownMenu.allowLivePreview\n                            ? (props, defaultRenderer) => (\n                                  <div onMouseOver={e => onHover(button, props.key)}>\n                                      {defaultRenderer(props)}\n                                  </div>\n                              )\n                            : undefined,\n                        items: Object.keys(dropDownMenu.items).map(key => ({\n                            key: key,\n                            text: getLocalizedString(strings, key, dropDownMenu.items[key]),\n                            data: button,\n                            canCheck: !!dropDownMenu.getSelectedItemKey,\n                            checked: selectedItem == key || false,\n                            className: dropDownMenu.itemClassName,\n                            onRender: dropDownMenu.itemRender\n                                ? item => dropDownMenu.itemRender(item, onClick)\n                                : undefined,\n                        })),\n                        ...(dropDownMenu.commandBarSubMenuProperties || {}),\n                    };\n                } else {\n                    result.onClick = onClick;\n                }\n\n                return result;\n            }\n        );\n    }, [buttons, formatState, isRtl, strings, onClick, onDismiss, onHover]);\n\n    React.useEffect(() => {\n        const disposer = plugin?.registerFormatChangedCallback(setFormatState);\n\n        return () => {\n            disposer?.();\n        };\n    }, [plugin]);\n\n    const moreCommandsBtn = moreCommands as RibbonButton<T>;\n\n    return (\n        <CommandBar\n            items={commandBarItems}\n            {...props}\n            className={ribbonClassName + ' ' + (props?.className || '')}\n            overflowButtonProps={{\n                ariaLabel: getLocalizedString(\n                    strings,\n                    moreCommandsBtn.key,\n                    moreCommandsBtn.unlocalizedText\n                ),\n            }}\n        />\n    );\n}\n","import RibbonButton from '../../type/RibbonButton';\nimport { MoreCommandsButtonStringKey } from '../../type/RibbonButtonStringKeys';\n\n/**\n * @internal\n * \"More commands\" (overflow) button on the format ribbon\n */\nexport const moreCommands: RibbonButton<MoreCommandsButtonStringKey> = {\n    key: 'buttonNameMoreCommands',\n    unlocalizedText: 'More commands',\n    iconName: 'MoreCommands',\n    onClick: editor => {\n        return true;\n    },\n};\n","import RibbonButton from '../type/RibbonButton';\nimport { alignCenter } from './buttons/alignCenter';\nimport { alignLeft } from './buttons/alignLeft';\nimport { alignRight } from './buttons/alignRight';\nimport { AllButtonStringKeys } from '../type/RibbonButtonStringKeys';\nimport { backgroundColor } from './buttons/backgroundColor';\nimport { bold } from './buttons/bold';\nimport { bulletedList } from './buttons/bulletedList';\nimport { clearFormat } from './buttons/clearFormat';\nimport { code } from './buttons/code';\nimport { decreaseFontSize } from './buttons/decreaseFontSize';\nimport { decreaseIndent } from './buttons/decreaseIndent';\nimport { font } from './buttons/font';\nimport { fontSize } from './buttons/fontSize';\nimport { header } from './buttons/header';\nimport { increaseFontSize } from './buttons/increaseFontSize';\nimport { increaseIndent } from './buttons/increaseIndent';\nimport { insertImage } from './buttons/insertImage';\nimport { insertLink } from './buttons/insertLink';\nimport { insertTable } from './buttons/insertTable';\nimport { italic } from './buttons/italic';\nimport { KnownRibbonButtonKey } from '../type/KnownRibbonButton';\nimport { ltr } from './buttons/ltr';\nimport { numberedList } from './buttons/numberedList';\nimport { quote } from './buttons/quote';\nimport { redo } from './buttons/redo';\nimport { removeLink } from './buttons/removeLink';\nimport { rtl } from './buttons/rtl';\nimport { strikethrough } from './buttons/strikethrough';\nimport { subscript } from './buttons/subscript';\nimport { superscript } from './buttons/superscript';\nimport { textColor } from './buttons/textColor';\nimport { underline } from './buttons/underline';\nimport { undo } from './buttons/undo';\n\nconst KnownRibbonButtons: { [key in KnownRibbonButtonKey]: RibbonButton<AllButtonStringKeys> } = {\n    [KnownRibbonButtonKey.Bold]: bold,\n    [KnownRibbonButtonKey.Italic]: italic,\n    [KnownRibbonButtonKey.Underline]: underline,\n    [KnownRibbonButtonKey.Font]: font,\n    [KnownRibbonButtonKey.FontSize]: fontSize,\n    [KnownRibbonButtonKey.IncreaseFontSize]: increaseFontSize,\n    [KnownRibbonButtonKey.DecreaseFontSize]: decreaseFontSize,\n    [KnownRibbonButtonKey.TextColor]: textColor,\n    [KnownRibbonButtonKey.BackgroundColor]: backgroundColor,\n    [KnownRibbonButtonKey.BulletedList]: bulletedList,\n    [KnownRibbonButtonKey.NumberedList]: numberedList,\n    [KnownRibbonButtonKey.DecreaseIndent]: decreaseIndent,\n    [KnownRibbonButtonKey.IncreaseIndent]: increaseIndent,\n    [KnownRibbonButtonKey.Quote]: quote,\n    [KnownRibbonButtonKey.AlignLeft]: alignLeft,\n    [KnownRibbonButtonKey.AlignCenter]: alignCenter,\n    [KnownRibbonButtonKey.AlignRight]: alignRight,\n    [KnownRibbonButtonKey.InsertLink]: insertLink,\n    [KnownRibbonButtonKey.RemoveLink]: removeLink,\n    [KnownRibbonButtonKey.InsertTable]: insertTable,\n    [KnownRibbonButtonKey.InsertImage]: insertImage,\n    [KnownRibbonButtonKey.Superscript]: superscript,\n    [KnownRibbonButtonKey.Subscript]: subscript,\n    [KnownRibbonButtonKey.Strikethrough]: strikethrough,\n    [KnownRibbonButtonKey.Header]: header,\n    [KnownRibbonButtonKey.Code]: code,\n    [KnownRibbonButtonKey.Ltr]: ltr,\n    [KnownRibbonButtonKey.Rtl]: rtl,\n    [KnownRibbonButtonKey.Undo]: undo,\n    [KnownRibbonButtonKey.Redo]: redo,\n    [KnownRibbonButtonKey.ClearFormat]: clearFormat,\n};\n\n/**\n * An array of keys of all known ribbon buttons\n */\nexport const AllButtonKeys = [\n    KnownRibbonButtonKey.Bold,\n    KnownRibbonButtonKey.Italic,\n    KnownRibbonButtonKey.Underline,\n    KnownRibbonButtonKey.Font,\n    KnownRibbonButtonKey.FontSize,\n    KnownRibbonButtonKey.IncreaseFontSize,\n    KnownRibbonButtonKey.DecreaseFontSize,\n    KnownRibbonButtonKey.TextColor,\n    KnownRibbonButtonKey.BackgroundColor,\n    KnownRibbonButtonKey.BulletedList,\n    KnownRibbonButtonKey.NumberedList,\n    KnownRibbonButtonKey.DecreaseIndent,\n    KnownRibbonButtonKey.IncreaseIndent,\n    KnownRibbonButtonKey.Quote,\n    KnownRibbonButtonKey.AlignLeft,\n    KnownRibbonButtonKey.AlignCenter,\n    KnownRibbonButtonKey.AlignRight,\n    KnownRibbonButtonKey.InsertLink,\n    KnownRibbonButtonKey.RemoveLink,\n    KnownRibbonButtonKey.InsertTable,\n    KnownRibbonButtonKey.InsertImage,\n    KnownRibbonButtonKey.Superscript,\n    KnownRibbonButtonKey.Subscript,\n    KnownRibbonButtonKey.Strikethrough,\n    KnownRibbonButtonKey.Header,\n    KnownRibbonButtonKey.Code,\n    KnownRibbonButtonKey.Ltr,\n    KnownRibbonButtonKey.Rtl,\n    KnownRibbonButtonKey.Undo,\n    KnownRibbonButtonKey.Redo,\n    KnownRibbonButtonKey.ClearFormat,\n];\n\n/**\n * A shortcut to get all format buttons provided by roosterjs-react\n * @param keyOrButtons An array of buttons or known button key. Default value is all known buttons provided by roosterjs-react\n * @returns An array of all buttons\n */\nexport default function getButtons<StringKey extends string = null>(\n    keyOrButtons: (KnownRibbonButtonKey | RibbonButton<StringKey>)[] = AllButtonKeys\n): RibbonButton<AllButtonStringKeys | StringKey>[] {\n    return keyOrButtons.map(keyOrButton =>\n        typeof keyOrButton == 'number' ? KnownRibbonButtons[keyOrButton] : keyOrButton\n    );\n}\n","import RibbonButton from '../../type/RibbonButton';\nimport { AlignCenterButtonStringKey } from '../../type/RibbonButtonStringKeys';\nimport { Alignment } from 'roosterjs-editor-types';\nimport { setAlignment } from 'roosterjs-editor-api';\n\n/**\n * @internal\n * \"Align center\" button on the format ribbon\n */\nexport const alignCenter: RibbonButton<AlignCenterButtonStringKey> = {\n    key: 'buttonNameAlignCenter',\n    unlocalizedText: 'Align center',\n    iconName: 'AlignCenter',\n    onClick: editor => {\n        setAlignment(editor, Alignment.Center);\n    },\n};\n","import RibbonButton from '../../type/RibbonButton';\nimport { AlignLeftButtonStringKey } from '../../type/RibbonButtonStringKeys';\nimport { Alignment } from 'roosterjs-editor-types';\nimport { setAlignment } from 'roosterjs-editor-api';\n\n/**\n * @internal\n * \"Align left\" button on the format ribbon\n */\nexport const alignLeft: RibbonButton<AlignLeftButtonStringKey> = {\n    key: 'buttonNameAlignLeft',\n    unlocalizedText: 'Align left',\n    iconName: 'AlignLeft',\n    onClick: editor => {\n        setAlignment(editor, Alignment.Left);\n    },\n};\n","import RibbonButton from '../../type/RibbonButton';\nimport { Alignment } from 'roosterjs-editor-types';\nimport { AlignRightButtonStringKey } from '../../type/RibbonButtonStringKeys';\nimport { setAlignment } from 'roosterjs-editor-api';\n\n/**\n * @internal\n * \"Align right\" button on the format ribbon\n */\nexport const alignRight: RibbonButton<AlignRightButtonStringKey> = {\n    key: 'buttonNameAlignRight',\n    unlocalizedText: 'Align right',\n    iconName: 'AlignRight',\n    onClick: editor => {\n        setAlignment(editor, Alignment.Right);\n    },\n};\n","import RibbonButton from '../../type/RibbonButton';\nimport { IEditor } from 'roosterjs-editor-types';\nimport { setBackgroundColor } from 'roosterjs-editor-api';\nimport {\n    BackgroundColors,\n    BackgroundColorDropDownItems,\n    getColorPickerDropDown,\n} from './colorPicker';\n\nimport {\n    BackgroundColorKeys,\n    BackgroundColorButtonStringKey,\n} from '../../type/RibbonButtonStringKeys';\n\n/**\n * @internal\n * \"Background color\" button on the format ribbon\n */\nexport const backgroundColor: RibbonButton<BackgroundColorButtonStringKey> = {\n    dropDownMenu: getColorPickerDropDown(BackgroundColorDropDownItems),\n    key: 'buttonNameBackgroundColor',\n    unlocalizedText: 'Background color',\n    iconName: 'FabricTextHighlight',\n    onClick: (editor: IEditor, key: BackgroundColorKeys) => {\n        setBackgroundColor(editor, BackgroundColors[key]);\n    },\n};\n","import RibbonButton from '../../type/RibbonButton';\nimport { BoldButtonStringKey } from '../../type/RibbonButtonStringKeys';\nimport { toggleBold } from 'roosterjs-editor-api';\n\n/**\n * @internal\n * \"Bold\" button on the format ribbon\n */\nexport const bold: RibbonButton<BoldButtonStringKey> = {\n    key: 'buttonNameBold',\n    unlocalizedText: 'Bold',\n    iconName: 'Bold',\n    isChecked: formatState => formatState.isBold,\n    onClick: editor => {\n        toggleBold(editor);\n        return true;\n    },\n};\n","import RibbonButton from '../../type/RibbonButton';\nimport { BulletedListButtonStringKey } from '../../type/RibbonButtonStringKeys';\nimport { toggleBullet } from 'roosterjs-editor-api';\n\n/**\n * @internal\n * \"Bulleted list\" button on the format ribbon\n */\nexport const bulletedList: RibbonButton<BulletedListButtonStringKey> = {\n    key: 'buttonNameBulletedList',\n    unlocalizedText: 'Bulleted list',\n    iconName: 'BulletedList',\n    isChecked: formatState => formatState.isBullet,\n    onClick: editor => {\n        toggleBullet(editor);\n        return true;\n    },\n};\n","import RibbonButton from '../../type/RibbonButton';\nimport { clearFormat as clearFormatApi } from 'roosterjs-editor-api';\nimport { ClearFormatButtonStringKey } from '../../type/RibbonButtonStringKeys';\n\n/**\n * @internal\n * \"Clear format\" button on the format ribbon\n */\nexport const clearFormat: RibbonButton<ClearFormatButtonStringKey> = {\n    key: 'buttonNameClearFormat',\n    unlocalizedText: 'Clear format',\n    iconName: 'ClearFormatting',\n    onClick: editor => {\n        clearFormatApi(editor);\n    },\n};\n","import RibbonButton from '../../type/RibbonButton';\nimport { CodeButtonStringKey } from '../../type/RibbonButtonStringKeys';\nimport { toggleCodeBlock } from 'roosterjs-editor-api';\n\n/**\n * @internal\n * \"Code\" button on the format ribbon\n */\nexport const code: RibbonButton<CodeButtonStringKey> = {\n    key: 'buttonNameCode',\n    unlocalizedText: 'Code',\n    iconName: 'Code',\n    onClick: editor => {\n        toggleCodeBlock(editor);\n    },\n};\n","import RibbonButton from '../../type/RibbonButton';\nimport { changeFontSize } from 'roosterjs-editor-api';\nimport { DecreaseFontSizeButtonStringKey } from '../../type/RibbonButtonStringKeys';\nimport { FontSizeChange } from 'roosterjs-editor-types';\n\n/**\n * @internal\n * \"Decrease font size\" button on the format ribbon\n */\nexport const decreaseFontSize: RibbonButton<DecreaseFontSizeButtonStringKey> = {\n    key: 'buttonNameDecreaseFontSize',\n    unlocalizedText: 'Decrease font size',\n    iconName: 'FontDecrease',\n    onClick: editor => {\n        changeFontSize(editor, FontSizeChange.Decrease);\n    },\n};\n","import RibbonButton from '../../type/RibbonButton';\nimport { DecreaseIndentButtonStringKey } from '../../type/RibbonButtonStringKeys';\nimport { Indentation } from 'roosterjs-editor-types';\nimport { setIndentation } from 'roosterjs-editor-api';\n\n/**\n * @internal\n * \"Decrease indent\" button on the format ribbon\n */\nexport const decreaseIndent: RibbonButton<DecreaseIndentButtonStringKey> = {\n    key: 'buttonNameDecreaseIndent',\n    unlocalizedText: 'Decrease indent',\n    iconName: 'DecreaseIndentLegacy',\n    flipWhenRtl: true,\n    onClick: editor => {\n        setIndentation(editor, Indentation.Decrease);\n    },\n};\n","import RibbonButton from '../../type/RibbonButton';\nimport { FontButtonStringKey } from '../../type/RibbonButtonStringKeys';\nimport { setFontName } from 'roosterjs-editor-api';\n\ninterface FontName {\n    name: string;\n    family: string;\n    localizedName?: string;\n}\nconst FontNames: FontName[] = [\n    { name: 'Arial', family: 'Arial,Helvetica,sans-serif' },\n    { name: 'Arial Black', family: \"'Arial Black',Arial,sans-serif\" },\n    { name: 'Calibri', family: 'Calibri,Helvetica,sans-serif' },\n    { name: 'Calibri Light', family: \"'Calibri Light','Helvetica Light',sans-serif\" },\n    { name: 'Cambria', family: 'Cambria,Georgia,serif' },\n    { name: 'Candara', family: 'Candara,Optima,sans-serif' },\n    { name: 'Century Gothic', family: \"'Century Gothic',sans-serif\" },\n    { name: 'Comic Sans MS', family: \"'Comic Sans MS',Chalkboard,cursive\" },\n    { name: 'Consolas', family: 'Consolas,Courier,monospace' },\n    { name: 'Constantia', family: \"Constantia,'Hoefler Text',serif\" },\n    { name: 'Corbel', family: 'Corbel,Skia,sans-serif' },\n    { name: 'Courier New', family: \"'Courier New',monospace\" },\n    {\n        name: 'Franklin Gothic Book',\n        family: \"'Franklin Gothic Book','Avenir Next Condensed',sans-serif\",\n    },\n    {\n        name: 'Franklin Gothic Demi',\n        family: \"'Franklin Gothic Demi','Avenir Next Condensed Demi Bold',sans-serif\",\n    },\n    {\n        name: 'Franklin Gothic Medium',\n        family: \"'Franklin Gothic Medium','Avenir Next Condensed Medium',sans-serif\",\n    },\n    { name: 'Garamond', family: 'Garamond,Georgia,serif' },\n    { name: 'Georgia', family: 'Georgia,serif' },\n    { name: 'Impact', family: 'Impact,Charcoal,sans-serif' },\n    { name: 'Lucida Console', family: \"'Lucida Console',Monaco,monospace\" },\n    { name: 'Lucida Handwriting', family: \"'Lucida Handwriting','Apple Chancery',cursive\" },\n    { name: 'Lucida Sans Unicode', family: \"'Lucida Sans Unicode','Lucida Grande',sans-serif\" },\n    { name: 'Palatino Linotype', family: \"'Palatino Linotype','Book Antiqua',Palatino,serif\" },\n    {\n        name: 'Segoe UI',\n        family: \"'Segoe UI', 'Segoe UI Web (West European)', 'Helvetica Neue', sans-serif\",\n    },\n    { name: 'Sitka Heading', family: \"'Sitka Heading',Cochin,serif\" },\n    { name: 'Sitka Text', family: \"'Sitka Text',Cochin,serif\" },\n    { name: 'Tahoma', family: 'Tahoma,Geneva,sans-serif' },\n    { name: 'Times', family: \"Times,'Times New Roman',serif\" },\n    { name: 'Times New Roman', family: \"'Times New Roman',Times,serif\" },\n    { name: 'Trebuchet MS', family: \"'Trebuchet MS',Trebuchet,sans-serif\" },\n    { name: 'TW Cen MT', family: \"'TW Cen MT','Century Gothic',sans-serif\" },\n    { name: 'Verdana', family: 'Verdana,Geneva,sans-serif' },\n    { name: '-', family: 'FontDivider0' }, //divider between fonts for different scripts (order is by style)\n    {\n        name: 'Microsoft YaHei',\n        family: \"'Microsoft YaHei','微软雅黑',STHeiti,sans-serif\",\n        localizedName: '微软雅黑',\n    }, //chineseS Microsoft recommended font\n    { name: 'SimHei', family: \"SimHei,'黑体',STHeiti,sans-serif\", localizedName: '黑体' }, //chineseS\n    {\n        name: 'NSimSun',\n        family: \"NSimSun,'新宋体',SimSun,'宋体',SimSun-ExtB,'宋体-ExtB',STSong,serif\",\n        localizedName: '新宋体',\n    }, //chineseS\n    { name: 'FangSong', family: \"FangSong,'仿宋',STFangsong,serif\", localizedName: '仿宋' }, //chineseS\n    { name: 'SimLi', family: \"SimLi,'隶书','Baoli SC',serif\", localizedName: '隶书' }, //chineseS\n    { name: 'KaiTi', family: \"KaiTi,'楷体',STKaiti,serif\", localizedName: '楷体' }, //chineseS\n    { name: '-', family: 'FontDivider1' }, //divider between fonts for different scripts (order is by style)\n    {\n        name: 'Microsoft JhengHei',\n        family: \"'Microsoft JhengHei','微軟正黑體','Apple LiGothic',sans-serif\",\n        localizedName: '微軟正黑體',\n    }, //chineseT Microsoft recommended font\n    {\n        name: 'PMingLiU',\n        family: \"PMingLiU,'新細明體',PMingLiU-ExtB,'新細明體-ExtB','Apple LiSung',serif\",\n        localizedName: '新細明體',\n    }, //chineseT\n    { name: 'DFKai-SB', family: \"DFKai-SB,'標楷體','BiauKai',serif\", localizedName: '標楷體' }, //chineseT\n    { name: '-', family: 'FontDivider2' }, //divider between fonts for different scripts (order is alphabetical by foundry)\n    {\n        name: 'Meiryo',\n        family: \"Meiryo,'メイリオ','Hiragino Sans',sans-serif\",\n        localizedName: 'メイリオ',\n    }, //japanese\n    {\n        name: 'MS PGothic',\n        family:\n            \"'MS PGothic','ＭＳ Ｐゴシック','MS Gothic','ＭＳ ゴシック','Hiragino Kaku Gothic ProN',sans-serif\",\n        localizedName: 'ＭＳ Ｐゴシック',\n    }, //japanese\n    {\n        name: 'MS PMincho',\n        family: \"'MS PMincho','ＭＳ Ｐ明朝','MS Mincho','ＭＳ 明朝','Hiragino Mincho ProN',serif\",\n        localizedName: 'ＭＳ Ｐ明朝',\n    }, //japanese\n    {\n        name: 'Yu Gothic',\n        family: \"'Yu Gothic','游ゴシック','YuGothic',sans-serif\",\n        localizedName: '游ゴシック',\n    }, //japanese\n    { name: 'Yu Mincho', family: \"'Yu Mincho','游明朝','YuMincho',serif\", localizedName: '游明朝' }, //japanese\n    { name: '-', family: 'FontDivider3' }, //divider between fonts for different scripts (order is for legacy reasons)\n    {\n        name: 'Malgun Gothic',\n        family: \"'Malgun Gothic','맑은 고딕',AppleGothic,sans-serif\",\n        localizedName: '맑은 고딕',\n    }, //korean Microsoft recommended font\n    { name: 'Gulim', family: \"Gulim,'굴림','Nanum Gothic',sans-serif\", localizedName: '굴림' }, //korean\n    { name: 'Dotum', family: \"Dotum,'돋움',AppleGothic,sans-serif\", localizedName: '돋움' }, //korean\n    { name: 'Batang', family: \"Batang,'바탕',AppleMyungjo,serif\", localizedName: '바탕' }, //korean\n    { name: 'BatangChe', family: \"BatangChe,'바탕체',AppleMyungjo,serif\", localizedName: '바탕체' }, //korean\n    { name: 'Gungsuh', family: \"Gungsuh,'궁서',GungSeo,serif\", localizedName: '궁서' }, //korean\n    { name: '-', family: 'FontDivider4' }, //divider between fonts for different scripts (order is alphabetical)\n    { name: 'Leelawadee UI', family: \"'Leelawadee UI',Thonburi,sans-serif\" }, //thai Microsoft recommended font\n    { name: 'Angsana New', family: \"'Angsana New','Leelawadee UI',Sathu,serif\" }, //thai\n    { name: 'Cordia New', family: \"'Cordia New','Leelawadee UI',Silom,sans-serif\" }, //thai\n    { name: 'DaunPenh', family: \"DaunPenh,'Leelawadee UI','Khmer MN',sans-serif\" }, //khmer\n    { name: '-', family: 'FontDivider5' }, //divider between fonts for different scripts (order is alphabetical)\n    { name: 'Nirmala UI', family: \"'Nirmala UI',sans-serif\" }, //indic Microsoft recommended font\n    { name: 'Gautami', family: \"Gautami,'Nirmala UI','Telugu MN',sans-serif\" }, //indic\n    { name: 'Iskoola Pota', family: \"'Iskoola Pota','Nirmala UI','Sinhala MN',sans-serif\" }, //indic\n    { name: 'Kalinga', family: \"Kalinga,'Nirmala UI','Oriya MN',sans-serif\" }, //indic\n    { name: 'Kartika', family: \"Kartika,'Nirmala UI','Malayalam MN',sans-serif\" }, //indic\n    { name: 'Latha', family: \"Latha,'Nirmala UI','Tamil MN',sans-serif\" }, //indic\n    { name: 'Mangal', family: \"Mangal,'Nirmala UI','Devanagari Sangam MN',sans-serif\" }, //indic\n    { name: 'Raavi', family: \"Raavi,'Nirmala UI','Gurmukhi MN',sans-serif\" }, //indic\n    { name: 'Shruti', family: \"Shruti,'Nirmala UI','Gujarati Sangam MN',sans-serif\" }, //indic\n    { name: 'Tunga', family: \"Tunga,'Nirmala UI','Kannada MN',sans-serif\" }, //indic\n    { name: 'Vrinda', family: \"Vrinda,'Nirmala UI','Bangla MN',sans-serif\" }, //indic\n    { name: '-', family: 'FontDivider6' }, //divider between fonts for different scripts\n    { name: 'Nyala', family: 'Nyala,Kefa,sans-serif' }, //other-ethiopic\n    { name: 'Sylfaen', family: 'Sylfaen,Mshtakan,Menlo,serif' }, //other-armenian-georgian\n];\n\nconst DropDownItems = FontNames.reduce((items, font) => {\n    items[font.family] = font.localizedName || font.name;\n    return items;\n}, <Record<string, string>>{});\n\nconst LowerCaseFontMap = FontNames.reduce((items, font) => {\n    items[font.name.toLowerCase()] = font.family;\n    return items;\n}, <Record<string, string>>{});\n\nconst FirstFontRegex = /^['\"]?([^'\",]+)/i;\n\n/**\n * @internal\n * \"Font\" button on the format ribbon\n */\nexport const font: RibbonButton<FontButtonStringKey> = {\n    key: 'buttonNameFont',\n    unlocalizedText: 'Font',\n    iconName: 'Font',\n    dropDownMenu: {\n        items: DropDownItems,\n        getSelectedItemKey: formatState => {\n            const matches = formatState.fontName?.match(FirstFontRegex);\n            const firstName = matches?.[1]?.toLowerCase();\n            const selectedKey = (firstName && LowerCaseFontMap[firstName]) || '';\n\n            return selectedKey;\n        },\n        allowLivePreview: true,\n    },\n    onClick: (editor, font) => {\n        setFontName(editor, font);\n    },\n};\n","import RibbonButton from '../../type/RibbonButton';\nimport { FONT_SIZES, setFontSize } from 'roosterjs-editor-api';\nimport { FontSizeButtonStringKey } from '../../type/RibbonButtonStringKeys';\n\n/**\n * @internal\n * \"Font Size\" button on the format ribbon\n */\nexport const fontSize: RibbonButton<FontSizeButtonStringKey> = {\n    key: 'buttonNameFontSize',\n    unlocalizedText: 'Font size',\n    iconName: 'FontSize',\n    dropDownMenu: {\n        items: FONT_SIZES.reduce((map, size) => {\n            map[size + 'pt'] = size.toString();\n            return map;\n        }, <Record<string, string>>{}),\n        getSelectedItemKey: formatState => formatState.fontSize,\n        allowLivePreview: true,\n    },\n    onClick: (editor, size) => {\n        setFontSize(editor, size);\n    },\n};\n","import RibbonButton from '../../type/RibbonButton';\nimport { HeaderButtonStringKey } from '../../type/RibbonButtonStringKeys';\nimport { toggleHeader } from 'roosterjs-editor-api';\n\nconst headers = {\n    header1: 'Header 1',\n    header2: 'Header 2',\n    header3: 'Header 3',\n    header4: 'Header 4',\n    header5: 'Header 5',\n    header6: 'Header 6',\n    headerDivider: '-',\n    noHeader: 'No header',\n};\n\n/**\n * @internal\n * \"Header\" button on the format ribbon\n */\nexport const header: RibbonButton<HeaderButtonStringKey> = {\n    key: 'buttonNameHeader',\n    unlocalizedText: 'Header',\n    iconName: 'Header1',\n    dropDownMenu: {\n        items: headers,\n        getSelectedItemKey: formatState => {\n            return formatState.headerLevel > 0 ? 'header' + formatState.headerLevel : 'noHeader';\n        },\n    },\n    onClick: (editor, key) => {\n        const index = Object.keys(headers).indexOf(key) + 1;\n\n        if (index > 6) {\n            toggleHeader(editor, 0);\n        } else if (index > 0) {\n            toggleHeader(editor, index);\n        }\n    },\n};\n","import RibbonButton from '../../type/RibbonButton';\nimport { changeFontSize } from 'roosterjs-editor-api';\nimport { FontSizeChange } from 'roosterjs-editor-types';\nimport { IncreaseFontSizeButtonStringKey } from '../../type/RibbonButtonStringKeys';\n\n/**\n * @internal\n * \"Increase font size\" button on the format ribbon\n */\nexport const increaseFontSize: RibbonButton<IncreaseFontSizeButtonStringKey> = {\n    key: 'buttonNameIncreaseFontSize',\n    unlocalizedText: 'Increase font size',\n    iconName: 'FontIncrease',\n    onClick: editor => {\n        changeFontSize(editor, FontSizeChange.Increase);\n    },\n};\n","import RibbonButton from '../../type/RibbonButton';\nimport { IncreaseIndentButtonStringKey } from '../../type/RibbonButtonStringKeys';\nimport { Indentation } from 'roosterjs-editor-types';\nimport { setIndentation } from 'roosterjs-editor-api';\n\n/**\n * @internal\n * \"Increase indent\" button on the format ribbon\n */\nexport const increaseIndent: RibbonButton<IncreaseIndentButtonStringKey> = {\n    key: 'buttonNameIncreaseIndent',\n    unlocalizedText: 'Increase indent',\n    iconName: 'IncreaseIndentLegacy',\n    flipWhenRtl: true,\n    onClick: editor => {\n        setIndentation(editor, Indentation.Increase);\n    },\n};\n","import RibbonButton from '../../type/RibbonButton';\nimport { createElement } from 'roosterjs-editor-dom';\nimport { CreateElementData } from 'roosterjs-editor-types';\nimport { insertImage as insertImageApi } from 'roosterjs-editor-api';\nimport { InsertImageButtonStringKey } from '../../type/RibbonButtonStringKeys';\n\nconst FileInput: CreateElementData = {\n    tag: 'input',\n    attributes: {\n        type: 'file',\n        accept: 'image/*',\n        display: 'none',\n    },\n};\n\n/**\n * @internal\n * \"Insert image\" button on the format ribbon\n */\nexport const insertImage: RibbonButton<InsertImageButtonStringKey> = {\n    key: 'buttonNameInsertImage',\n    unlocalizedText: 'Insert image',\n    iconName: 'Photo2',\n    onClick: editor => {\n        const document = editor.getDocument();\n        const fileInput = createElement(FileInput, document) as HTMLInputElement;\n        document.body.appendChild(fileInput);\n\n        fileInput.addEventListener('change', () => {\n            for (let i = 0; i < fileInput.files.length; i++) {\n                insertImageApi(editor, fileInput.files[i]);\n            }\n        });\n\n        try {\n            fileInput.click();\n        } finally {\n            document.body.removeChild(fileInput);\n        }\n    },\n};\n","import * as React from 'react';\nimport getLocalizedString from '../../../common/utils/getLocalizedString';\nimport RibbonButton from '../../type/RibbonButton';\nimport { createLink } from 'roosterjs-editor-api';\nimport { DefaultButton, PrimaryButton } from '@fluentui/react/lib/Button';\nimport { Dialog, DialogFooter, DialogType } from '@fluentui/react/lib/Dialog';\nimport { IEditor, Keys, QueryScope } from 'roosterjs-editor-types';\nimport { InsertLinkButtonStringKey } from '../../type/RibbonButtonStringKeys';\nimport { LocalizedStrings } from '../../../common/type/LocalizedStrings';\nimport { mergeStyleSets } from '@fluentui/react/lib/Styling';\n\n/**\n * @internal\n * \"Insert link\" button on the format ribbon\n */\nexport const insertLink: RibbonButton<InsertLinkButtonStringKey> = {\n    key: 'buttonNameInsertLink',\n    unlocalizedText: 'Insert link',\n    iconName: 'Link',\n    onClick: (editor, _, strings, uiUtilities) => {\n        let disposer: null | (() => void) = null;\n        const onDismiss = () => {\n            disposer?.();\n        };\n        const existingLink = editor.queryElements<HTMLAnchorElement>(\n            'a[href]',\n            QueryScope.OnSelection\n        )[0];\n        const url = existingLink?.href || '';\n        const displayText =\n            existingLink?.textContent || editor.getSelectionRange()?.toString() || '';\n\n        disposer = uiUtilities.renderComponent(\n            <InsertLinkDialog\n                editor={editor}\n                onDismiss={onDismiss}\n                initUrl={url}\n                initDisplayText={displayText}\n                strings={strings}\n            />\n        );\n    },\n};\n\nconst classNames = mergeStyleSets({\n    linkInput: {\n        width: '100%',\n        minWidth: '250px',\n        height: '32px',\n        margin: '5px 0',\n        border: '1px solid black',\n        borderRadius: '2px',\n        padding: '0 0 0 5px',\n    },\n});\n\nfunction InsertLinkDialog(props: {\n    editor: IEditor;\n    initDisplayText: string;\n    initUrl: string;\n    onDismiss: (url?: string, displayText?: string) => void;\n    strings: LocalizedStrings<InsertLinkButtonStringKey>;\n}) {\n    const { editor, onDismiss, initUrl, initDisplayText, strings } = props;\n    const [url, setUrl] = React.useState(initUrl);\n    const [displayText, setDisplayText] = React.useState(initDisplayText);\n    const [isChanged, setIsChanged] = React.useState(false);\n    const urlInput = React.useRef<HTMLInputElement>();\n    const displayTextInput = React.useRef<HTMLInputElement>();\n    const dialogContentProps = {\n        type: DialogType.normal,\n        title: getLocalizedString(strings, 'insertLinkTitle', 'Insert link'),\n    };\n\n    const onOk = React.useCallback(() => {\n        onDismiss();\n        editor.focus();\n\n        if (isChanged && url && displayText) {\n            createLink(editor, url, url, displayText);\n        }\n    }, [onDismiss, url, displayText, isChanged]);\n\n    const onCancel = React.useCallback(() => {\n        onDismiss();\n    }, [onDismiss]);\n\n    const onDisplayTextChanged = React.useCallback(() => {\n        setDisplayText(displayTextInput.current.value);\n        setIsChanged(true);\n    }, [displayTextInput, setIsChanged]);\n\n    const onUrlChanged = React.useCallback(() => {\n        if (url == displayText) {\n            setDisplayText(urlInput.current.value);\n        }\n        setUrl(urlInput.current.value);\n        setIsChanged(true);\n    }, [setUrl, url, displayText, setDisplayText, setIsChanged]);\n\n    const onKeyPress = React.useCallback(\n        (e: React.KeyboardEvent<HTMLInputElement>) => {\n            if (e.which == Keys.ENTER) {\n                onOk();\n            }\n        },\n        [onOk]\n    );\n\n    return (\n        <Dialog dialogContentProps={dialogContentProps} hidden={false} onDismiss={onCancel}>\n            <div>\n                <div>\n                    <label htmlFor=\"linkInput\">Web address (URL)</label>\n                    <input\n                        id=\"linkInput\"\n                        ref={urlInput}\n                        role=\"textbox\"\n                        type=\"text\"\n                        className={classNames.linkInput}\n                        value={url}\n                        onChange={onUrlChanged}\n                        onKeyPress={onKeyPress}\n                        autoFocus={true}\n                    />\n                </div>\n                <div>\n                    <label htmlFor=\"displayTextInput\">Display as</label>\n                    <input\n                        id=\"displayTextInput\"\n                        ref={displayTextInput}\n                        role=\"textbox\"\n                        type=\"text\"\n                        className={classNames.linkInput}\n                        value={displayText}\n                        onChange={onDisplayTextChanged}\n                        onKeyPress={onKeyPress}\n                    />\n                </div>\n            </div>\n            <DialogFooter>\n                <PrimaryButton\n                    text={getLocalizedString(strings, 'buttonNameOK', 'OK')}\n                    onClick={onOk}\n                />\n                <DefaultButton\n                    text={getLocalizedString(strings, 'buttonNameCancel', 'Cancel')}\n                    onClick={onCancel}\n                />\n            </DialogFooter>\n        </Dialog>\n    );\n}\n","import * as React from 'react';\nimport RibbonButton from '../../type/RibbonButton';\nimport { FocusZone, FocusZoneDirection } from '@fluentui/react/lib/FocusZone';\nimport { IContextualMenuItem } from '@fluentui/react/lib/ContextualMenu';\nimport { insertTable as insertTableApi } from 'roosterjs-editor-api';\nimport { InsertTableButtonStringKey } from '../../type/RibbonButtonStringKeys';\nimport { mergeStyleSets } from '@fluentui/react/lib/Styling';\nimport { safeInstanceOf } from 'roosterjs-editor-dom';\n\nconst MaxRows = 10;\nconst MaxCols = 10;\nconst classNames = mergeStyleSets({\n    tableButton: {\n        width: '15px',\n        height: '15px',\n        margin: '1px 1px 0 0',\n        border: 'solid 1px #a19f9d',\n        display: 'inline-block',\n        cursor: 'pointer',\n        backgroundColor: 'transparent',\n    },\n    hovered: {\n        border: 'solid 1px #DB626C',\n    },\n    tablePane: {\n        width: '160px',\n        minWidth: 'auto',\n        padding: '4px',\n    },\n    tablePaneInner: {\n        lineHeight: '12px',\n    },\n    title: {\n        margin: '5px 0',\n    },\n});\n\n/**\n * @internal\n * \"Insert table\" button on the format ribbon\n */\nexport const insertTable: RibbonButton<InsertTableButtonStringKey> = {\n    key: 'buttonNameInsertTable',\n    unlocalizedText: 'Insert table',\n    iconName: 'Table',\n    onClick: (editor, key) => {\n        const { row, col } = parseKey(key);\n        insertTableApi(editor, col, row);\n    },\n    dropDownMenu: {\n        items: {\n            insertTablePane: '{0} x {1} table',\n        },\n        itemRender: (item, onClick) => {\n            return <InsertTablePane item={item} onClick={onClick} />;\n        },\n        commandBarSubMenuProperties: {\n            className: classNames.tablePane,\n        },\n    },\n};\n\nfunction InsertTablePane(props: {\n    item: IContextualMenuItem;\n    onClick: (\n        e: React.MouseEvent<Element> | React.KeyboardEvent<Element>,\n        item: IContextualMenuItem\n    ) => void;\n}) {\n    const { item, onClick } = props;\n    const [col, setCol] = React.useState(1);\n    const [row, setRow] = React.useState(1);\n\n    const updateSize = React.useCallback(\n        (t: EventTarget) => {\n            if (safeInstanceOf(t, 'HTMLElement')) {\n                const col = parseInt(t.dataset.col);\n                const row = parseInt(t.dataset.row);\n\n                if (col > 0 && col <= MaxCols && row > 0 && row <= MaxRows) {\n                    setCol(col);\n                    setRow(row);\n                }\n            }\n        },\n        [setCol, setRow]\n    );\n\n    const onMouseEnter = React.useCallback(\n        (e: React.MouseEvent<HTMLButtonElement>) => {\n            updateSize(e.target);\n        },\n        [updateSize]\n    );\n\n    const onClickButton = React.useCallback(\n        (e: React.MouseEvent<HTMLButtonElement>) => {\n            onClick(e, {\n                ...item,\n                key: createKey(row, col),\n            });\n        },\n        [row, col, onClick]\n    );\n\n    const ariaLabels = React.useMemo<string[][]>(() => {\n        const result: string[][] = [];\n        for (let i = 1; i <= MaxCols; i++) {\n            let col: string[] = [];\n            for (let j = 1; j <= MaxRows; j++) {\n                col[j] = formatText(item.text, i, j);\n            }\n            result[i] = col;\n        }\n        return result;\n    }, [item.text]);\n\n    const items = React.useMemo(() => {\n        const items: JSX.Element[] = [];\n\n        for (let i = 1; i <= MaxRows; i++) {\n            for (let j = 1; j <= MaxCols; j++) {\n                const key = `cell_${i}_${j}`;\n                const isSelected = j <= col && i <= row;\n                items.push(\n                    <button\n                        className={\n                            classNames.tableButton + ' ' + (isSelected ? classNames.hovered : '')\n                        }\n                        onClick={onClickButton}\n                        key={key}\n                        id={key}\n                        data-col={j}\n                        data-row={i}\n                        data-is-focusable={true}\n                        onMouseEnter={onMouseEnter}\n                        aria-label={ariaLabels[i][j]}\n                    />\n                );\n            }\n        }\n\n        return items;\n    }, [col, row]);\n\n    const text = formatText(item.text, row, col);\n\n    return (\n        <div className={classNames.tablePaneInner}>\n            <div className={classNames.title}>{text}</div>\n            <FocusZone\n                defaultActiveElement=\"cell_1_1\"\n                direction={FocusZoneDirection.bidirectional}\n                onActiveElementChanged={updateSize}>\n                {items}\n            </FocusZone>\n        </div>\n    );\n}\n\nfunction formatText(text: string, row: number, col: number) {\n    return text.replace('{0}', col.toString()).replace('{1}', row.toString());\n}\n\nfunction createKey(row: number, col: number) {\n    return `${row},${col}`;\n}\n\nfunction parseKey(key: string): { row: number; col: number } {\n    const [row, col] = key.split(',');\n    return {\n        row: parseInt(row),\n        col: parseInt(col),\n    };\n}\n","import RibbonButton from '../../type/RibbonButton';\nimport { ItalicButtonStringKey } from '../../type/RibbonButtonStringKeys';\nimport { toggleItalic } from 'roosterjs-editor-api';\n\n/**\n * @internal\n * \"Italic\" button on the format ribbon\n */\nexport const italic: RibbonButton<ItalicButtonStringKey> = {\n    key: 'buttonNameItalic',\n    unlocalizedText: 'Italic',\n    iconName: 'Italic',\n    isChecked: formatState => formatState.isItalic,\n    onClick: editor => {\n        toggleItalic(editor);\n        return true;\n    },\n};\n","import RibbonButton from '../../type/RibbonButton';\nimport { Direction } from 'roosterjs-editor-types';\nimport { LtrButtonStringKey } from '../../type/RibbonButtonStringKeys';\nimport { setDirection } from 'roosterjs-editor-api';\n\n/**\n * @internal\n * \"Left to right\" button on the format ribbon\n */\nexport const ltr: RibbonButton<LtrButtonStringKey> = {\n    key: 'buttonNameLtr',\n    unlocalizedText: 'Left to right',\n    iconName: 'BidiLtr',\n    onClick: editor => {\n        setDirection(editor, Direction.LeftToRight);\n    },\n};\n","import RibbonButton from '../../type/RibbonButton';\nimport { NumberedListButtonStringKey } from '../../type/RibbonButtonStringKeys';\nimport { toggleNumbering } from 'roosterjs-editor-api';\n\n/**\n * @internal\n * \"Numbered list\" button on the format ribbon\n */\nexport const numberedList: RibbonButton<NumberedListButtonStringKey> = {\n    key: 'buttonNameNumberedList',\n    unlocalizedText: 'Numbered list',\n    iconName: 'NumberedList',\n    isChecked: formatState => formatState.isNumbering,\n    onClick: editor => {\n        toggleNumbering(editor);\n        return true;\n    },\n};\n","import RibbonButton from '../../type/RibbonButton';\nimport { QuoteButtonStringKey } from '../../type/RibbonButtonStringKeys';\nimport { toggleBlockQuote } from 'roosterjs-editor-api';\n\n/**\n * @internal\n * \"Quote\" button on the format ribbon\n */\nexport const quote: RibbonButton<QuoteButtonStringKey> = {\n    key: 'buttonNameQuote',\n    unlocalizedText: 'Quote',\n    iconName: 'RightDoubleQuote',\n    isChecked: formatState => formatState.isBlockQuote,\n    onClick: editor => {\n        toggleBlockQuote(editor);\n        return true;\n    },\n};\n","import RibbonButton from '../../type/RibbonButton';\nimport { RedoButtonStringKey } from '../../type/RibbonButtonStringKeys';\n\n/**\n * @internal\n * \"Redo\" button on the format ribbon\n */\nexport const redo: RibbonButton<RedoButtonStringKey> = {\n    key: 'buttonNameRedo',\n    unlocalizedText: 'Redo',\n    iconName: 'Redo',\n    isDisabled: formatState => !formatState.canRedo,\n    onClick: editor => {\n        editor.redo();\n        return true;\n    },\n};\n","import RibbonButton from '../../type/RibbonButton';\nimport { removeLink as removeLinkApi } from 'roosterjs-editor-api';\nimport { RemoveLinkButtonStringKey } from '../../type/RibbonButtonStringKeys';\n\n/**\n * @internal\n * \"Remove link\" button on the format ribbon\n */\nexport const removeLink: RibbonButton<RemoveLinkButtonStringKey> = {\n    key: 'buttonNameRemoveLink',\n    unlocalizedText: 'Remove link',\n    iconName: 'RemoveLink',\n    isDisabled: formatState => !formatState.canUnlink,\n    onClick: editor => {\n        removeLinkApi(editor);\n    },\n};\n","import RibbonButton from '../../type/RibbonButton';\nimport { Direction } from 'roosterjs-editor-types';\nimport { RtlButtonStringKey } from '../../type/RibbonButtonStringKeys';\nimport { setDirection } from 'roosterjs-editor-api';\n\n/**\n * @internal\n * \"Right to left\" button on the format ribbon\n */\nexport const rtl: RibbonButton<RtlButtonStringKey> = {\n    key: 'buttonNameRtl',\n    unlocalizedText: 'Right to left',\n    iconName: 'BidiRtl',\n    onClick: editor => {\n        setDirection(editor, Direction.RightToLeft);\n    },\n};\n","import RibbonButton from '../../type/RibbonButton';\nimport { StrikethroughButtonStringKey } from '../../type/RibbonButtonStringKeys';\nimport { toggleStrikethrough } from 'roosterjs-editor-api';\n\n/**\n * @internal\n * \"Strikethrough\" button on the format ribbon\n */\nexport const strikethrough: RibbonButton<StrikethroughButtonStringKey> = {\n    key: 'buttonNameStrikethrough',\n    unlocalizedText: 'Strikethrough',\n    iconName: 'Strikethrough',\n    isChecked: formatState => formatState.isStrikeThrough,\n    onClick: editor => {\n        toggleStrikethrough(editor);\n        return true;\n    },\n};\n","import RibbonButton from '../../type/RibbonButton';\nimport { SubscriptButtonStringKey } from '../../type/RibbonButtonStringKeys';\nimport { toggleSubscript } from 'roosterjs-editor-api';\n\n/**\n * @internal\n * \"Subscript\" button on the format ribbon\n */\nexport const subscript: RibbonButton<SubscriptButtonStringKey> = {\n    key: 'buttonNameSubscript',\n    unlocalizedText: 'Subscript',\n    iconName: 'Subscript',\n    isChecked: formatState => formatState.isSubscript,\n    onClick: editor => {\n        toggleSubscript(editor);\n        return true;\n    },\n};\n","import RibbonButton from '../../type/RibbonButton';\nimport { SuperscriptButtonStringKey } from '../../type/RibbonButtonStringKeys';\nimport { toggleSuperscript } from 'roosterjs-editor-api';\n\n/**\n * @internal\n * \"Superscript\" button on the format ribbon\n */\nexport const superscript: RibbonButton<SuperscriptButtonStringKey> = {\n    key: 'buttonNameSuperscript',\n    unlocalizedText: 'Superscript',\n    iconName: 'Superscript',\n    isChecked: formatState => formatState.isSuperscript,\n    onClick: editor => {\n        toggleSuperscript(editor);\n        return true;\n    },\n};\n","import RibbonButton from '../../type/RibbonButton';\nimport { getColorPickerDropDown, TextColors } from './colorPicker';\nimport { setTextColor } from 'roosterjs-editor-api';\nimport { TextColorButtonStringKey, TextColorKeys } from '../../type/RibbonButtonStringKeys';\n\nconst TextColorDropDownItems: Record<TextColorKeys, string> = {\n    textColorLightBlue: 'Light blue',\n    textColorLightGreen: 'Light green',\n    textColorLightYellow: 'Light yellow',\n    textColorLightOrange: 'Light orange',\n    textColorLightRed: 'Light red',\n    textColorLightPurple: 'Light purple',\n    textColorBlue: 'Blue',\n    textColorGreen: 'Green',\n    textColorYellow: 'Yellow',\n    textColorOrange: 'Orange',\n    textColorRed: 'Red',\n    textColorPurple: 'Purple',\n    textColorDarkBlue: 'Dark blue',\n    textColorDarkGreen: 'Dark green',\n    textColorDarkYellow: 'Dark yellow',\n    textColorDarkOrange: 'Dark orange',\n    textColorDarkRed: 'Dark red',\n    textColorDarkPurple: 'Dark purple',\n    textColorDarkerBlue: 'Darker blue',\n    textColorDarkerGreen: 'Darker green',\n    textColorDarkerYellow: 'Darker yellow',\n    textColorDarkerOrange: 'Darker orange',\n    textColorDarkerRed: 'Darker red',\n    textColorDarkerPurple: 'Darker purple',\n    textColorWhite: 'White',\n    textColorLightGray: 'Light gray',\n    textColorGray: 'Gray',\n    textColorDarkGray: 'Dark gray',\n    textColorDarkerGray: 'Darker gray',\n    textColorBlack: 'Black',\n};\n\n/**\n * @internal\n * \"Text color\" button on the format ribbon\n */\nexport const textColor: RibbonButton<TextColorButtonStringKey> = {\n    dropDownMenu: getColorPickerDropDown(TextColorDropDownItems),\n    key: 'buttonNameTextColor',\n    unlocalizedText: 'Text color',\n    iconName: 'FontColor',\n    onClick: (editor, key: TextColorKeys) => {\n        setTextColor(editor, TextColors[key]);\n    },\n};\n","import RibbonButton from '../../type/RibbonButton';\nimport { toggleUnderline } from 'roosterjs-editor-api';\nimport { UnderlineButtonStringKey } from '../../type/RibbonButtonStringKeys';\n\n/**\n * @internal\n * \"Underline\" button on the format ribbon\n */\nexport const underline: RibbonButton<UnderlineButtonStringKey> = {\n    key: 'buttonNameUnderline',\n    unlocalizedText: 'Underline',\n    iconName: 'Underline',\n    isChecked: formatState => formatState.isUnderline,\n    onClick: editor => {\n        toggleUnderline(editor);\n        return true;\n    },\n};\n","import RibbonButton from '../../type/RibbonButton';\nimport { UndoButtonStringKey } from '../../type/RibbonButtonStringKeys';\n\n/**\n * @internal\n * \"Undo\" button on the format ribbon\n */\nexport const undo: RibbonButton<UndoButtonStringKey> = {\n    key: 'buttonNameUndo',\n    unlocalizedText: 'Undo',\n    iconName: 'undo',\n    isDisabled: formatState => !formatState.canUndo,\n    onClick: editor => {\n        editor.undo();\n        return true;\n    },\n};\n","import RibbonButton from '../type/RibbonButton';\nimport RibbonPlugin from '../type/RibbonPlugin';\nimport { FormatState, IEditor, PluginEvent, PluginEventType } from 'roosterjs-editor-types';\nimport { getFormatState } from 'roosterjs-editor-api';\nimport { LocalizedStrings, UIUtilities } from '../../common/index';\n\n/**\n * A plugin to connect format ribbon component and the editor\n */\nclass RibbonPluginImpl implements RibbonPlugin {\n    private editor: IEditor;\n    private onFormatChanged: (formatState: FormatState) => void;\n    private timer = 0;\n    private formatState: FormatState;\n    private uiUtilities: UIUtilities;\n\n    /**\n     * Construct a new instance of RibbonPlugin object\n     * @param delayUpdateTime The time to wait before refresh the button when user do some editing operation in editor\n     */\n    constructor(private delayUpdateTime: number = 200) {}\n\n    /**\n     * Get a friendly name of this plugin\n     */\n    getName() {\n        return 'Ribbon';\n    }\n\n    /**\n     * Initialize this plugin\n     * @param editor The editor instance\n     */\n    initialize(editor: IEditor) {\n        this.editor = editor;\n    }\n\n    /**\n     * Dispose this plugin\n     */\n    dispose() {\n        this.editor = null;\n    }\n\n    /**\n     * Handle events triggered from editor\n     * @param event PluginEvent object\n     */\n    onPluginEvent(event: PluginEvent) {\n        switch (event.eventType) {\n            case PluginEventType.EditorReady:\n            case PluginEventType.ContentChanged:\n            case PluginEventType.ZoomChanged:\n                this.updateFormat();\n                break;\n\n            case PluginEventType.KeyDown:\n            case PluginEventType.MouseDown:\n                this.delayUpdate();\n                break;\n        }\n    }\n\n    /**\n     * Set the UI utilities objects to this plugin to help render additional UI elements\n     * @param uiUtilities The UI utilities object to set\n     */\n    setUIUtilities(uiUtilities: UIUtilities) {\n        this.uiUtilities = uiUtilities;\n    }\n\n    /**\n     * Register a callback to be invoked when format state of editor is changed, returns a disposer function.\n     */\n    registerFormatChangedCallback(callback: (formatState: FormatState) => void) {\n        this.onFormatChanged = callback;\n\n        return () => {\n            this.onFormatChanged = null;\n        };\n    }\n\n    /**\n     * When user clicks on a button, call this method to let the plugin to handle this click event\n     * @param button The button that is clicked\n     * @param key Key of child menu item that is clicked if any\n     * @param strings The localized string map for this button\n     */\n    onButtonClick<T extends string>(button: RibbonButton<T>, key: T, strings: LocalizedStrings<T>) {\n        if (this.editor) {\n            this.editor.stopShadowEdit();\n\n            button.onClick(this.editor, key, strings, this.uiUtilities);\n\n            if (button.isChecked || button.isDisabled || button.dropDownMenu?.getSelectedItemKey) {\n                this.updateFormat();\n            }\n        }\n    }\n\n    /**\n     * Enter live preview state (shadow edit) of editor if there is a non-collapsed selection\n     * @param button The button that triggered this action\n     * @param key Key of the hovered button sub item\n     * @param strings The localized string map for this button\n     */\n    startLivePreview<T extends string>(\n        button: RibbonButton<T>,\n        key: string,\n        strings: LocalizedStrings<T>\n    ) {\n        if (this.editor) {\n            const isInShadowEdit = this.editor.isInShadowEdit();\n\n            // If editor is already in shadow edit, no need to check again.\n            // And the check result may be incorrect because the content is changed from last shadow edit and the cached selection path won't apply\n            const range = !isInShadowEdit && this.editor.getSelectionRangeEx();\n\n            if (isInShadowEdit || (range && !range.areAllCollapsed)) {\n                this.editor.startShadowEdit();\n                button.onClick(this.editor, key, strings, this.uiUtilities);\n            }\n        }\n    }\n\n    /**\n     * Leave live preview state (shadow edit) of editor\n     */\n    stopLivePreview() {\n        this.editor?.stopShadowEdit();\n    }\n\n    private delayUpdate() {\n        const window = this.editor.getDocument().defaultView;\n\n        if (this.timer) {\n            window.clearTimeout(this.timer);\n        }\n\n        this.timer = window.setTimeout(() => {\n            this.timer = 0;\n            this.updateFormat?.();\n        }, this.delayUpdateTime);\n    }\n\n    private updateFormat() {\n        if (this.editor && this.onFormatChanged) {\n            const newFormatState = getFormatState(this.editor);\n\n            if (\n                !this.formatState ||\n                Object.keys(newFormatState).some(\n                    (key: keyof FormatState) => newFormatState[key] != this.formatState[key]\n                )\n            ) {\n                this.formatState = newFormatState;\n                this.onFormatChanged(newFormatState);\n            }\n        }\n    }\n}\n\n/**\n * Create a new instance of RibbonPlugin object\n * @param delayUpdateTime The time to wait before refresh the button when user do some editing operation in editor\n */\nexport default function createRibbonPlugin(delayUpdateTime?: number): RibbonPlugin {\n    return new RibbonPluginImpl(delayUpdateTime);\n}\n","export { PasteOptionButtonKeys, PasteOptionStringKeys } from './type/PasteOptionStringKeys';\nexport { default as createPasteOptionPlugin } from './plugin/createPasteOptionPlugin';\n","import showPasteOptionPane, { PasteOptionPane } from '../component/showPasteOptionPane';\nimport { ButtonKeys, Buttons } from '../utils/buttons';\nimport { ClipboardData, IEditor, Keys, PluginEvent, PluginEventType } from 'roosterjs-editor-types';\nimport { LocalizedStrings, ReactEditorPlugin, UIUtilities } from '../../common/index';\nimport { PasteOptionButtonKeys, PasteOptionStringKeys } from '../type/PasteOptionStringKeys';\n\nclass PasteOptionPlugin implements ReactEditorPlugin {\n    private clipboardData: ClipboardData | null = null;\n    private editor: IEditor | null = null;\n    private uiUtilities: UIUtilities | null = null;\n    private pasteOptionRef: PasteOptionPane | null = null;\n\n    constructor(private strings?: LocalizedStrings<PasteOptionStringKeys>) {}\n\n    getName() {\n        return 'PasteOption';\n    }\n\n    initialize(editor: IEditor) {\n        this.editor = editor;\n    }\n\n    dispose() {\n        this.pasteOptionRef?.dismiss();\n        this.editor = null;\n    }\n\n    onPluginEvent(event: PluginEvent) {\n        if (event.eventType == PluginEventType.Scroll) {\n            if (this.pasteOptionRef) {\n                this.showPasteOptionPane();\n            }\n        } else if (this.pasteOptionRef) {\n            this.handlePasteOptionPaneEvent(event);\n        } else if (event.eventType == PluginEventType.ContentChanged) {\n            if (event.source == 'Paste') {\n                const clipboardData = event.data as ClipboardData;\n\n                // Only show paste option when we pasted HTML with some format\n                if (clipboardData?.text && clipboardData.types?.indexOf('text/html') >= 0) {\n                    this.clipboardData = clipboardData;\n                    this.showPasteOptionPane();\n                }\n            } else {\n                this.pasteOptionRef?.dismiss();\n            }\n        }\n    }\n\n    setUIUtilities(uiUtilities: UIUtilities) {\n        this.uiUtilities = uiUtilities;\n    }\n\n    private handlePasteOptionPaneEvent(event: PluginEvent) {\n        if (event.eventType == PluginEventType.KeyDown) {\n            const selectedKey = this.pasteOptionRef.getSelectedKey();\n\n            if (!selectedKey) {\n                switch (event.rawEvent.which) {\n                    case Keys.CTRL_LEFT:\n                        this.pasteOptionRef.setSelectedKey(ButtonKeys[0]);\n                        cancelEvent(event.rawEvent);\n                        break;\n\n                    case Keys.ESCAPE:\n                        this.pasteOptionRef.dismiss();\n                        cancelEvent(event.rawEvent);\n                        break;\n\n                    default:\n                        this.pasteOptionRef.dismiss();\n                        break;\n                }\n            } else {\n                const keyboardEvent = event.rawEvent;\n\n                if (keyboardEvent.which != Keys.CTRL_LEFT && keyboardEvent.ctrlKey) {\n                    // Dismiss the paste option when pressing hotkey CTRL+<any key>\n                    this.pasteOptionRef.dismiss();\n                    return;\n                }\n\n                for (let i = 0; i < ButtonKeys.length; i++) {\n                    const key = ButtonKeys[i];\n                    const button = Buttons[key];\n                    if (button.shortcut == String.fromCharCode(keyboardEvent.which)) {\n                        this.onPaste(key);\n                        cancelEvent(keyboardEvent);\n                        return;\n                    }\n                }\n\n                switch (keyboardEvent.which) {\n                    case Keys.ESCAPE:\n                        this.pasteOptionRef.dismiss();\n                        break;\n                    case Keys.LEFT:\n                    case Keys.RIGHT:\n                        const buttonCount = ButtonKeys.length;\n                        const diff =\n                            (keyboardEvent.which == Keys.RIGHT) == this.uiUtilities.isRightToLeft()\n                                ? -1\n                                : 1;\n                        this.pasteOptionRef.setSelectedKey(\n                            ButtonKeys[\n                                (ButtonKeys.indexOf(selectedKey) + diff + buttonCount) % buttonCount\n                            ]\n                        );\n                        break;\n                    case Keys.ENTER:\n                        this.onPaste(selectedKey);\n                        break;\n                    case Keys.CTRL_LEFT:\n                        // Noop\n                        break;\n                    default:\n                        this.pasteOptionRef.dismiss();\n                        return;\n                }\n\n                cancelEvent(keyboardEvent);\n            }\n        }\n    }\n\n    private onDismissed = () => {\n        this.pasteOptionRef = null;\n    };\n\n    private onPaste = (key: PasteOptionButtonKeys) => {\n        if (this.clipboardData) {\n            this.editor.focus();\n\n            switch (key) {\n                case 'pasteOptionPasteAsIs':\n                    this.editor.paste(this.clipboardData);\n                    break;\n\n                case 'pasteOptionPasteText':\n                    this.editor.paste(this.clipboardData, true /*pasteAsText*/);\n                    break;\n\n                case 'pasteOptionMergeFormat':\n                    this.editor.paste(\n                        this.clipboardData,\n                        false /*pasteAsText*/,\n                        true /*applyCurrentFormat*/\n                    );\n                    break;\n            }\n\n            this.pasteOptionRef?.setSelectedKey(key);\n        }\n    };\n\n    private showPasteOptionPane() {\n        this.pasteOptionRef?.dismiss();\n\n        const focusedPosition = this.editor.getFocusedPosition();\n\n        showPasteOptionPane(\n            this.uiUtilities,\n            focusedPosition,\n            this.strings,\n            this.onPaste,\n            this.onDismissed,\n            ref => (this.pasteOptionRef = ref)\n        );\n    }\n}\n\nfunction cancelEvent(event: UIEvent) {\n    event.preventDefault();\n    event.stopPropagation();\n}\n\n/**\n * Create a new instance of PasteOption plugin to show an option pane when paste, so that user can choose\n * an option to change the paste result, including:\n * - Paste as is\n * - Paste as text\n * - Paste and merge format\n * @param strings Localized string for this plugin\n * @returns A paste option plugin\n */\nexport default function createPasteOptionPlugin(\n    strings?: LocalizedStrings<PasteOptionStringKeys>\n): ReactEditorPlugin {\n    return new PasteOptionPlugin(strings);\n}\n","import * as React from 'react';\nimport { ButtonKeys, Buttons } from '../utils/buttons';\nimport { Callout, DirectionalHint } from '@fluentui/react/lib/Callout';\nimport { getLocalizedString, LocalizedStrings, UIUtilities } from '../../common/index';\nimport { getPositionRect } from 'roosterjs-editor-dom';\nimport { Icon } from '@fluentui/react/lib/Icon';\nimport { IconButton } from '@fluentui/react/lib/Button';\nimport { memoizeFunction } from '@fluentui/react/lib/Utilities';\nimport { mergeStyleSets } from '@fluentui/react/lib/Styling';\nimport { Theme, useTheme } from '@fluentui/react/lib/Theme';\nimport type { PasteOptionButtonKeys, PasteOptionStringKeys } from '../type/PasteOptionStringKeys';\nimport type { NodePosition } from 'roosterjs-editor-types';\n\nconst getPasteOptionClassNames = memoizeFunction((theme: Theme) => {\n    const palette = theme.palette;\n\n    return mergeStyleSets({\n        pastePane: {\n            paddingLeft: '4px',\n            minWidth: '72px',\n        },\n        optionPane: {\n            textAlign: 'center',\n            padding: '4px',\n        },\n        icon: {\n            fontSize: '14px',\n        },\n        buttonsContainer: {\n            justifyContent: 'center',\n            display: 'flex',\n        },\n        button: {\n            width: '32px',\n            height: '32px',\n            margin: '0 4px 4px 0',\n            borderRadius: '2px',\n            flex: '0 0 auto',\n            '&:hover': {\n                backgroundColor: palette.themeLighter,\n            },\n        },\n        isChecked: {\n            backgroundColor: palette.themeLight,\n            '&:hover': {\n                backgroundColor: palette.themeLighter,\n            },\n        },\n    });\n});\n\ninterface PasteOptionButtonProps {\n    buttonName: PasteOptionButtonKeys;\n    className: string;\n    paste: (key: PasteOptionButtonKeys) => void;\n    strings: LocalizedStrings<PasteOptionStringKeys>;\n}\n\nfunction PasteOptionButton(props: PasteOptionButtonProps) {\n    const { buttonName, paste, strings, className } = props;\n    const button = Buttons[buttonName];\n    const onClick = React.useCallback(() => {\n        paste(buttonName);\n    }, [paste, buttonName]);\n\n    return (\n        <IconButton\n            className={className}\n            onClick={onClick}\n            title={\n                getLocalizedString(strings, buttonName, button.unlocalizedText) +\n                (button.shortcut ? ` (${button.shortcut})` : '')\n            }\n            iconProps={{ iconName: button.icon }}\n        />\n    );\n}\n\ninterface PasteOptionProps {\n    strings: LocalizedStrings<PasteOptionStringKeys>;\n    position: NodePosition;\n    isRtl: boolean;\n    paste: (key: PasteOptionButtonKeys) => void;\n    dismiss: () => void;\n}\n\n/**\n * @internal\n */\nexport interface PasteOptionPane {\n    getSelectedKey: () => PasteOptionButtonKeys | null;\n    setSelectedKey: (index: PasteOptionButtonKeys) => void;\n    dismiss: () => void;\n}\n\nconst PasteOptionComponent = React.forwardRef(function PasteOptionFunc(\n    props: PasteOptionProps,\n    ref: React.Ref<PasteOptionPane>\n) {\n    const { strings, position, paste, dismiss, isRtl } = props;\n    const theme = useTheme();\n    const classNames = getPasteOptionClassNames(theme);\n    const [selectedKey, setSelectedKey] = React.useState<PasteOptionButtonKeys | null>(null);\n\n    const rect = position && getPositionRect(position);\n    const target = rect && { x: props.isRtl ? rect.left : rect.right, y: rect.bottom };\n\n    React.useImperativeHandle(\n        ref,\n        () => ({\n            dismiss,\n            setSelectedKey,\n            getSelectedKey: () => selectedKey,\n        }),\n        [dismiss, paste, isRtl, selectedKey, setSelectedKey]\n    );\n\n    const buttonPane = React.useRef<HTMLDivElement>(null);\n    const onDismiss = React.useCallback(\n        (evt: UIEvent) => {\n            const target =\n                evt instanceof FocusEvent && evt.relatedTarget instanceof Node\n                    ? evt.relatedTarget\n                    : null;\n            const clickOnButtonPane =\n                target &&\n                buttonPane.current &&\n                (buttonPane.current == target || buttonPane.current.contains(target));\n            if (!clickOnButtonPane) {\n                dismiss();\n            }\n        },\n        [dismiss]\n    );\n\n    const onClickShowSubMenu = React.useCallback(\n        (event: React.MouseEvent<HTMLDivElement>) => {\n            setSelectedKey(ButtonKeys[0]);\n            event.preventDefault();\n            event.stopPropagation();\n        },\n        [setSelectedKey]\n    );\n\n    return (\n        <Callout\n            gapSpace={10}\n            isBeakVisible={false}\n            target={target}\n            directionalHint={\n                isRtl ? DirectionalHint.bottomRightEdge : DirectionalHint.bottomLeftEdge\n            }\n            directionalHintForRTL={DirectionalHint.bottomRightEdge}\n            preventDismissOnScroll={true}\n            onDismiss={onDismiss}>\n            <div ref={buttonPane} className={classNames.pastePane}>\n                <div onClick={onClickShowSubMenu} className={classNames.optionPane}>\n                    <Icon iconName={'Paste'} className={classNames.icon} />\n                    {getLocalizedString(strings, 'pasteOptionPaneText', '(Ctrl)')}\n                </div>\n                {selectedKey && (\n                    <div className={classNames.buttonsContainer}>\n                        {Object.keys(Buttons).map((key: PasteOptionButtonKeys) => (\n                            <PasteOptionButton\n                                key={key}\n                                strings={strings}\n                                paste={paste}\n                                buttonName={key}\n                                className={\n                                    classNames.button +\n                                    ' ' +\n                                    (selectedKey == key ? classNames.isChecked : '')\n                                }\n                            />\n                        ))}\n                    </div>\n                )}\n            </div>\n        </Callout>\n    );\n});\n\n/**\n * @internal Show paste open pane component\n * @param uiUtilities The UI utilities object to help render component\n * @param position Target position\n * @param strings Localize string for this component\n * @param onPaste A callback to be called when user click on a paste button\n * @param onDismissed A callback to be called when this component is dismissed\n * @param onGetRef A callback to be called to set a reference of this component\n */\nexport default function showPasteOptionPane(\n    uiUtilities: UIUtilities,\n    position: NodePosition,\n    strings: LocalizedStrings<PasteOptionStringKeys>,\n    onPaste: (key: PasteOptionButtonKeys) => void,\n    onDismissed: () => void,\n    onGetRef: (ref: PasteOptionPane) => void\n) {\n    let disposer: (() => void) | null = null;\n    const onDismiss = () => {\n        disposer?.();\n        disposer = null;\n        onDismissed();\n    };\n\n    disposer = uiUtilities.renderComponent(\n        <PasteOptionComponent\n            ref={onGetRef}\n            position={position}\n            strings={strings}\n            isRtl={uiUtilities.isRightToLeft()}\n            dismiss={onDismiss}\n            paste={onPaste}\n        />\n    );\n}\n","import { editTable } from 'roosterjs-editor-api';\nimport { FormatState, IEditor, TableOperation } from 'roosterjs-editor-types';\nimport { RibbonButton } from 'roosterjs-react';\n\ntype TableAlignmentOperationsKey =\n    | 'alignLeft'\n    | 'alignRight'\n    | 'alignTop'\n    | 'alignCenter'\n    | 'alignMiddle'\n    | 'alignBottom';\n\n/**\n * Key of localized strings of Table Edit Operations button\n */\nexport type TableAlignmentOperationsStringKey = 'buttonNameTableAlignmentOperations';\n\nconst tableAlignmentOperationsLabel: Record<TableAlignmentOperationsKey, string> = {\n    alignTop: 'Align Top',\n    alignMiddle: 'Align Middle',\n    alignBottom: 'Align Bottom',\n    alignCenter: 'Align Center',\n    alignLeft: 'Align Left',\n    alignRight: 'Align Right',\n};\n\nconst tableAlignmentOperations: Record<TableAlignmentOperationsKey, TableOperation> = {\n    alignTop: TableOperation.AlignCellTop,\n    alignMiddle: TableOperation.AlignCellMiddle,\n    alignBottom: TableOperation.AlignCellBottom,\n    alignCenter: TableOperation.AlignCellCenter,\n    alignLeft: TableOperation.AlignCellLeft,\n    alignRight: TableOperation.AlignCellRight,\n};\n\n/**\n * @internal\n * \"TableAlignmentOperations\" button on the format ribbon\n */\nexport const tableAlign: RibbonButton<TableAlignmentOperationsStringKey> = {\n    key: 'buttonNameTableAlignmentOperations',\n    unlocalizedText: 'Table Alignment Operations',\n    iconName: 'TableComputed',\n    dropDownMenu: {\n        items: tableAlignmentOperationsLabel,\n    },\n    isDisabled: (format: FormatState) => {\n        return format.isInTable ? false : true;\n    },\n    onClick: (editor, key: TableAlignmentOperationsKey) => {\n        editTableOperation(editor, tableAlignmentOperations[key]);\n    },\n};\n\nfunction editTableOperation(editor: IEditor, operation: TableOperation) {\n    editTable(editor, operation);\n}\n","var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../node_modules/sass-loader/dist/cjs.js!./MainPane.scss\");\nvar loader = require(\"/home/runner/work/roosterjs/roosterjs/node_modules/@microsoft/loader-load-themed-styles/node_modules/@microsoft/load-themed-styles/lib/index.js\");\n\nif(typeof content === \"string\") content = [[module.id, content]];\n\n// add the styles to the DOM\nfor (var i = 0; i < content.length; i++) loader.loadStyles(content[i][1], false);\n\nif(content.locals) module.exports = content.locals;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"@media(prefers-color-scheme: dark){button{background-color:#0091a1;color:#aaf7ff;border:solid 1px #007b8b}select,input,textarea{background-color:#333;color:#aaf7ff;border:solid 1px #007b8b}}._2bo1k8lHl_uV-BG6znDJAB{display:flex;flex-direction:column;width:100%;height:100%}._2w6Qajx0rNoAfiZ90ELvWi{flex:0 0 auto}.Wu-w1vnX5xXDlokHB7qep{flex:1 1 auto;position:relative;display:flex}._1QRxv0rbFhdjIh9rjvd2w4{width:\\\"100%\\\";min-width:200px;flex-grow:1;flex-shrink:1;position:relative}._3a-q_waO25gsrEedKcbvzq{border:solid 1px #0bc;overflow:auto;padding:10px;outline:none;position:absolute;left:0;top:0;right:0;bottom:0}._2fUtCc9nx7qZAmJvSYE2Ij{flex-grow:0;flex-shrink:0;width:6px;cursor:col-resize}._2fUtCc9nx7qZAmJvSYE2Ij:hover{background-color:#ccc}._2ksqVkP0P8VOnkTSDwC9gZ{flex-grow:0;flex-shrink:0;width:30px;cursor:hand;white-space:nowrap}._2ksqVkP0P8VOnkTSDwC9gZ div{transform:rotate(-90deg)}._2ksqVkP0P8VOnkTSDwC9gZ:hover{background-color:#ccc}.p_p04H6Z22MyE14zIJ1QR{min-width:340px;flex-shrink:0;flex-grow:0;width:300px}.p_p04H6Z22MyE14zIJ1QR._3aTZ87z1JhQNydo6VrKJpL{width:100%}@media(prefers-color-scheme: dark){._3a-q_waO25gsrEedKcbvzq{border:solid 1px #007b8b}}\", \"\"]);\n// Exports\nexports.locals = {\n\t\"mainPane\": \"_2bo1k8lHl_uV-BG6znDJAB\",\n\t\"noGrow\": \"_2w6Qajx0rNoAfiZ90ELvWi\",\n\t\"body\": \"Wu-w1vnX5xXDlokHB7qep\",\n\t\"editorContainer\": \"_1QRxv0rbFhdjIh9rjvd2w4\",\n\t\"editor\": \"_3a-q_waO25gsrEedKcbvzq\",\n\t\"resizer\": \"_2fUtCc9nx7qZAmJvSYE2Ij\",\n\t\"showSidePane\": \"_2ksqVkP0P8VOnkTSDwC9gZ\",\n\t\"sidePane\": \"p_p04H6Z22MyE14zIJ1QR\",\n\t\"sidePaneFullWidth\": \"_3aTZ87z1JhQNydo6VrKJpL\"\n};\nmodule.exports = exports;\n"],"sourceRoot":""}